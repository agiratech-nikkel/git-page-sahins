"use strict";(self.webpackChunksahins=self.webpackChunksahins||[]).push([[480],{5578:(J,S,f)=>{f.d(S,{W:()=>g});class g{static generateUniqueId(t="",d="-",p=!0){const m=Date.now().toString(36)+Math.random().toString(36).substr(2);return p?`${t}${d}${m}`:`${m}${d}${t}`}static removeDuplicate(t,d=""){return t&&t.filter(d?(p,m)=>t.findIndex(_=>_[d]==p[d])===m:(p,m)=>t.indexOf(p)===m)}static shallowClone(t){if(t)return Array.isArray(t)?[...t]:{...t}}static deepClone(t){if(t)return JSON.parse(JSON.stringify(t))}static removeHTMLElementById(t){const d=document.getElementById(t);return!!d&&(d.remove(),!0)}static isArrayEqual(t,d){if(t===d)return!0;if(null==t||null==d||t.length!==d.length)return!1;t=t.sort(),d=d.sort();for(let p=0;p<t.length;++p)if(t[p]!==d[p])return!1;return!0}static formatUrlWithParams(t,d){return t&&d&&Object.keys(d).forEach((p,m)=>{if(d[p]&&null!==d[p]){let _="&";0===m&&(_="?"),t+=`${_}${p}=${d[p]}`}}),t}static makeString(t,d="and"){if(1===t.length)return t[0];const p=t.slice(0,t.length-1),m=t[t.length-1];let _=p.join(", ");return m&&t.length>1&&(_=_+" "+d+" "+m),_}static removeEmptyOrNull(t){return Object.keys(t).map(d=>{(""==t[d]||null===t[d]||"string"==typeof t[d]&&""==t[d].trim())&&delete t[d]}),t}static removeEmptyOrNullRecursive(t){return Object.entries(t).forEach(([d,p])=>p&&"object"==typeof p&&this.removeEmptyOrNullRecursive(p)||(null===p||""===p||void 0===p)&&delete t[d]),t}static removeEmptyArrayAndEmptyObject(t){return t&&(Object.keys(t).forEach(d=>{const p=t[d];(Array.isArray(p)&&0===p.length||p&&!Array.isArray(p)&&"object"==typeof p&&0===Object.keys(p).length)&&delete t[d]}),t)}static isObjectNotEmpty(t){return!!t&&"object"==typeof t&&Object.keys(t).length>0}static isFunction(t){return"function"==typeof t}static constrain(t,d=-1/0,p=1/0){return Math.min(p,Math.max(t,d))}disallowSpecialChar(t){var d;return(d=t.charCode)>64&&d<91||d>96&&d<123||8==d||32==d||d>=48&&d<=57}}},9480:(J,S,f)=>{f.r(S),f.d(S,{MasterManagementModule:()=>si});var g=f(6895),v=f(1390),t=f(4650);let d=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-master-management"]],decls:1,vars:0,template:function(e,a){1&e&&t._UZ(0,"router-outlet")},dependencies:[v.lC],changeDetection:0}),n})();var p=f(8739),m=f(7155),_=f(9196),C=f(9230),x=f(7392),U=f(1576),P=f(4850),Z=f(1572);function K(n,o){1&n&&(t.TgZ(0,"th",23),t._uU(1,"Rate List"),t.qZA())}function V(n,o){if(1&n&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function W(n,o){1&n&&(t.TgZ(0,"th",23),t._uU(1,"From Date"),t.qZA())}function X(n,o){if(1&n&&(t.TgZ(0,"td",24),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.from_date)," ")}}function tt(n,o){1&n&&(t.TgZ(0,"th",23),t._uU(1,"To Date"),t.qZA())}function et(n,o){if(1&n&&(t.TgZ(0,"td",24),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.to_date)," ")}}function nt(n,o){1&n&&(t.TgZ(0,"th",23),t._uU(1,"Action"),t.qZA())}function at(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"td",25)(1,"mat-icon",26),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.editReferralComm(r.id))}),t.qZA(),t.TgZ(2,"mat-icon",27),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.deleteReferralComm(r.id))}),t.qZA()()}}function it(n,o){1&n&&t._UZ(0,"tr",28)}function ot(n,o){1&n&&t._UZ(0,"tr",29)}function rt(n,o){if(1&n&&(t.TgZ(0,"table",13),t.ynx(1,14),t.YNc(2,K,2,0,"th",15),t.YNc(3,V,2,1,"td",16),t.BQk(),t.ynx(4,17),t.YNc(5,W,2,0,"th",15),t.YNc(6,X,3,3,"td",16),t.BQk(),t.ynx(7,18),t.YNc(8,tt,2,0,"th",15),t.YNc(9,et,3,3,"td",16),t.BQk(),t.ynx(10,19),t.YNc(11,nt,2,0,"th",15),t.YNc(12,at,3,0,"td",20),t.BQk(),t.YNc(13,it,1,0,"tr",21),t.YNc(14,ot,1,0,"tr",22),t.qZA()),2&n){const e=t.oxw();t.Q6J("dataSource",e.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns)}}function st(n,o){1&n&&(t.TgZ(0,"div",30),t._UZ(1,"mat-spinner",31),t.qZA())}function ct(n,o){1&n&&(t.TgZ(0,"div",32),t._uU(1,"No data available!"),t.qZA())}function mt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"mat-paginator",33),t.NdJ("page",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.getPageEvent(i))}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("length",e.tableLength)("pageIndex",(e.clientsPagination.page||1)-1)("pageSize",e.clientsPagination.perPage)("pageSizeOptions",e.clientsPagination.paginationSizes)("showFirstLastButtons",!0)}}let lt=(()=>{class n{constructor(e,a,i){this.router=e,this.masterservice=a,this.cdr=i,this.isEmpty=!1,this.isLoading=!1,this.displayedColumns=["rateList","fromDate","toDate","action"],this.ELEMENT_DATA=[{rateList:"Change",fromDate:"15/07/2022",toDate:"15/07/2022",action:""}],this.dataSource=new m.by(this.ELEMENT_DATA),this.clientsPagination=new _.p({page:1,perPage:5,total:this.tableLength})}ngOnInit(){this.getAllReferallCommission()}getPageEvent(e){console.log("pageevent",e),this.clientsPagination.doPagination(e),this.getAllReferallCommission()}getAllReferallCommission(){this.isLoading=!0,this.masterservice.getAllReferralCommissionpagination(this.clientsPagination.perPage,this.clientsPagination.page).subscribe(e=>{"success"==e.status&&(this.isLoading=!1,console.log(e.data),this.tariffData=e.data.results,this.dataSource=new m.by(this.tariffData),this.tableLength=this.dataSource.data.length,0==this.dataSource.data.length&&(this.isEmpty=!0),this.cdr.markForCheck())})}addNewTariff(){this.router.navigateByUrl("master/referrals/cancellation/")}editReferralComm(e){console.log(this.router.navigateByUrl("master/referrals/cancellation/"+e)),this.router.navigateByUrl("master/referrals/cancellation/"+e)}deleteReferralComm(e){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(v.F0),t.Y36(C.m),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-referal-commission"]],viewQuery:function(e,a){if(1&e&&t.Gf(p.NW,5),2&e){let i;t.iGM(i=t.CRH())&&(a.paginator=i.first)}},decls:18,vars:4,consts:[[1,"add-referral-comm"],[1,"primary"],["fxLayout","row",1,"add-referral-comm__action"],[1,"action-buttons"],[1,"btn"],[1,"btn-icons",3,"click"],["svgIcon","appContactForm"],[1,"add-referral-comm__table"],[1,"agm-table--container"],["mat-table","","class","mat-elevation-z8 agm-table",3,"dataSource",4,"ngIf"],["style","\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          background: white;\n        ",4,"ngIf"],["class","empty-row",4,"ngIf"],[3,"length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons","page",4,"ngIf"],["mat-table","",1,"mat-elevation-z8","agm-table",3,"dataSource"],["matColumnDef","rateList"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","fromDate"],["matColumnDef","toDate"],["matColumnDef","action"],["mat-cell","","class","agm-table--actions",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"agm-table--actions"],["svgIcon","appEditAction",3,"click"],["svgIcon","appDeleteAction",3,"click"],["mat-header-row",""],["mat-row",""],[2,"display","flex","justify-content","center","align-items","center","background","white"],["diameter","70",2,"margin-top","25px","margin-bottom","25px"],[1,"empty-row"],[3,"length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons","page"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0)(1,"h3",1),t._uU(2,"Referral Commission"),t.qZA(),t.TgZ(3,"section",2)(4,"div",3)(5,"div",4)(6,"button",5),t.NdJ("click",function(){return a.addNewTariff()}),t.TgZ(7,"span")(8,"b"),t._uU(9," Add New Tariff "),t.qZA()(),t._UZ(10,"mat-icon",6),t.qZA()()()(),t._UZ(11,"mat-divider"),t.TgZ(12,"section",7)(13,"div",8),t.YNc(14,rt,15,3,"table",9),t.YNc(15,st,2,0,"div",10),t.YNc(16,ct,2,0,"div",11),t.YNc(17,mt,1,5,"mat-paginator",12),t.qZA()()()),2&e&&(t.xp6(14),t.Q6J("ngIf",!a.isLoading),t.xp6(1),t.Q6J("ngIf",a.isLoading),t.xp6(1),t.Q6J("ngIf",a.isEmpty),t.xp6(1),t.Q6J("ngIf",!a.isLoading&&!a.isEmpty))},dependencies:[g.O5,x.Hw,U.xw,P.d,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,Z.Ou,p.NW,g.uU],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@500&display=swap";  .add-referral-comm{padding:2.6rem;font-family:Poppins,sans-serif}  .add-referral-comm h3{font-family:Poppins,sans-serif}  .add-referral-comm__action{justify-content:end;margin:2.5rem 5.5rem 1rem}  .add-referral-comm__action p{color:#043752e6}  .add-referral-comm__table{margin:2.5rem 4.5rem 1rem}  .add-referral-comm__table .mat-form-field{text-align:center}@media only screen and (min-width: 481px) and (max-width: 768px){  .add-referral-comm h3{font-size:1.1rem}  .add-referral-comm__action p{font-size:.9rem}}@media (max-width: 480px){  .add-referral-comm{padding:2rem}  .add-referral-comm h3{font-size:1rem;text-align:center}  .add-referral-comm__action p{font-size:.8rem}  .add-referral-comm__action{align-items:center;justify-content:center}}@media only screen and (min-width: 0) and (max-width: 576px){  .add-referral-comm .add-referral-comm__table{margin:2.5rem 0 1rem}}'],changeDetection:0}),n})();var c=f(4006),pt=f(5578),y=f(4004),O=f(7009),h=f(9549),M=f(284),D=f(4859),N=f(4385),k=f(3238),R=f(6709),T=f(9602),Q=f(2179);function dt(n,o){1&n&&(t.TgZ(0,"h3",42),t._uU(1,"Add New Commission"),t.qZA())}function ft(n,o){1&n&&(t.TgZ(0,"h3",42),t._uU(1,"Edit Commission"),t.qZA())}function gt(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Rate List Name is required "),t.qZA())}function ut(n,o){if(1&n&&(t.TgZ(0,"mat-option",43),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function _t(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",44),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.commissionValue(i.commissionForm))}),t._uU(1," Save "),t.qZA()}}function ht(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",44),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.updateCommissionValue(i.commissionForm))}),t._uU(1," update "),t.qZA()}}function Ct(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"From Date is required "),t.qZA())}function yt(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"To Date is required "),t.qZA())}function bt(n,o){1&n&&(t.TgZ(0,"th",55),t._uU(1,"S.No"),t.qZA())}function vt(n,o){if(1&n&&(t.TgZ(0,"td",56),t._uU(1),t.qZA()),2&n){const e=o.index;t.xp6(1),t.hij(" ",e+1," ")}}function Tt(n,o){1&n&&(t.TgZ(0,"th",55),t._uU(1,"Department"),t.qZA())}function xt(n,o){if(1&n&&(t.TgZ(0,"td",56),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Oqu(e.name)}}function Zt(n,o){1&n&&(t.TgZ(0,"th",55),t._uU(1,"Select"),t.qZA())}function Ot(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"td",56)(1,"mat-checkbox",57),t.NdJ("change",function(i){const r=t.CHM(e),s=r.$implicit,l=r.index,u=t.oxw(2);return t.KtG(u.departmentSelectBoxChanges(i,s,u.departmentForm,l))}),t.qZA()()}if(2&n){const e=o.$implicit;t.xp6(1),t.Q6J("checked",e.is_modified)}}function wt(n,o){1&n&&(t.TgZ(0,"th",55),t._uU(1,"Commision (%)"),t.qZA())}function Pt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"td",58)(1,"div",59)(2,"mat-form-field",60)(3,"input",61),t.NdJ("input",function(i){const r=t.CHM(e),s=r.$implicit,l=r.index,u=t.oxw(2);return t.KtG(u.departmentDiscountFunc(i.target,s,l))}),t.qZA()()()()}if(2&n){const e=o.$implicit;t.xp6(3),t.Q6J("value",e.deptDiscount)}}function At(n,o){1&n&&t._UZ(0,"tr",62)}function Mt(n,o){1&n&&t._UZ(0,"tr",63)}function Dt(n,o){if(1&n&&(t.TgZ(0,"form",2)(1,"table",45),t.ynx(2,46),t.YNc(3,bt,2,0,"th",47),t.YNc(4,vt,2,1,"td",48),t.BQk(),t.ynx(5,49),t.YNc(6,Tt,2,0,"th",47),t.YNc(7,xt,2,1,"td",48),t.BQk(),t.ynx(8,50),t.YNc(9,Zt,2,0,"th",47),t.YNc(10,Ot,2,1,"td",48),t.BQk(),t.ynx(11,51),t.YNc(12,wt,2,0,"th",47),t.YNc(13,Pt,4,1,"td",52),t.BQk(),t.YNc(14,At,1,0,"tr",53),t.YNc(15,Mt,1,0,"tr",54),t.qZA()()),2&n){const e=t.oxw();t.Q6J("formGroup",e.departmentForm),t.xp6(1),t.Q6J("dataSource",e.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns)}}function Nt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"mat-paginator",64,65),t.NdJ("page",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.getPageEvent(i))}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("length",e.tableLength||0)("pageIndex",(e.departmentPagination.page||1)-1)("pageSize",e.departmentPagination.perPage)("pageSizeOptions",e.departmentPagination.paginationSizes)("showFirstLastButtons",!0)}}function Ut(n,o){1&n&&(t.TgZ(0,"th",55),t._uU(1,"S.No"),t.qZA())}function kt(n,o){if(1&n&&(t.TgZ(0,"td",56),t._uU(1),t.qZA()),2&n){const e=o.index;t.xp6(1),t.hij(" ",e+1," ")}}function It(n,o){1&n&&(t.TgZ(0,"th",55),t._uU(1,"Department"),t.qZA())}function St(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function Ft(n,o){if(1&n&&(t.TgZ(0,"td",56),t.YNc(1,St,2,1,"span",68),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngForOf",e.departments)}}function qt(n,o){1&n&&(t.TgZ(0,"th",55),t._uU(1,"Modified"),t.qZA())}function Rt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"td",56)(1,"mat-checkbox",57),t.NdJ("change",function(){const r=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.testSelectFunc(r))}),t.qZA()()}if(2&n){const e=o.$implicit;t.xp6(1),t.Q6J("checked",e.is_modified)}}function Yt(n,o){1&n&&(t.TgZ(0,"th",55),t._uU(1,"Test Name"),t.qZA())}function Jt(n,o){if(1&n&&(t.TgZ(0,"td",56),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Oqu(e.name)}}function Qt(n,o){1&n&&(t.TgZ(0,"th",55),t._uU(1,"Amount"),t.qZA())}function Et(n,o){if(1&n&&(t.TgZ(0,"td",56),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.price)," ")}}function Lt(n,o){1&n&&(t.TgZ(0,"th",55),t._uU(1,"Commision (Rs)"),t.qZA())}function Bt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"td",56)(1,"div",59)(2,"mat-form-field",60)(3,"input",69),t.NdJ("input",function(i){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.testDiscountFunc(i.target,s))}),t.qZA()()()()}if(2&n){const e=o.$implicit;t.xp6(3),t.Q6J("value",e.discountprice)}}function zt(n,o){1&n&&t._UZ(0,"tr",62)}function jt(n,o){1&n&&t._UZ(0,"tr",63)}function Ht(n,o){if(1&n&&(t.TgZ(0,"form",2)(1,"table",45),t.ynx(2,46),t.YNc(3,Ut,2,0,"th",47),t.YNc(4,kt,2,1,"td",48),t.BQk(),t.ynx(5,49),t.YNc(6,It,2,0,"th",47),t.YNc(7,Ft,2,1,"td",48),t.BQk(),t.ynx(8,50),t.YNc(9,qt,2,0,"th",47),t.YNc(10,Rt,2,1,"td",48),t.BQk(),t.ynx(11,66),t.YNc(12,Yt,2,0,"th",47),t.YNc(13,Jt,2,1,"td",48),t.BQk(),t.ynx(14,67),t.YNc(15,Qt,2,0,"th",47),t.YNc(16,Et,3,3,"td",48),t.BQk(),t.ynx(17,51),t.YNc(18,Lt,2,0,"th",47),t.YNc(19,Bt,4,1,"td",48),t.BQk(),t.YNc(20,zt,1,0,"tr",53),t.YNc(21,jt,1,0,"tr",54),t.qZA()()),2&n){const e=t.oxw();t.Q6J("formGroup",e.testForm),t.xp6(1),t.Q6J("dataSource",e.dataSourceRight),t.xp6(19),t.Q6J("matHeaderRowDef",e.displayedColumns1),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns1)}}function Gt(n,o){1&n&&(t.TgZ(0,"div"),t._UZ(1,"mat-spinner",70),t.qZA())}function $t(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"mat-paginator",64,71),t.NdJ("page",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.getPageEventRight(i))}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("length",e.tableLengthRight||0)("pageIndex",(e.testNamePagination.page||1)-1)("pageSize",e.testNamePagination.perPage)("pageSizeOptions",e.testNamePagination.paginationSizes)("showFirstLastButtons",!0)}}let E=(()=>{class n{constructor(e,a,i,r,s,l,u,b){this.fb=e,this.activeRouter=a,this.masterService=i,this.snackBar=r,this.cdr=s,this.datePipe=l,this.router=u,this.snackBbar=b,this.selectedDepartment={},this.rateLists=[],this.spinner=!0,this.spinnerRight=!0,this.departmentData=[],this.rateListData={},this.testData=[],this.testDataAdd=[],this.deptDataAdd=[],this.dataSource=new m.by(this.departmentValue),this.dataSourceRight=new m.by(this.testData),this.headingValue=!0,this.inputDataFetch=!0,this.create=!1,this.dataPerPage=10,this.pageSizeOption=[5,25,50],this.pageSizeOptionRight=[5,25,50],this.modifiedTests=[],this.selectedTestCommission={},this.selArray=[],this.rateListArray=[],this.todayDate=this.datePipe.transform(new Date,"yyyy-MM-dd"),this.deptPageEvnt=!1,this.testPageEvnt=!1,this.testNamePagination=new _.p({page:1,perPage:this.dataPerPage,total:this.total}),this.departmentPagination=new _.p({page:1,perPage:this.dataPerPage,total:this.total}),this.foods=[{value:"steak-0",viewValue:"Steak"},{value:"pizza-1",viewValue:"Pizza"},{value:"tacos-2",viewValue:"Tacos"}],this.displayedColumns=["slNo","deptName","isModified","commision"],this.displayedColumns1=["slNo","deptName","isModified","testName","amount","commision"]}set paginatordept(e){e&&(this.dataSource.paginator=e),this.cdr.markForCheck()}set paginatorTest(e){e&&(this.dataSourceRight.paginator=e),this.cdr.markForCheck()}getPageEvent(e){this.deptPageEvnt=!0,this.spinnerRight=!0,this.departmentPagination.doPagination(e),this.getAllDepartment()}getPageEventRight(e){this.deptPageEvnt=!0,this.spinnerRight=!0,this.testNamePagination.doPagination(e),this.getAllTest()}ngOnInit(){this.commissionEditId=this.activeRouter.snapshot.params.id,this.commissionEditId?(this.getCommission(this.commissionEditId),this.get1commission(),this.headingValue=!1,this.inputDataFetch=!0):this.create=!0,this.getAllTest(),this.getAllDepartment(),this.getAllReferallCommission(),this.commissionFormBulider(),this.departmentFormBulider(),this.testFormBulider()}getAllTest(){this.masterService.getSearchTestLists(this.testNamePagination.perPage,this.testNamePagination.page).pipe((0,y.U)(e=>{const a=[];for(const i in e.data.results)e.data.results.hasOwnProperty(i)&&a.push({...e.data.results[i],key:i});return a})).subscribe({next:e=>{this.spinnerRight=!1,this.cdr.markForCheck(),this.testData=e,this.dataSourceRight.data=0!=this.testDataAdd.length?this.testDataAdd:this.testData,this.tableLength=this.dataSourceRight.data.length,this.tableLengthRight=this.dataSourceRight.data.length,this.cdr.markForCheck()},error:e=>console.log(e),complete:()=>{}}),this.commissionDetail&&this.commissionedTests()}get1commission(){this.masterService.getSingleReferralCommission(this.commissionEditId).subscribe(e=>{"success"==e.status&&(this.commissionDetail=e.data,this.cdr.markForCheck(),this.getAllTest())})}commissionedTests(){let e=[];Object.keys(this.commissionDetail).forEach(a=>{const i=this.commissionDetail[a];this.testData.forEach(r=>{r.id==i.commision_details.test.id&&e.push(r)})})}commissionFormBulider(){this.commissionForm=this.fb.group({listName:new c.NI(null,c.kI.required),rateList:new c.NI(null),fromDate:new c.NI(null,c.kI.required),toDate:new c.NI(null,c.kI.required)})}departmentFormBulider(){this.departmentForm=this.fb.group({departmentSelectBox:new c.NI(!1),departmentDiscount:new c.NI(null)})}testFormBulider(){this.testForm=this.fb.group({is_modified:new c.NI(!1),testDiscount:new c.NI(null)})}updateValueInput(e){this.inputDataFetch&&this.commissionForm.patchValue({listName:e.name,fromDate:e.from_date,toDate:e.to_date})}getAllReferallCommission(){this.masterService.getAllReferralCommission().subscribe(e=>{"success"==e.status&&(this.rateLists=e.data,this.cdr.markForCheck())})}commissionValue(e){let a=[];this.testDataAdd.forEach(l=>{if(1==l.is_modified){let u={};Object.assign(u,{test:l.id},{commision:l.discountprice},{is_modified:l.is_modified}),a.push(u)}});const i=this.datePipe.transform(e.value.fromDate,"yyyy/MM/dd"),r=this.datePipe.transform(e.value.toDate,"yyyy/MM/dd");this.masterService.createNewReferralCommission({name:e.value.listName,from_date:i,to_date:r,commision_details:a}).subscribe(l=>{"success"==l.status?(this.snackBbar.open(l.message),this.router.navigateByUrl("master/referrals")):("failed"==l.status||"error"==l.status)&&this.snackBbar.open(l.message)})}updateCommissionValue(e){let a=[];this.testDataAdd.forEach(l=>{if(1==l.is_modified){let u={};Object.assign(u,{test:l.id},{commision:l.discountprice},{is_modified:l.is_modified}),a.push(u)}});const i=this.datePipe.transform(e.value.fromDate,"yyyy/MM/dd"),r=this.datePipe.transform(e.value.toDate,"yyyy/MM/dd");this.masterService.updateSingleReferralCommission(this.commissionEditId,{name:e.value.listName,from_date:i,to_date:r,commision_details:a}).subscribe(l=>{"success"==l.status?(this.snackBbar.open(l.message),this.router.navigateByUrl("master/referrals")):("failed"==l.status||"error"==l.status)&&this.snackBbar.open(l.message)})}selectedRateListFunc(e){this.spinner=!0,this.spinnerRight=!0,this.cdr.markForCheck(),this.selectedRateList=e.value,this.getCommission(this.selectedRateList),this.inputDataFetch=!1}departmentSelectBoxChanges(e,a,i,r){if(1==e.checked)this.spinnerRight=!0,this.departmentName=a.name,this.selectedDepartment[a.id]={discount:"0"};else{for(let s of this.departmentData)s.id==a.id&&Object.assign(s,{deptDiscount:" "});this.rateListArray.length>0&&(this.testDataAdd=this.testDataAdd.concat(this.rateListArray),this.cdr.markForCheck()),this.testDataAdd.forEach(s=>{s.departments[0].id==a.id&&(s.discountprice=null,s.is_modified=!1,this.cdr.markForCheck())}),delete this.selectedDepartment[a.id],this.dataSource.data=this.departmentData,this.dataSourceRight.data=this.testDataAdd,this.cdr.markForCheck()}this.testTableValue()}departmentDiscountFunc(e,a,i){if(""==e.value)this.selectedDepartment[a.id]={discount:"0"};else{this.selectedDepartment[a.id]={discount:e.value};for(let r of this.departmentData)r.id==a.id&&Object.assign(r,{deptDiscount:e.value})}this.testTableValue()}testDiscountFunc(e,a){a.discountAmount!=a.price&&this.testDataAdd.forEach(i=>{a.id==i.id&&""!=e.value&&null!=e.value&&(i.discountprice=e.value,i.is_modified=!0)})}testSelectFunc(e){}testTableValue(){this.testDataAdd=[],Object.keys(this.selectedDepartment).forEach(e=>{const a=this.selectedDepartment[e];this.testData.forEach(i=>{i.departments.forEach(r=>{if(0!=a){if(r.id==e){i.discount=Number(a.discount);const s=Number(i.price),l=Math.floor(i.discount/100*s);i.is_modified=!0,i.discountprice=String(l),this.testDataAdd.push(i)}}else if(r.id==e){i.discount=0;const s=" ";i.is_modified=!1,i.discountprice=String(s),this.testDataAdd.push(i),this.cdr.markForCheck()}})})}),this.spinner=!1,this.cdr.markForCheck(),this.spinnerRight=!1,this.cdr.markForCheck(),0!=this.testDataAdd.length?(this.rateListArray.length>0&&(this.testDataAdd=this.testDataAdd.concat(this.rateListArray),this.testDataAdd=[...new Set(this.testDataAdd)]),this.dataSourceRight.data=pt.W.deepClone(this.testDataAdd),this.cdr.markForCheck()):this.dataSourceRight.data=this.testData}ngDoCheck(){}getCommission(e){this.testDataAdd=[],this.rateListArray=[],this.selectedDepartment={};for(let a of this.departmentData)Object.assign(a,{is_modified:!1},{discountprice:""});this.cdr.markForCheck(),this.masterService.getSingleReferralCommission(e).subscribe(a=>{"success"==a.status&&(this.commissionDetail=a.data,this.updateValueInput(this.commissionDetail),this.selectedTestCommission={commision:"string",idValue:"string",name:"string"},this.cdr.markForCheck(),setTimeout(()=>{this.testData.forEach(i=>{this.commissionDetail.commision_details.forEach(r=>{if(r.test.id==i.id){i.is_modified=!0,i.discountprice=r.commision,this.rateListArray.push(i),this.cdr.markForCheck();for(let s of this.departmentData)i.departments[0].id==s.id&&Object.assign(s,{is_modified:!0})}})}),0!=this.rateListArray.length?(this.testDataAdd=this.testDataAdd.concat(this.rateListArray),this.cdr.markForCheck(),this.spinnerRight=!1,this.dataSourceRight.data=this.testDataAdd,this.dataSource.data=this.departmentData):this.dataSourceRight.data=this.testData},2e3))})}getAllDepartment(){this.masterService.getDepartmentLists(this.departmentPagination.perPage,this.departmentPagination.page).pipe((0,y.U)(e=>{const a=[];for(const i in e.data.results)e.data.results.hasOwnProperty(i)&&a.push({...e.data.results[i],key:i});return a})).subscribe({next:e=>{this.spinnerRight=!1,this.cdr.markForCheck();const a={deptDiscount:""};for(let i of e)Object.assign(i,a);this.departmentData=e,this.dataSource.data=this.departmentData},error:e=>console.log(e)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c.qu),t.Y36(v.gz),t.Y36(C.m),t.Y36(O.ux),t.Y36(t.sBO),t.Y36(g.uU),t.Y36(v.F0),t.Y36(O.ux))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-cancel-referral-commission"]],viewQuery:function(e,a){if(1&e&&(t.Gf(p.NW,5),t.Gf(p.NW,5)),2&e){let i;t.iGM(i=t.CRH())&&(a.paginatordept=i.first),t.iGM(i=t.CRH())&&(a.paginatorTest=i.first)}},decls:81,vars:20,consts:[[1,"cancel-referral-commission"],["class","primary",4,"ngIf"],[3,"formGroup"],[1,"cancel-referral-commission__action"],[1,"row"],[1,"col-lg-6"],[1,"cancel-referral-commission_action-input"],[1,"row","inner-row"],[1,"col-md-4","col-sm-6"],[1,"col-md-8","col-sm-6"],["floatLabel","never","appearance","outline",1,"agm-input-lg","data-input"],["matInput","","formControlName","listName"],[4,"ngIf"],[1,"col-lg-5"],[1,"col-md-8"],[1,"col-md-6","col-sm-6","rate-list-div"],[1,"col-md-6","col-sm-6"],["appearance","outline",1,"agm-select"],["svgIcon","appDropdownCaret","matSuffix",""],["disableOptionCentering","","formControlName","rateList",1,"data-input",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-4"],["mat-button","",3,"click",4,"ngIf"],[1,"col-lg-1"],[1,"col-lg-8"],[1,"col-sm-12","col-lg-6","col-md-6","row","date"],[1,"col-md-5","datelabel"],[1,"col-md-7"],["floatLabel","never","appearance","outline",1,"agm-input-lg","date-input"],["matInput","","formControlName","fromDate","readonly","",1,"primary",3,"matDatepicker","min"],["matSuffix","",3,"for"],["svgIcon","appCalendar","matDatepickerToggleIcon","",1,"calender-icon"],["formdatepicker1",""],["mat-button","","matDatepickerCancel",""],["mat-raised-button","","color","primary","matDatepickerApply",""],["matInput","","formControlName","toDate","readonly","",1,"primary",3,"matDatepicker","min"],["todatepicker",""],[1,"cancel-referral-commission__table"],[1,"col-md-5"],[1,"agm-table--container"],[3,"formGroup",4,"ngIf"],[3,"length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons","page",4,"ngIf"],[1,"primary"],[3,"value"],["mat-button","",3,"click"],["mat-table","",1,"mat-elevation-z8","agm-table",3,"dataSource"],["matColumnDef","slNo"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","deptName"],["matColumnDef","isModified"],["matColumnDef","commision"],["class","","mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["color","primary",1,"select-checkbox",3,"checked","change"],["mat-cell","",1,""],[1,"discount"],["floatLabel","never","appearance","outline","tableInput","true",1,"agm-input-lg","discount-input"],["matInput","",1,"input_Width","inputrightalign",3,"value","input"],["mat-header-row",""],["mat-row",""],[3,"length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons","page"],["paginatordept",""],["matColumnDef","testName"],["matColumnDef","amount"],[4,"ngFor","ngForOf"],["type","number","matInput","","autocomplete","off",1,"input_Width","inputrightalign",3,"value","input"],[1,"spinner"],["paginatorTest",""]],template:function(e,a){if(1&e&&(t.TgZ(0,"div",0),t.YNc(1,dt,2,0,"h3",1),t.YNc(2,ft,2,0,"h3",1),t.TgZ(3,"form",2)(4,"section",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"label"),t._uU(11,"Rate List Name"),t.qZA()(),t.TgZ(12,"div",9)(13,"mat-form-field",10),t._UZ(14,"input",11),t.YNc(15,gt,2,0,"mat-error",12),t.qZA()()()()(),t.TgZ(16,"div",13)(17,"div",4)(18,"div",14)(19,"div",7)(20,"div",15)(21,"label"),t._uU(22,"Rate List"),t.qZA()(),t.TgZ(23,"div",16)(24,"mat-form-field",17),t._UZ(25,"mat-icon",18),t.TgZ(26,"mat-select",19),t.NdJ("selectionChange",function(r){return a.selectedRateListFunc(r)}),t.YNc(27,ut,2,2,"mat-option",20),t.qZA()()()()(),t.TgZ(28,"div",21),t.YNc(29,_t,2,0,"button",22),t.YNc(30,ht,2,0,"button",22),t.qZA()()(),t._UZ(31,"div",23),t.qZA()(),t.TgZ(32,"section",3)(33,"div",4)(34,"div",24)(35,"div",25)(36,"div",26)(37,"label"),t._uU(38,"From Date"),t.qZA()(),t.TgZ(39,"div",27)(40,"mat-form-field",28),t._UZ(41,"input",29),t.TgZ(42,"mat-datepicker-toggle",30),t._UZ(43,"mat-icon",31),t.qZA(),t.TgZ(44,"mat-datepicker",null,32)(46,"mat-datepicker-actions")(47,"button",33),t._uU(48,"Cancel"),t.qZA(),t.TgZ(49,"button",34),t._uU(50," Apply "),t.qZA()()(),t.YNc(51,Ct,2,0,"mat-error",12),t.qZA()()(),t.TgZ(52,"div",25)(53,"div",26)(54,"label"),t._uU(55,"To Date"),t.qZA()(),t.TgZ(56,"div",27)(57,"mat-form-field",28),t._UZ(58,"input",35),t.TgZ(59,"mat-datepicker-toggle",30),t._UZ(60,"mat-icon",31),t.qZA(),t.TgZ(61,"mat-datepicker",null,36)(63,"mat-datepicker-actions")(64,"button",33),t._uU(65,"Cancel"),t.qZA(),t.TgZ(66,"button",34),t._uU(67," Apply "),t.qZA()()(),t.YNc(68,yt,2,0,"mat-error",12),t.qZA()()()()()()(),t._UZ(69,"mat-divider"),t.TgZ(70,"section",37)(71,"div",4)(72,"div",38)(73,"div",39),t.YNc(74,Dt,16,4,"form",40),t.YNc(75,Nt,2,5,"mat-paginator",41),t.qZA()(),t.TgZ(76,"div",27)(77,"div",39),t.YNc(78,Ht,22,4,"form",40),t.YNc(79,Gt,2,0,"div",12),t.YNc(80,$t,2,5,"mat-paginator",41),t.qZA()()()()()),2&e){const i=t.MAs(45),r=t.MAs(62);let s,l,u;t.xp6(1),t.Q6J("ngIf",a.headingValue),t.xp6(1),t.Q6J("ngIf",!a.headingValue),t.xp6(1),t.Q6J("formGroup",a.commissionForm),t.xp6(12),t.Q6J("ngIf",null==(s=a.commissionForm.get("listName"))||null==s.errors?null:s.errors.required),t.xp6(12),t.Q6J("ngForOf",a.rateLists),t.xp6(2),t.Q6J("ngIf",!a.commissionEditId),t.xp6(1),t.Q6J("ngIf",a.commissionEditId),t.xp6(11),t.Q6J("matDatepicker",i)("min",a.todayDate),t.xp6(1),t.Q6J("for",i),t.xp6(9),t.Q6J("ngIf",null==(l=a.commissionForm.get("fromDate"))||null==l.errors?null:l.errors.required),t.xp6(7),t.Q6J("matDatepicker",r)("min",a.todayDate),t.xp6(1),t.Q6J("for",r),t.xp6(9),t.Q6J("ngIf",null==(u=a.commissionForm.get("toDate"))||null==u.errors?null:u.errors.required),t.xp6(6),t.Q6J("ngIf",!a.spinnerRight),t.xp6(1),t.Q6J("ngIf",!a.spinnerRight),t.xp6(3),t.Q6J("ngIf",!a.spinnerRight),t.xp6(1),t.Q6J("ngIf",a.spinnerRight),t.xp6(1),t.Q6J("ngIf",!a.spinnerRight)}},dependencies:[g.sg,g.O5,x.Hw,P.d,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,h.TO,h.KE,h.R9,M.Nt,D.lW,N.gD,k.ey,R.oG,T.Mq,T.hl,T.nW,T.Q0,T.M5,T.dp,T.DK,Z.Ou,p.NW,Q.Q],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@500&display=swap";  .cancel-referral-commission{padding:2.6rem}  .cancel-referral-commission .date{display:flex;align-items:center;justify-content:end}  .cancel-referral-commission .datelabel{text-align:end}  .cancel-referral-commission .mat-column-testName{max-width:150px}  .cancel-referral-commission .mat-column-commision{max-width:150px}  .cancel-referral-commission .discount{display:flex}  .cancel-referral-commission .inputrightalign{text-align:center}  .cancel-referral-commission .commission_input{display:flex;flex-direction:row;align-items:baseline;justify-content:space-evenly}  .cancel-referral-commission .commission_input .prefix{width:20px}  .cancel-referral-commission .commission_input .suffix{width:10px}  .cancel-referral-commission .commission_input .input_Width{width:60%}  .cancel-referral-commission h3{font-family:Poppins,sans-serif}  .cancel-referral-commission__action{margin:2.5rem}  .cancel-referral-commission__action-input{display:flex}  .cancel-referral-commission__action   .mat-form-field-appearance-outline .mat-form-field-outline{background-color:#04375233;border-radius:5px}  .cancel-referral-commission__action   .mat-form-field-wrapper{padding-bottom:0!important}  .cancel-referral-commission__action   .agm-select.mat-form-field-appearance-outline .mat-form-field-outline{background-color:#0437520d;border-radius:5px}  .cancel-referral-commission__action   .mat-icon{width:1rem}  .cancel-referral-commission__action   .mat-select-arrow{opacity:0}  .cancel-referral-commission__action .inner-row{display:flex;align-items:center;text-align:end}  .cancel-referral-commission__action label{color:#26506b;margin-right:30px;font-family:Poppins,sans-serif}  .cancel-referral-commission__action .mat-form-field{width:100%}  .cancel-referral-commission__action .mat-button{background-color:#04375299;color:#fff;padding:13px 30px;font-family:Poppins,sans-serif;width:100%;border-radius:10px}  .cancel-referral-commission__action   .mat-form-field-flex:hover .mat-form-field-outline.mat-form-field-outline-thick{color:#26506b}  .cancel-referral-commission .icon{display:flex;flex-direction:row}  .cancel-referral-commission__table{margin:2.5rem 2.5rem 1rem}  .cancel-referral-commission__table   .mat-form-field-appearance-outline .mat-form-field-outline{background-color:#d9d9d9;border-radius:5px}  .cancel-referral-commission__table   .mat-form-field{text-align:center}  .cancel-referral-commission__table .discount-input{width:100%}  .cancel-referral-commission__table__table .row .col-lg-12:nth-child(2){margin-top:2.5rem}  .cancel-referral-commission__table   .mat-form-field-flex:hover .mat-form-field-outline.mat-form-field-outline-thick{color:#26506b}@media (min-width: 1440px){  .cancel-referral-commission .cancel-referral-comm__table .row{display:flex;overflow-x:auto}}@media (max-width: 1439px){  .cancel-referral-commission .cancel-referral-comm__table .row .col-lg-12:nth-child(2){margin-top:20px}}@media only screen and (min-width: 769px) and (max-width: 1024px){  .cancel-referral-commission .inner-row{margin-top:10px}  .cancel-referral-commission .mat-button{margin-top:10px}}@media only screen and (min-width: 481px) and (max-width: 768px){  .cancel-referral-commission h3{font-size:1.1rem}  .cancel-referral-commission__action p{font-size:.9rem}  .cancel-referral-commission .inner-row{margin-top:10px}  .cancel-referral-commission .mat-button{margin-top:10px}}@media (max-width: 480px){  .cancel-referral-commission{padding:2rem}  .cancel-referral-commission h3{font-size:1rem;text-align:center}  .cancel-referral-commission__action{align-items:center;justify-content:center}  .cancel-referral-commission__action p{font-size:.8rem}  .cancel-referral-commission__action .mat-button{padding:10px 30px}  .cancel-referral-commission__action .inner-row{align-items:flex-start;flex-direction:column}  .cancel-referral-commission__action .inner-row{margin-top:5px}  .cancel-referral-commission__action .mat-button{margin-top:5px}}@media only screen and (min-width: 0) and (max-width: 576px){  .cancel-referral-commission .cancel-referral-comm__action{margin:2.5rem 0rem}  .cancel-referral-commission .cancel-referral-comm__table{margin:2.5rem 0rem}}'],changeDetection:0}),n})();var L=f(5240);let Kt=(()=>{class n{constructor(e,a){this.masterService=e,this.cdr=a,this.sampleStatuses=[{value:"active",viewValue:"Active"},{value:"inactive",viewValue:"Inactive"}],this.columns=["sampleType","status","sampleContainer","action"],this.isLoading=!0,this.isEmpty=!1}ngOnInit(){this.getSampleTypes(),this.getSampleContainers()}getSampleTypes(){this.masterService.getAllSampleTypes().pipe((0,y.U)(e=>{const a=[];for(const i in e.data.Sample_types)e.data.Sample_types.hasOwnProperty(i)&&a.push({...e.data.Sample_types[i],key:i});return a})).subscribe(e=>{this.data=e,this.isLoading=!1,0==e.length&&(this.isEmpty=!0),this.cdr.detectChanges()})}getSampleContainers(){this.masterService.getAllSampleContainers().pipe((0,y.U)(e=>{const a=[];for(const i in e.data.Products)e.data.Products.hasOwnProperty(i)&&a.push({...e.data.Products[i],key:i});return a})).subscribe(e=>{this.containers=e,this.cdr.detectChanges()})}editSampleType(){}deleteSampleType(){}onSave(){}onContainerChange(){}onStatusChange(){}sampleTypeChange(){}tableLoad(e){this.getSampleTypes()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C.m),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-sample-type"]],decls:1,vars:5,consts:[[3,"displayedColumns","data","sampleContainers","isLoading","isEmpty","tableLoad"]],template:function(e,a){1&e&&(t.TgZ(0,"app-agm-sample-type",0),t.NdJ("tableLoad",function(r){return a.tableLoad(r)}),t.qZA()),2&e&&t.Q6J("displayedColumns",a.columns)("data",a.data)("sampleContainers",a.containers)("isLoading",a.isLoading)("isEmpty",a.isEmpty)},dependencies:[L.w],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@500&display=swap";.sample-type[_ngcontent-%COMP%]{padding:2.6rem}.sample-type[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}.sample-type__action[_ngcontent-%COMP%]{margin:2.5rem}.sample-type__action-input[_ngcontent-%COMP%]{display:flex}.sample-type__action[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-outline{background-color:#04375233;border-radius:5px}.sample-type__action[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:0!important}.sample-type__action[_ngcontent-%COMP%]     .agm-select.mat-form-field-appearance-outline .mat-form-field-outline{background-color:#0437520d;border-radius:5px}.sample-type__action[_ngcontent-%COMP%]     .mat-icon{width:1rem}.sample-type__action[_ngcontent-%COMP%]     .mat-select-arrow{opacity:0}.sample-type__action[_ngcontent-%COMP%]   .inner-row[_ngcontent-%COMP%]{display:flex;align-items:center}.sample-type__action[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#26506b;margin-right:30px;font-family:Poppins,sans-serif}.sample-type__action[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.sample-type__action[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{background-color:#04375299;color:#fff;padding:13px 30px;font-family:Poppins,sans-serif;width:100%;border-radius:10px}.sample-type__action[_ngcontent-%COMP%]     .mat-form-field-flex:hover .mat-form-field-outline.mat-form-field-outline-thick{color:#26506b}.sample-type__table[_ngcontent-%COMP%]{margin:2.5rem 2.5rem 1rem}.sample-type__table[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-outline{background-color:#d9d9d9;border-radius:5px}.sample-type__table__table[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-lg-12[_ngcontent-%COMP%]:nth-child(2){margin-top:2.5rem}.sample-type__table[_ngcontent-%COMP%]     .mat-form-field-flex:hover .mat-form-field-outline.mat-form-field-outline-thick{color:#26506b}@media (min-width: 1440px){.sample-type[_ngcontent-%COMP%]   .sample-type__table[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;overflow-x:auto}}@media (max-width: 1439px){.sample-type[_ngcontent-%COMP%]   .sample-type__table[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-lg-12[_ngcontent-%COMP%]:nth-child(2){margin-top:20px}}@media only screen and (min-width: 769px) and (max-width: 1024px){.sample-type[_ngcontent-%COMP%]   .inner-row[_ngcontent-%COMP%], .sample-type[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{margin-top:10px}}@media only screen and (min-width: 481px) and (max-width: 768px){.sample-type[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem}.sample-type__action[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.sample-type[_ngcontent-%COMP%]   .inner-row[_ngcontent-%COMP%], .sample-type[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{margin-top:10px}}@media (max-width: 480px){.sample-type[_ngcontent-%COMP%]{padding:2rem}.sample-type[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;text-align:center}.sample-type__action[_ngcontent-%COMP%]{align-items:center;justify-content:center}.sample-type__action[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}.sample-type__action[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{padding:10px 30px}.sample-type__action[_ngcontent-%COMP%]   .inner-row[_ngcontent-%COMP%]{align-items:flex-start;flex-direction:column}.sample-type__action[_ngcontent-%COMP%]   .inner-row[_ngcontent-%COMP%], .sample-type__action[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{margin-top:5px}}'],changeDetection:0}),n})();var F=f(9077),A=f(5412),w=f(446);function Vt(n,o){1&n&&(t.TgZ(0,"th",21),t._uU(1,"Rate List"),t.qZA())}function Wt(n,o){if(1&n&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function Xt(n,o){1&n&&(t.TgZ(0,"th",21),t._uU(1,"From Date"),t.qZA())}function te(n,o){if(1&n&&(t.TgZ(0,"td",22),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.from_date,"dd/MM/yyyy")," ")}}function ee(n,o){1&n&&(t.TgZ(0,"th",21),t._uU(1,"To Date"),t.qZA())}function ne(n,o){if(1&n&&(t.TgZ(0,"td",22),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.to_date,"dd/MM/yyyy")," ")}}function ae(n,o){1&n&&(t.TgZ(0,"th",21),t._uU(1,"Action"),t.qZA())}function ie(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"td",23)(1,"mat-icon",24),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.edit(r.id))}),t.qZA(),t.TgZ(2,"mat-icon",25),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.delete(r.id))}),t.qZA()()}}function oe(n,o){1&n&&t._UZ(0,"tr",26)}function re(n,o){1&n&&t._UZ(0,"tr",27)}function se(n,o){1&n&&(t.TgZ(0,"div",28),t._UZ(1,"mat-spinner",29),t.qZA())}let ce=(()=>{class n{constructor(e,a,i,r,s,l){this.router=e,this.masterService=a,this.cdr=i,this.snackbar=r,this.dialog=s,this.snackBbar=l,this.displayedColumns=["rateList","fromDate","toDate","action"],this.dataSource=new m.by(this.organisation),this.tariffValue=[],this.pageSizeOption=[5,25,50],this.spinner=!0,this.tariffPagination=new _.p({page:1,perPage:10,total:this.total})}set paginator(e){e&&(this.dataSource.paginator=e),this.cdr.markForCheck()}ngOnInit(){this.getTariff()}addNewTariff(){this.router.navigate(["master/organisation-tariff/cancellation"])}edit(e){this.router.navigate(["master/organisation-tariff/"+e])}delete(e){this.confirmConsDialog=this.dialog.open(F.$,{width:"40%",height:"auto",disableClose:!1,data:{message:"Are you sure want to Delete?",buttonText:{ok:"Delete",cancel:"Cancel"}}}),this.confirmConsDialog.afterClosed().subscribe(a=>{a&&this.deleteTariff(e)})}getTariff(){this.masterService.getAllOrganisationTariff(this.tariffPagination.perPage,this.tariffPagination.page).pipe((0,y.U)(e=>{const a=[];for(const i in e.data.results)e.data.results.hasOwnProperty(i)&&a.push({...e.data.results[i],key:i});return a})).subscribe({next:e=>{this.spinner=!1,this.cdr.markForCheck(),this.dataSource.data=e,this.tableLength=this.dataSource.data.length}})}getPageEvent(e){this.tariffPagination.doPagination(e),this.getTariff()}deleteTariff(e){this.masterService.deleteOrganisationTariff(e).subscribe(a=>{"success"===a.status&&this.snackBbar.open(a.message,"")})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(v.F0),t.Y36(C.m),t.Y36(t.sBO),t.Y36(O.ux),t.Y36(A.uw),t.Y36(w.c))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-organisation-tariff"]],viewQuery:function(e,a){if(1&e&&t.Gf(p.NW,5),2&e){let i;t.iGM(i=t.CRH())&&(a.paginator=i.first)}},decls:31,vars:9,consts:[[1,"organisation-tariff"],[1,"primary"],["fxLayout","row",1,"organisation-tariff__action"],[1,"action-buttons"],[1,"btn"],[1,"btn-icons",3,"click"],["svgIcon","appContactForm"],[1,"organisation-tariff__table"],[1,"agm-table--container"],["mat-table","",1,"mat-elevation-z8","agm-table",3,"dataSource"],["matColumnDef","rateList"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","fromDate"],["matColumnDef","toDate"],["matColumnDef","action"],["mat-cell","","class","agm-table--actions",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["style","\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          background: white;\n        ",4,"ngIf"],[3,"length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons","page"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"agm-table--actions"],["svgIcon","appEditAction",3,"click"],["svgIcon","appDeleteAction",3,"click"],["mat-header-row",""],["mat-row",""],[2,"display","flex","justify-content","center","align-items","center","background","white"],["diameter","70",2,"margin-top","25px","margin-bottom","25px"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0)(1,"h3",1),t._uU(2,"Organisation Tariff Mapping"),t.qZA(),t.TgZ(3,"section",2)(4,"div",3)(5,"div",4)(6,"button",5),t.NdJ("click",function(){return a.addNewTariff()}),t.TgZ(7,"span")(8,"b"),t._uU(9," Add New Tariff "),t.qZA()(),t._UZ(10,"mat-icon",6),t.qZA()()()(),t._UZ(11,"mat-divider"),t.TgZ(12,"section",7)(13,"div",8)(14,"table",9),t.ynx(15,10),t.YNc(16,Vt,2,0,"th",11),t.YNc(17,Wt,2,1,"td",12),t.BQk(),t.ynx(18,13),t.YNc(19,Xt,2,0,"th",11),t.YNc(20,te,3,4,"td",12),t.BQk(),t.ynx(21,14),t.YNc(22,ee,2,0,"th",11),t.YNc(23,ne,3,4,"td",12),t.BQk(),t.ynx(24,15),t.YNc(25,ae,2,0,"th",11),t.YNc(26,ie,3,0,"td",16),t.BQk(),t.YNc(27,oe,1,0,"tr",17),t.YNc(28,re,1,0,"tr",18),t.qZA(),t.YNc(29,se,2,0,"div",19),t.TgZ(30,"mat-paginator",20),t.NdJ("page",function(r){return a.getPageEvent(r)}),t.qZA()()()()),2&e&&(t.xp6(14),t.Q6J("dataSource",a.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns),t.xp6(1),t.Q6J("ngIf",a.spinner),t.xp6(1),t.Q6J("length",a.tableLength||0)("pageIndex",(a.tariffPagination.page||1)-1)("pageSize",a.tariffPagination.perPage)("pageSizeOptions",a.tariffPagination.paginationSizes)("showFirstLastButtons",!0))},dependencies:[g.O5,x.Hw,U.xw,P.d,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,Z.Ou,p.NW,g.uU],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@500&display=swap";  .organisation-tariff{padding:2.6rem;font-family:Poppins,sans-serif}  .organisation-tariff h3{font-family:Poppins,sans-serif}  .organisation-tariff__action{justify-content:end;margin:2.5rem 5.5rem 1rem}  .organisation-tariff__action p{color:#043752e6}  .organisation-tariff__table{margin:2.5rem 4.5rem 1rem}  .organisation-tariff__table .mat-form-field{text-align:center}@media only screen and (min-width: 481px) and (max-width: 768px){  .organisation-tariff h3{font-size:1.1rem}  .organisation-tariff__action{margin:2.5rem 3.5rem 1rem}  .organisation-tariff__action p{font-size:.9rem}  .organisation-tariff__table{margin:2.5rem 2.5rem 1rem}}@media (max-width: 480px){  .organisation-tariff{padding:2rem}  .organisation-tariff h3{font-size:1rem;text-align:center}  .organisation-tariff__action{align-items:center;justify-content:center}  .organisation-tariff__action p{font-size:.8rem}}@media only screen and (min-width: 0) and (max-width: 576px){  .organisation-tariff .organisation-tariff__table{margin:2.5rem 0rem}}'],changeDetection:0}),n})();var Y=f(607);function me(n,o){1&n&&(t.TgZ(0,"h3",41),t._uU(1,"Add New Tariff"),t.qZA())}function le(n,o){1&n&&(t.TgZ(0,"h3",41),t._uU(1,"Edit Tariff"),t.qZA())}function pe(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Rate List Name is required "),t.qZA())}function de(n,o){if(1&n&&(t.TgZ(0,"mat-option",42),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.name," ")}}function fe(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",43),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.save_update())}),t._uU(1," Save "),t.qZA()}}function ge(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",43),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.save_update())}),t._uU(1," Update "),t.qZA()}}function ue(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"From Date is required "),t.qZA())}function _e(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"To Date is required "),t.qZA())}function he(n,o){1&n&&(t.TgZ(0,"th",54),t._uU(1,"Sl.No"),t.qZA())}function Ce(n,o){if(1&n&&(t.TgZ(0,"td",55),t._uU(1),t.qZA()),2&n){const e=o.index;t.xp6(1),t.hij(" ",e+1," ")}}function ye(n,o){1&n&&(t.TgZ(0,"th",54),t._uU(1,"Department"),t.qZA())}function be(n,o){if(1&n&&(t.TgZ(0,"td",55),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Oqu(e.name)}}function ve(n,o){1&n&&(t.TgZ(0,"th",54),t._uU(1,"Select"),t.qZA())}function Te(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"td",55)(1,"mat-checkbox",56),t.NdJ("change",function(i){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.departmentSelectBoxChanges(i,s,l.departmentForm))}),t.qZA()()}if(2&n){const e=o.$implicit;t.xp6(1),t.Q6J("checked",e.is_modified)}}function xe(n,o){1&n&&(t.TgZ(0,"th",57),t._uU(1," Discount "),t.qZA())}function Ze(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"td",55)(1,"mat-form-field",58)(2,"input",59),t.NdJ("input",function(i){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.departmentDiscountFunc(i.target,s))}),t.qZA(),t.TgZ(3,"mat-icon",60),t._uU(4,"percentage"),t.qZA()()()}if(2&n){const e=o.$implicit;t.xp6(2),t.Q6J("value",e.deptDiscount)}}function Oe(n,o){1&n&&t._UZ(0,"tr",61)}function we(n,o){1&n&&t._UZ(0,"tr",62)}function Pe(n,o){if(1&n&&(t.TgZ(0,"table",44),t.ynx(1,45),t.YNc(2,he,2,0,"th",46),t.YNc(3,Ce,2,1,"td",47),t.BQk(),t.ynx(4,48),t.YNc(5,ye,2,0,"th",46),t.YNc(6,be,2,1,"td",47),t.BQk(),t.ynx(7,49),t.YNc(8,ve,2,0,"th",46),t.YNc(9,Te,2,1,"td",47),t.BQk(),t.ynx(10,50),t.YNc(11,xe,2,0,"th",51),t.YNc(12,Ze,5,1,"td",47),t.BQk(),t.YNc(13,Oe,1,0,"tr",52),t.YNc(14,we,1,0,"tr",53),t.qZA()),2&n){const e=t.oxw();t.Q6J("dataSource",e.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns)}}function Ae(n,o){1&n&&(t.TgZ(0,"div",63),t._UZ(1,"mat-spinner",64),t.qZA())}function Me(n,o){1&n&&(t.TgZ(0,"th",69),t._uU(1," Sl.No "),t.qZA())}function De(n,o){if(1&n&&(t.TgZ(0,"td",55),t._uU(1),t.qZA()),2&n){const e=o.index;t.xp6(1),t.hij(" ",e+1," ")}}function Ne(n,o){1&n&&(t.TgZ(0,"th",54),t._uU(1,"Department"),t.qZA())}function Ue(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function ke(n,o){if(1&n&&(t.TgZ(0,"td",55),t.YNc(1,Ue,2,1,"span",70),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngForOf",e.departments)}}function Ie(n,o){1&n&&(t.TgZ(0,"th",54),t._uU(1,"Modified"),t.qZA())}function Se(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"td",55)(1,"mat-checkbox",56),t.NdJ("change",function(){const r=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.testSelectFunc(r))}),t.qZA()()}if(2&n){const e=o.$implicit;t.xp6(1),t.Q6J("checked",e.is_modified)}}function Fe(n,o){1&n&&(t.TgZ(0,"th",54),t._uU(1,"Test Name"),t.qZA())}function qe(n,o){if(1&n&&(t.TgZ(0,"td",55),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Oqu(e.name)}}function Re(n,o){1&n&&(t.TgZ(0,"th",54),t._uU(1,"Amount"),t.qZA())}function Ye(n,o){if(1&n&&(t.TgZ(0,"td",55),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.price)," ")}}function Je(n,o){1&n&&(t.TgZ(0,"th",71),t._uU(1," Discount "),t.qZA())}function Qe(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"td",55)(1,"mat-form-field",72)(2,"mat-icon",73),t._uU(3,"\u20b9"),t.qZA(),t.TgZ(4,"input",59),t.NdJ("input",function(i){const s=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.testDiscountFunc(i.target,s))}),t.qZA()()()}if(2&n){const e=o.$implicit;t.xp6(4),t.Q6J("value",e.discountprice)}}function Ee(n,o){1&n&&t._UZ(0,"tr",61)}function Le(n,o){1&n&&t._UZ(0,"tr",62)}function Be(n,o){if(1&n&&(t.TgZ(0,"table",44),t.ynx(1,45),t.YNc(2,Me,2,0,"th",65),t.YNc(3,De,2,1,"td",47),t.BQk(),t.ynx(4,48),t.YNc(5,Ne,2,0,"th",46),t.YNc(6,ke,2,1,"td",47),t.BQk(),t.ynx(7,49),t.YNc(8,Ie,2,0,"th",46),t.YNc(9,Se,2,1,"td",47),t.BQk(),t.ynx(10,66),t.YNc(11,Fe,2,0,"th",46),t.YNc(12,qe,2,1,"td",47),t.BQk(),t.ynx(13,67),t.YNc(14,Re,2,0,"th",46),t.YNc(15,Ye,3,3,"td",47),t.BQk(),t.ynx(16,50),t.YNc(17,Je,2,0,"th",68),t.YNc(18,Qe,5,1,"td",47),t.BQk(),t.YNc(19,Ee,1,0,"tr",52),t.YNc(20,Le,1,0,"tr",53),t.qZA()),2&n){const e=t.oxw();t.Q6J("dataSource",e.dataSourceRight),t.xp6(19),t.Q6J("matHeaderRowDef",e.displayedColumns1),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns1)}}function ze(n,o){1&n&&(t.TgZ(0,"div",63),t._UZ(1,"mat-spinner",64),t.qZA())}let B=(()=>{class n{constructor(e,a,i,r,s,l,u,b){this.fb=e,this.activeRouter=a,this.masterService=i,this.router=r,this.snackBar=s,this.cdr=l,this.datePipe=u,this.snackBbar=b,this.selectedDepartment={},this.testTable={},this.editTestTable={},this.rateLists=[],this.spinner=!0,this.spinnerRight=!0,this.departmentData=[],this.allDepartmentsData=[],this.testData=[],this.testDataAdd=[],this.dataSource=new m.by(this.departmentValue),this.dataSourceRight=new m.by(this.testData),this.headingValue=!0,this.inputDataFetch=!0,this.create=!1,this.pageSizeOption=[5,25,50],this.pageSizeOptionRight=[5,25,50],this.todayDate=this.datePipe.transform(new Date,"yyyy-MM-dd"),this.testNamePagination=new _.p({page:1,perPage:5,total:this.total}),this.departmentPagination=new _.p({page:1,perPage:5,total:this.total}),this.displayedColumns=["slNo","deptName","isModified","commision"],this.displayedColumns1=["slNo","deptName","isModified","testName","amount","commision"]}set paginator(e){e&&(this.dataSource.paginator=e),this.cdr.markForCheck()}set paginatorTest(e){e&&(this.dataSourceRight.paginator=e),this.cdr.markForCheck()}getPageEvent(e){this.departmentPagination.doPagination(e),this.getDepartment()}getPageEventRight(e){this.testNamePagination.doPagination(e)}ngOnInit(){this.tariffEditId=this.activeRouter.snapshot.params.id,this.tariffEditId?(this.getTariff(this.tariffEditId),this.headingValue=!1,this.inputDataFetch=!0):this.create=!0,this.getDepartmentTable(),this.getDepartment(),this.getAllDepartment(),this.getAllTariff(),this.tariffFormBulider(),this.departmentFormBulider(),this.testFormBulider()}tariffFormBulider(){this.tariffForm=this.fb.group({listName:new c.NI(null,c.kI.required),rateList:new c.NI(null),fromDate:new c.NI(null,c.kI.required),toDate:new c.NI(null,c.kI.required)})}departmentFormBulider(){this.departmentForm=this.fb.group({departmentSelectBox:new c.NI(!1),departmentDiscount:new c.NI(null)})}testFormBulider(){this.testForm=this.fb.group({ismodified:new c.NI(!1),testDiscount:new c.NI(null)})}updateValueInput(e){this.inputDataFetch&&this.tariffForm.patchValue({listName:e.name,fromDate:e.from_date,toDate:e.to_date})}save_update(){let e=[];this.testDataAdd.forEach(l=>{let I,u={},b="";b={test:l.id},I=""==l.discountprice?{discount_amount:l.price}:{discount_amount:l.discountprice},Object.assign(u,b,{discount:l.price},I,{is_modified:l.is_modified}),e.push(u)});const a=this.datePipe.transform(this.tariffForm.value.fromDate,"yyyy/MM/dd"),i=this.datePipe.transform(this.tariffForm.value.toDate,"yyyy/MM/dd");let r;r=this.headingValue?this.tariffForm.value.listName:this.tariffForm.value.listName==this.tariffDetail.name?void 0:this.tariffForm.value.listName;const s={name:r,to_date:i,from_date:a,tariff_details:e};this.headingValue?(this.message="successfully Rate list created.",this.masterService.createOrganisationTariff(s).subscribe(l=>{"success"==l.status&&this.snackBbar.open(l.message,"")})):(this.message=this.tariffEditId,this.masterService.updateOrganisationTariff(this.tariffEditId,s).subscribe(l=>{"success"==l.status&&this.snackBbar.open(l.message,"")})),this.router.navigate(["master/organisation-tariff"])}selectedRateListFunc(e){this.selectedRateList=e.value,this.getTariff(this.selectedRateList.id),this.inputDataFetch=!1}departmentSelectBoxChanges(e,a,i){if(a.is_modified){delete this.selectedDepartment[a.id];for(let r of this.departmentData)r.id==a.id&&Object.assign(r,{deptDiscount:" "});for(let r of this.departmentData)a.id==r.id&&Object.assign(r,{is_modified:!1});this.testDataAdd.forEach(r=>{r.departments[0].id==a.id&&(r.discountprice=" ",r.is_modified=!1)})}else{this.spinnerRight=!0,this.departmentName=a.name,this.selectedDepartment[a.id]={departmentId:a.id,discount:"0",selectedName:this.departmentName};for(let r of this.departmentData)a.id==r.id&&Object.assign(r,{is_modified:!0})}this.dataSourceRight.data=this.testDataAdd,this.dataSource.data=this.departmentData,this.rightTableValue(),this.cdr.markForCheck()}departmentDiscountFunc(e,a){for(let i in this.selectedDepartment)if(i==a.id)if(""==e.value)this.selectedDepartment[a.id].discount="0";else{this.selectedDepartment[a.id].discount=e.value;for(let r of this.departmentData)r.id==a.id&&Object.assign(r,{deptDiscount:e.value})}this.rightTableValue()}testDiscountFunc(e,a){this.testDataAdd.forEach(i=>{a.id==i.id&&""!=e.value&&null!=e.value&&(i.discountprice=e.value)})}testSelectFunc(e){}editDataFunc(){this.testData.forEach(e=>{this.tariffDetail.tariff_details.forEach(a=>{if(e.id==a.test.id){const r=(a.discount-a.discount_amount)/a.discount*100;a.test.departments.forEach(s=>{this.selectedDepartment[s.id]={departmentId:s.id,discount:r,selectedName:s.name};for(let l of this.departmentData)l.id==s.id&&Object.assign(l,{is_modified:!0})}),this.dataSource.data=this.departmentData,this.cdr.markForCheck()}})}),this.rightTableValue()}rightTableValue(){this.testDataAdd=[],Object.keys(this.selectedDepartment).forEach(a=>{const i=this.selectedDepartment;this.testData.forEach(r=>{r.departments.forEach(s=>{if(s.id==i[a].departmentId)if(0!=i[a].discount){r.discount=i[a].discount;const u=Math.floor(r.price*(100-i[a].discount)/100);r.is_modified=!0,r.discountprice=String(u),this.testDataAdd.push(r)}else{r.discount=0;const l="";r.is_modified=!1,r.discountprice=String(l),this.testDataAdd.push(r)}})})}),0!=this.testDataAdd.length?(this.testDataAdd=[...new Set(this.testDataAdd)],this.dataSourceRight.data=this.testDataAdd):this.dataSourceRight.data=this.testData,this.spinnerRight=!1}getTariff(e){this.spinnerRight=!0,setTimeout(()=>{this.masterService.getOrganisationTariff(e).subscribe(a=>{this.tariffDetail=a.data,this.updateValueInput(this.tariffDetail),this.cdr.markForCheck(),this.rateList()})},3e3)}rateList(){this.testDataAdd=[],this.testData.forEach(e=>{this.tariffDetail.tariff_details.forEach(a=>{e.id==a.test.id&&a.test.departments.forEach(i=>{let r=[];r.push({name:i.name}),this.testTable={id:a.id,discountprice:a.discount_amount,name:a.test.name,price:a.test.price,departments:r,is_modified:a.is_modified},console.log("test iteration",this.testTable);const l=(a.discount-a.discount_amount)/a.discount*100;a.test.departments.forEach(u=>{for(let b of this.departmentData)b.id==u.id&&(Object.assign(b,{is_modified:!0}),this.selectedDepartment[b.id]={departmentId:b.id,discount:l})}),this.testDataAdd.push(this.testTable)})})}),this.dataSource.data=this.departmentData,this.dataSourceRight.data=this.testDataAdd,this.cdr.markForCheck(),this.spinnerRight=!1}getAllTariff(){setTimeout(()=>{this.masterService.getOrganisationTariffList().pipe((0,y.U)(e=>{const a=[];for(const i in e.data.tariff)e.data.tariff.hasOwnProperty(i)&&a.push({...e.data.tariff[i],key:i});return a})).subscribe(e=>{this.cdr.markForCheck(),this.rateLists=e})},5e3)}getDepartmentTable(){this.masterService.getSearchTestNames(this.departmentPagination.perPage,this.departmentPagination.page).pipe((0,y.U)(e=>{const a=[];for(const i in e.data.results)e.data.results.hasOwnProperty(i)&&a.push({...e.data.results[i],key:i});return a})).subscribe({next:e=>{this.spinnerRight=!1,this.cdr.markForCheck();let a={discountprice:""};for(let i of e)Object.assign(i,a);this.testData=e,this.dataSourceRight.data=this.testDataAdd?this.testDataAdd:this.testData},error:e=>console.log(e),complete:()=>{this.rightTableValue(),this.headingValue||this.editDataFunc()}})}getDepartment(){setTimeout(()=>{this.masterService.getDepartmentLists(this.departmentPagination.perPage,this.departmentPagination.page).pipe((0,y.U)(e=>{const a=[];for(const i in e.data.results)e.data.results.hasOwnProperty(i)&&a.push({...e.data.results[i],key:i});return a})).subscribe({next:e=>{this.spinner=!1,this.cdr.markForCheck();let a=[];if(0==this.departmentData.length){let i={deptDiscount:""},r={is_modified:!1};for(let s of e)Object.assign(s,i,r)}else{let i={deptDiscount:""},r={is_modified:!1};for(let s of e)Object.assign(s,i,r);for(let s of this.departmentData)s.is_modified&&a.push({id:s.id,discount:s.discount})}this.departmentData=e;for(let i of this.departmentData)for(let r of a)i.deptDiscount=" ",i.id==r.id&&(i.is_modified=!0);for(let i of this.allDepartmentsData)i.is_modified&&a.push({id:i.id});for(let i of this.departmentData)for(let r of a)i.id==r.id&&(i.is_modified=!0,i.deptDiscount=" ",this.selectedDepartment[i.id]={departmentId:i.id});this.dataSource.data=this.departmentData},error:e=>console.log(e)})},3e3)}getAllDepartment(){this.masterService.getAllDepartments().pipe((0,y.U)(e=>{const a=[];for(const i in e.data.departments)e.data.departments.hasOwnProperty(i)&&a.push({...e.data.departments[i],key:i});return a})).subscribe(e=>{this.allDepartmentsData=e}),setTimeout(()=>{this.departmentModification()},12e3)}departmentModification(){for(let e of this.allDepartmentsData)this.tariffDetail&&this.tariffDetail.tariff_details.forEach(a=>{e.id==a.test.departments[0].id&&Object.assign(e,{is_modified:!0})})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c.qu),t.Y36(v.gz),t.Y36(C.m),t.Y36(v.F0),t.Y36(O.ux),t.Y36(t.sBO),t.Y36(g.uU),t.Y36(w.c))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-cancel-organisation-tariff"]],viewQuery:function(e,a){if(1&e&&(t.Gf(p.NW,5),t.Gf(p.NW,5)),2&e){let i;t.iGM(i=t.CRH())&&(a.paginator=i.first),t.iGM(i=t.CRH())&&(a.paginatorTest=i.first)}},decls:90,vars:30,consts:[[1,"cancel-organisation-tariff"],["class","primary",4,"ngIf"],[3,"formGroup"],[1,"cancel-organisation-tariff__action"],[1,"row"],[1,"col-lg-6"],[1,"cancel-organisation-tariff_action-input"],[1,"row","inner-row"],[1,"col-md-3","col-sm-6"],[1,"text-right"],[1,"col-md-9","col-sm-6"],["floatLabel","never","appearance","outline",1,"agm-input-lg","data-input"],["matInput","","formControlName","listName"],[4,"ngIf"],[1,"col-lg-5"],[1,"col-md-8"],[1,"col-md-6","col-sm-6","rate-list-div"],[1,"col-md-6","col-sm-6"],["appearance","outline",1,"agm-select"],["svgIcon","appDropdownCaret","matSuffix",""],["disableOptionCentering","","formControlName","rateList",1,"data-input",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-4"],["mat-button","",3,"click",4,"ngIf"],[1,"col-lg-1"],["floatLabel","never","appearance","outline",1,"agm-input-lg","date-input"],["matInput","","formControlName","fromDate","readonly","",1,"primary",3,"matDatepicker","min"],["matSuffix","",3,"for"],["svgIcon","appCalendar","matDatepickerToggleIcon","",1,"calender-icon"],["formdatepicker1",""],["mat-button","","matDatepickerCancel",""],["mat-raised-button","","color","primary","matDatepickerApply",""],["matInput","","formControlName","toDate","readonly","",1,"primary",3,"matDatepicker","min"],["todatepicker",""],[1,"cancel-organisation-tariff__table"],[1,"agm-table--container"],["mat-table","","class","mat-elevation-z8 agm-table",3,"dataSource",4,"ngIf"],["class","spinner-div",4,"ngIf"],[3,"length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons","page"],["paginatorTest",""],[1,"col-lg-7"],[1,"primary"],[3,"value"],["mat-button","",3,"click"],["mat-table","",1,"mat-elevation-z8","agm-table",3,"dataSource"],["matColumnDef","slNo"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","deptName"],["matColumnDef","isModified"],["matColumnDef","commision"],["style","width: 150px !important","mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["color","primary",1,"select-checkbox",3,"checked","change"],["mat-header-cell","",2,"width","150px !important"],["floatLabel","never","appearance","outline","tableInput","true",1,"agm-input-lg","discount-input",2,"width","100px"],["matInput","","appNumbersOnly","",3,"value","input"],["matSuffix","",1,"percentage"],["mat-header-row",""],["mat-row",""],[1,"spinner-div"],["diameter","70"],["style","width: 100px !important","mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","testName"],["matColumnDef","amount"],["style","width: 160px !important","mat-header-cell","",4,"matHeaderCellDef"],["mat-header-cell","",2,"width","100px !important"],[4,"ngFor","ngForOf"],["mat-header-cell","",2,"width","160px !important"],["floatLabel","never","appearance","outline","tableInput","true",1,"agm-input-lg","discount-input",2,"width","100px !important"],["matPrefix","",1,"rupee"]],template:function(e,a){if(1&e&&(t.TgZ(0,"div",0),t.YNc(1,me,2,0,"h3",1),t.YNc(2,le,2,0,"h3",1),t.TgZ(3,"form",2)(4,"section",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"span",9),t._uU(11,"Rate List Name"),t.qZA()(),t.TgZ(12,"div",10)(13,"mat-form-field",11),t._UZ(14,"input",12),t.YNc(15,pe,2,0,"mat-error",13),t.qZA()()()()(),t.TgZ(16,"div",14)(17,"div",4)(18,"div",15)(19,"div",7)(20,"div",16)(21,"span",9),t._uU(22,"Rate List"),t.qZA()(),t.TgZ(23,"div",17)(24,"mat-form-field",18),t._UZ(25,"mat-icon",19),t.TgZ(26,"mat-select",20),t.NdJ("selectionChange",function(r){return a.selectedRateListFunc(r)}),t.YNc(27,de,2,2,"mat-option",21),t.qZA()()()()(),t.TgZ(28,"div",22),t.YNc(29,fe,2,0,"button",23),t.YNc(30,ge,2,0,"button",23),t.qZA()()(),t._UZ(31,"div",24),t.qZA()(),t.TgZ(32,"section",3)(33,"div",4)(34,"div",5)(35,"div",4)(36,"div",5)(37,"div",6)(38,"div",7)(39,"div",17)(40,"span",9),t._uU(41,"From Date"),t.qZA()(),t.TgZ(42,"div",17)(43,"mat-form-field",25),t._UZ(44,"input",26),t.TgZ(45,"mat-datepicker-toggle",27),t._UZ(46,"mat-icon",28),t.qZA(),t.TgZ(47,"mat-datepicker",null,29)(49,"mat-datepicker-actions")(50,"button",30),t._uU(51,"Cancel"),t.qZA(),t.TgZ(52,"button",31),t._uU(53," Apply "),t.qZA()()(),t.YNc(54,ue,2,0,"mat-error",13),t.qZA()()()()(),t.TgZ(55,"div",5)(56,"div",6)(57,"div",7)(58,"div",17)(59,"span",9),t._uU(60,"To Date"),t.qZA()(),t.TgZ(61,"div",17)(62,"mat-form-field",25),t._UZ(63,"input",32),t.TgZ(64,"mat-datepicker-toggle",27),t._UZ(65,"mat-icon",28),t.qZA(),t.TgZ(66,"mat-datepicker",null,33)(68,"mat-datepicker-actions")(69,"button",30),t._uU(70,"Cancel"),t.qZA(),t.TgZ(71,"button",31),t._uU(72," Apply "),t.qZA()()(),t.YNc(73,_e,2,0,"mat-error",13),t.qZA()()()()()()()()()(),t._UZ(74,"mat-divider"),t.TgZ(75,"section",34)(76,"div",4)(77,"div",14)(78,"div",35)(79,"form",2),t.YNc(80,Pe,15,3,"table",36),t.qZA(),t.YNc(81,Ae,2,0,"div",37),t.TgZ(82,"mat-paginator",38,39),t.NdJ("page",function(r){return a.getPageEvent(r)}),t.qZA()()(),t.TgZ(84,"div",40)(85,"div",35),t.YNc(86,Be,21,3,"table",36),t.YNc(87,ze,2,0,"div",37),t.TgZ(88,"mat-paginator",38,39),t.NdJ("page",function(r){return a.getPageEventRight(r)}),t.qZA()()()()()()),2&e){const i=t.MAs(48),r=t.MAs(67);let s,l,u;t.xp6(1),t.Q6J("ngIf",a.headingValue),t.xp6(1),t.Q6J("ngIf",!a.headingValue),t.xp6(1),t.Q6J("formGroup",a.tariffForm),t.xp6(12),t.Q6J("ngIf",null==(s=a.tariffForm.get("listName"))||null==s.errors?null:s.errors.required),t.xp6(12),t.Q6J("ngForOf",a.rateLists),t.xp6(2),t.Q6J("ngIf",!a.tariffEditId),t.xp6(1),t.Q6J("ngIf",a.tariffEditId),t.xp6(14),t.Q6J("matDatepicker",i)("min",a.todayDate),t.xp6(1),t.Q6J("for",i),t.xp6(9),t.Q6J("ngIf",null==(l=a.tariffForm.get("fromDate"))||null==l.errors?null:l.errors.required),t.xp6(9),t.Q6J("matDatepicker",r)("min",a.todayDate),t.xp6(1),t.Q6J("for",r),t.xp6(9),t.Q6J("ngIf",null==(u=a.tariffForm.get("toDate"))||null==u.errors?null:u.errors.required),t.xp6(6),t.Q6J("formGroup",a.departmentForm),t.xp6(1),t.Q6J("ngIf",!a.spinnerRight),t.xp6(1),t.Q6J("ngIf",a.spinnerRight),t.xp6(1),t.Q6J("length",a.tableLength||0)("pageIndex",(a.departmentPagination.page||1)-1)("pageSize",a.departmentPagination.perPage)("pageSizeOptions",a.departmentPagination.paginationSizes)("showFirstLastButtons",!0),t.xp6(4),t.Q6J("ngIf",!a.spinnerRight),t.xp6(1),t.Q6J("ngIf",a.spinnerRight),t.xp6(1),t.Q6J("length",a.tableLengthRight||0)("pageIndex",(a.testNamePagination.page||1)-1)("pageSize",a.testNamePagination.perPage)("pageSizeOptions",a.testNamePagination.paginationSizes)("showFirstLastButtons",!0)}},dependencies:[g.sg,g.O5,x.Hw,P.d,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,h.TO,h.KE,h.qo,h.R9,M.Nt,D.lW,N.gD,k.ey,R.oG,T.Mq,T.hl,T.nW,T.Q0,T.M5,T.dp,T.DK,Z.Ou,p.NW,Y.X,Q.Q],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@500&display=swap";  .cancel-organisation-tariff{padding:2.6rem}  .cancel-organisation-tariff .mat-column-testName{max-width:150px}  .cancel-organisation-tariff .mat-column-commision{max-width:150px}  .cancel-organisation-tariff h3{font-family:Poppins,sans-serif}  .cancel-organisation-tariff .agm-table td.mat-cell{padding:1rem!important}  .cancel-organisation-tariff .agm-table td.mat-cell .agm-input-lg{height:1.5rem!important}  .cancel-organisation-tariff .agm-table td.mat-cell .mat-form-field-appearance-outline .mat-form-field-prefix,   .cancel-organisation-tariff .agm-table td.mat-cell .mat-form-field-appearance-outline .mat-form-field-suffix{top:0em!important}  .cancel-organisation-tariff .agm-table td.mat-cell .mat-icon.percentage{width:1.2rem!important;height:1.3rem!important;font-size:120%!important}  .cancel-organisation-tariff .agm-table td.mat-cell .mat-icon.rupee{width:1.2rem!important;height:1.5rem!important}  .cancel-organisation-tariff .agm-table tr.mat-row{vertical-align:middle}  .cancel-organisation-tariff__action{margin:2.5rem 0}  .cancel-organisation-tariff__action-input{display:flex}  .cancel-organisation-tariff__action   .mat-form-field-appearance-outline .mat-form-field-outline{background-color:var(--secondary-color-300);border-radius:5px}  .cancel-organisation-tariff__action   .mat-form-field-wrapper{padding-bottom:0!important}  .cancel-organisation-tariff__action   .agm-select.mat-form-field-appearance-outline .mat-form-field-outline{background-color:#0437520d;border-radius:5px}  .cancel-organisation-tariff__action   .mat-icon{width:1rem}  .cancel-organisation-tariff__action   .mat-select-arrow{opacity:0}  .cancel-organisation-tariff__action   .matColumnDef-commision{width:200px!important}  .cancel-organisation-tariff__action .mat-column-commision{width:200px;background-color:red}  .cancel-organisation-tariff__action .inner-row{display:flex;align-items:center;text-align:end}  .cancel-organisation-tariff__action label{color:#26506b;margin-right:30px;font-family:Poppins,sans-serif}  .cancel-organisation-tariff__action .mat-form-field{width:100%}  .cancel-organisation-tariff__action .mat-button{background-color:#04375299;color:#fff;padding:13px 30px;font-family:Poppins,sans-serif;width:100%;border-radius:10px}  .cancel-organisation-tariff__action   .mat-form-field-flex:hover .mat-form-field-outline.mat-form-field-outline-thick{color:#26506b}  .cancel-organisation-tariff__action .mat-select{color:#043752}  .cancel-organisation-tariff__table{margin:2.5rem 0}  .cancel-organisation-tariff__table   .mat-form-field-appearance-outline .mat-form-field-outline{background-color:#d9d9d9;border-radius:5px}  .cancel-organisation-tariff__table   .discount-input{width:100%}  .cancel-organisation-tariff__table .mat-form-field{text-align:center}  .cancel-organisation-tariff__table__table .row .col-lg-12:nth-child(2){margin-top:2.5rem}  .cancel-organisation-tariff__table   .mat-form-field-flex:hover .mat-form-field-outline.mat-form-field-outline-thick{color:#26506b}@media (min-width: 1440px){  .cancel-organisation-tariff .cancel-organisation-tariff__table .row{display:flex;overflow-x:auto}}@media (max-width: 1439px){  .cancel-organisation-tariff .cancel-organisation-tariff__table .row .col-lg-12:nth-child(2){margin-top:20px}}@media only screen and (min-width: 769px) and (max-width: 1024px){  .cancel-organisation-tariff .inner-row{margin-top:10px}  .cancel-organisation-tariff .mat-button{margin-top:10px}}@media only screen and (min-width: 481px) and (max-width: 768px){  .cancel-organisation-tariff h3{font-size:1.1rem}  .cancel-organisation-tariff__action p{font-size:.9rem}  .cancel-organisation-tariff .inner-row{margin-top:10px}  .cancel-organisation-tariff .mat-button{margin-top:10px}}@media (max-width: 480px){  .cancel-organisation-tariff{padding:2rem}  .cancel-organisation-tariff h3{font-size:1rem;text-align:center}  .cancel-organisation-tariff__action{align-items:center;justify-content:center}  .cancel-organisation-tariff__action p{font-size:.8rem}  .cancel-organisation-tariff__action .mat-button{padding:10px 30px}  .cancel-organisation-tariff__action .inner-row{align-items:flex-start;flex-direction:column}  .cancel-organisation-tariff__action .inner-row{margin-top:5px}  .cancel-organisation-tariff__action .mat-button{margin-top:5px}}@media only screen and (min-width: 0) and (max-width: 576px){  .cancel-organisation-tariff .cancel-organisation-tariff__action{margin:2.5rem 0rem}  .cancel-organisation-tariff .cancel-organisation-tariff__table{margin:2.5rem 0rem}}'],changeDetection:0}),n})();function je(n,o){1&n&&t._UZ(0,"input",18)}function He(n,o){1&n&&t._UZ(0,"input",19)}function Ge(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Enter Test Category Name "),t.qZA())}function $e(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Only Alphapets & Numeric letters were allowed "),t.qZA())}function Ke(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Enter Test Category Name "),t.qZA())}function Ve(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Only Alphapets & Numeric letters were allowed "),t.qZA())}function We(n,o){if(1&n&&(t.TgZ(0,"mat-option",20),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.status),t.xp6(1),t.hij(" ",e.value," ")}}function Xe(n,o){1&n&&(t.TgZ(0,"div",21),t._UZ(1,"mat-spinner"),t.qZA())}let z=(()=>{class n{constructor(e,a,i,r,s,l){this.fb=e,this.masterService=a,this.dialogRef=i,this.data=r,this.cdRef=s,this.snackBbar=l,this.catId="",this.categoryName="",this.category="",this.spinner=!1,this.statuses=[{key:"active",value:"Active",status:!0},{key:"inactive",value:"Inactive",status:!1}],this.isEdit=r.isEdit,this.catId=r.id,this.category=r.category,this.buildCategoryForm()}ngOnInit(){this.isEdit&&"test"==this.category&&this.getTestCategory(this.catId),this.isEdit&&"inventory"==this.category&&this.getInventoryCategory(this.catId)}buildCategoryForm(){this.categoryForm=this.fb.group({catNameInput:new c.NI(null,[c.kI.required,c.kI.pattern("^[a-zA-Z0-9-& ]+")]),statusInput:new c.NI(!0)})}dialogClose(){this.dialogRef.close()}getTestCategory(e){this.spinner=!0,this.masterService.getSingleTestCategory(e).subscribe({next:a=>{this.spinner=!1,"success"==a.status?(this.categoryForm.patchValue({catNameInput:a.data.name}),this.categoryForm.patchValue({statusInput:a.data.is_active})):this.snackBbar.open(a.message,""),this.cdRef.detectChanges()},error:a=>{this.spinner=!1,this.snackBbar.open(400==a.status?a.error.error:"Something went wrong",""),this.cdRef.detectChanges()}})}getInventoryCategory(e){this.spinner=!0,this.masterService.getSingleInventoryCategory(e).subscribe({next:a=>{this.spinner=!1,"success"==a.status?(this.categoryForm.patchValue({catNameInput:a.data.name}),this.categoryForm.patchValue({statusInput:a.data.is_active})):this.snackBbar.open(a.message,""),this.cdRef.detectChanges()},error:a=>{this.spinner=!1,this.snackBbar.open(400==a.status?a.error.error:"Something went wrong",""),this.cdRef.detectChanges()}})}onFormSubmit(e){if(this.spinner=!0,this.categoryForm.valid){const a={name:this.categoryForm.value.catNameInput,is_active:this.categoryForm.value.statusInput};""!=this.catId?"test"==this.category?this.masterService.updateTestCategory(a,this.catId).subscribe({next:i=>{this.spinner=!1,this.snackBbar.open(i.message,""),"success"==i.status&&this.dialogClose(),this.cdRef.detectChanges()},error:i=>{this.spinner=!1,this.snackBbar.open(400==i.status?i.error.error:"Something went wrong",""),this.cdRef.detectChanges()}}):"inventory"==this.category&&this.masterService.updateInventoryCategory(a,this.catId).subscribe({next:i=>{this.spinner=!1,this.snackBbar.open(i.message,""),"success"==i.status&&this.dialogClose(),this.cdRef.detectChanges()},error:i=>{this.spinner=!1,this.snackBbar.open(400==i.status?i.error.error:"Something went wrong",""),this.cdRef.detectChanges()}}):"test"==this.category?this.masterService.createNewTestCategory(a).subscribe({next:i=>{this.spinner=!1,this.snackBbar.open(i.message,""),"success"==i.status&&this.dialogClose(),this.cdRef.detectChanges()},error:i=>{this.spinner=!1,this.snackBbar.open(400==i.status?i.error.error:"Something went wrong",""),this.cdRef.detectChanges()}}):"inventory"==this.category&&this.masterService.createNewInventoryCategory(a).subscribe({next:i=>{this.spinner=!1,this.snackBbar.open(i.message,""),"success"==i.status&&this.dialogClose(),this.cdRef.detectChanges()},error:i=>{this.spinner=!1,this.snackBbar.open(400==i.status?i.error.error:"Something went wrong",""),this.cdRef.detectChanges()}})}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c.qu),t.Y36(C.m),t.Y36(A.so),t.Y36(A.WI,8),t.Y36(t.sBO),t.Y36(w.c))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-category-dialog"]],decls:24,vars:11,consts:[[1,"test-category"],[1,"primary"],[1,"test-category_form"],[1,"test-category_form--view",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm-12"],["floatLabel","never","appearance","outline",1,"agm-input-lg"],["placeholder","Test Category Name","formControlName","catNameInput","matInput","",4,"ngIf"],["placeholder","Inventory Category Name","formControlName","catNameInput","matInput","",4,"ngIf"],[4,"ngIf"],["appearance","outline",1,"agm-select"],["svgIcon","appDropdownCaret","matSuffix",""],["placeholder","Status","disableOptionCentering","","formControlName","statusInput"],["placeholder","Status",3,"value",4,"ngFor","ngForOf"],["type","hidden","name","categoryId",3,"value"],["fxLayout","column",1,"agm-input-form",2,"margin-left","0"],["mat-button","",1,"button-mat-all"],["class","spinner",4,"ngIf"],["placeholder","Test Category Name","formControlName","catNameInput","matInput",""],["placeholder","Inventory Category Name","formControlName","catNameInput","matInput",""],["placeholder","Status",3,"value"],[1,"spinner"]],template:function(e,a){if(1&e&&(t.TgZ(0,"div",0)(1,"h3",1),t._uU(2),t.qZA(),t.TgZ(3,"div",2)(4,"form",3),t.NdJ("ngSubmit",function(){return a.onFormSubmit(a.categoryForm.value)}),t.TgZ(5,"div",4)(6,"div",5)(7,"mat-form-field",6),t.YNc(8,je,1,0,"input",7),t.YNc(9,He,1,0,"input",8),t.YNc(10,Ge,2,0,"mat-error",9),t.YNc(11,$e,2,0,"mat-error",9),t.YNc(12,Ke,2,0,"mat-error",9),t.YNc(13,Ve,2,0,"mat-error",9),t.qZA()(),t.TgZ(14,"div",5)(15,"mat-form-field",10),t._UZ(16,"mat-icon",11),t.TgZ(17,"mat-select",12),t.YNc(18,We,2,2,"mat-option",13),t.qZA()()()(),t._UZ(19,"input",14),t.TgZ(20,"div",15)(21,"button",16),t._uU(22,"Save"),t.qZA()()()()(),t.YNc(23,Xe,2,0,"div",17)),2&e){let i,r,s,l;t.xp6(2),t.hij("",1==a.isEdit?"Edit":"Add New"," Category"),t.xp6(2),t.Q6J("formGroup",a.categoryForm),t.xp6(4),t.Q6J("ngIf","test"==a.category),t.xp6(1),t.Q6J("ngIf","inventory"==a.category),t.xp6(1),t.Q6J("ngIf","test"==a.category&&(null==(i=a.categoryForm.get("catNameInput"))||null==i.errors?null:i.errors.required)),t.xp6(1),t.Q6J("ngIf","test"==a.category&&(null==(r=a.categoryForm.get("catNameInput"))||null==r.errors?null:r.errors.pattern)),t.xp6(1),t.Q6J("ngIf","inventory"==a.category&&(null==(s=a.categoryForm.get("catNameInput"))||null==s.errors?null:s.errors.required)),t.xp6(1),t.Q6J("ngIf","inventory"==a.category&&(null==(l=a.categoryForm.get("catNameInput"))||null==l.errors?null:l.errors.pattern)),t.xp6(5),t.Q6J("ngForOf",a.statuses),t.xp6(1),t.s9C("value",a.catId),t.xp6(4),t.Q6J("ngIf",a.spinner)}},dependencies:[g.sg,g.O5,x.Hw,U.xw,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,h.TO,h.KE,h.R9,M.Nt,D.lW,N.gD,k.ey,Z.Ou],styles:[".test-category_form--view[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.test-category_form--view[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-outline{background-color:#04375233;border-radius:5px}.test-category_form--view[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:0!important}.test-category_form--view[_ngcontent-%COMP%]     .agm-select.mat-form-field-appearance-outline .mat-form-field-outline{background-color:#0437520d;border-radius:5px}.test-category_form--view[_ngcontent-%COMP%]     .mat-icon{width:1rem}.test-category_form--view[_ngcontent-%COMP%]     .mat-select-arrow{opacity:0}.test-category_form--btn[_ngcontent-%COMP%]{display:flex;justify-content:center}.test-category_form--btn[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{width:200px;margin-top:30px;background:rgba(4,55,82,.6);padding:10px 30px;display:block;color:#fff}"],changeDetection:0}),n})();function tn(n,o){if(1&n&&(t.TgZ(0,"mat-option",29),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.key),t.xp6(1),t.hij(" ",e.value," ")}}function en(n,o){1&n&&(t.TgZ(0,"th",30),t._uU(1,"Category"),t.qZA())}function nn(n,o){if(1&n&&(t.TgZ(0,"td",31),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function an(n,o){1&n&&(t.TgZ(0,"th",30),t._uU(1,"Created On"),t.qZA())}function on(n,o){if(1&n&&(t.TgZ(0,"td",31),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.created_at,"dd/MM/yyyy hh:mm a")," ")}}function rn(n,o){1&n&&(t.TgZ(0,"th",30),t._uU(1,"Status"),t.qZA())}function sn(n,o){1&n&&(t.TgZ(0,"p",34),t._uU(1," Active "),t.qZA())}function cn(n,o){1&n&&(t.TgZ(0,"p",35),t._uU(1," Inactive "),t.qZA())}function mn(n,o){if(1&n&&(t.TgZ(0,"td",31),t.YNc(1,sn,2,0,"p",32),t.YNc(2,cn,2,0,"p",33),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_active),t.xp6(1),t.Q6J("ngIf",0==e.is_active)}}function ln(n,o){1&n&&(t.TgZ(0,"th",30),t._uU(1,"Action"),t.qZA())}function pn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"td",36)(1,"mat-icon",37),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.editCategory(r.id))}),t.qZA(),t.TgZ(2,"mat-icon",38),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.deleteCategory(r.id))}),t.qZA()()}}function dn(n,o){1&n&&t._UZ(0,"tr",39)}function fn(n,o){1&n&&t._UZ(0,"tr",40)}function gn(n,o){1&n&&(t.TgZ(0,"div",41),t._uU(1,"No data available!"),t.qZA())}function un(n,o){1&n&&(t.TgZ(0,"div",42),t._UZ(1,"mat-spinner",43),t.qZA())}function _n(n,o){1&n&&(t.TgZ(0,"div",44),t._UZ(1,"mat-spinner"),t.qZA())}let hn=(()=>{class n{constructor(e,a,i,r,s,l){this.masterService=e,this.cdr=a,this.matDialog=i,this.snackBar=r,this.dialog=s,this.snackBbar=l,this.categories=[{key:"test",value:"Test"},{key:"inventory",value:"Inventory"}],this.displayedColumns=["category","createdOn","status","action"],this.dataSource=new m.by,this.tableLength=0,this.isLoading=!0,this.spinner=!1,this.isEmpty=!1,this.selectedCategory="test",this.clientPaginator=new _.p({page:1,perPage:5,total:this.tableLength})}set matPaginator(e){this.dataSource.paginator=e}ngOnInit(){this.isLoading=!0,this.getTestCategories()}getTestCategories(){this.isLoading=!0,this.masterService.getAllTestCategories().pipe((0,y.U)(e=>{const a=[];for(const i in e.data.test_categories)e.data.test_categories.hasOwnProperty(i)&&a.push({...e.data.test_categories[i],key:i});return a})).subscribe(e=>{this.isLoading=!1,this.dataSource.data=e,this.tableLength=e.length,0==e.length&&(this.isEmpty=!0),this.cdr.detectChanges()})}getInventoryCategories(){this.isLoading=!0,this.masterService.getAllInventoryCategories().pipe((0,y.U)(e=>{const a=[];for(const i in e.data.inventory_categories)e.data.inventory_categories.hasOwnProperty(i)&&a.push({...e.data.inventory_categories[i],key:i});return a})).subscribe(e=>{this.isLoading=!1,this.dataSource.data=e,this.tableLength=e.length,this.cdr.detectChanges()})}onCategoryChange(e){"test"==this.selectedCategory&&this.getTestCategories(),"inventory"==this.selectedCategory&&this.getInventoryCategories()}addNewCategory(){this.matDialog.open(z,{width:"20%",data:{id:"",isEdit:!1,category:this.selectedCategory}}).afterClosed().subscribe(a=>{"test"==this.selectedCategory&&this.getTestCategories(),"inventory"==this.selectedCategory&&this.getInventoryCategories()})}editCategory(e){this.matDialog.open(z,{width:"20%",data:{id:e,isEdit:!0,category:this.selectedCategory}}).afterClosed().subscribe(i=>{"test"==this.selectedCategory&&this.getTestCategories(),"inventory"==this.selectedCategory&&this.getInventoryCategories()})}deleteCategory(e){this.confirmConsDialog=this.dialog.open(F.$,{width:"40%",height:"auto",disableClose:!1,data:{message:"Are you sure want to Delete?",buttonText:{ok:"Delete",cancel:"Cancel"}}}),this.confirmConsDialog.afterClosed().subscribe(a=>{a&&(this.spinner=!0,"test"==this.selectedCategory&&this.masterService.deleteTestCategory(e).subscribe({next:i=>{this.spinner=!1,this.snackBbar.open(i.message,""),"success"==i.status&&this.getTestCategories(),this.cdr.detectChanges()},error:i=>{this.spinner=!1,this.snackBbar.open(400==i.status?i.error.error:"Something went wrong",""),this.cdr.detectChanges()}}),"inventory"==this.selectedCategory&&this.masterService.deleteInventoryCategory(e).subscribe({next:i=>{this.spinner=!1,this.snackBbar.open(i.message,""),"success"==i.status&&this.getInventoryCategories()},error:i=>{this.spinner=!1,this.snackBbar.open(400==i.status?i.error.error:"Something went wrong",""),this.cdr.detectChanges()}}))})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C.m),t.Y36(t.sBO),t.Y36(A.uw),t.Y36(O.ux),t.Y36(A.uw),t.Y36(w.c))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-category-test"]],viewQuery:function(e,a){if(1&e&&t.Gf(p.NW,5),2&e){let i;t.iGM(i=t.CRH())&&(a.matPaginator=i.first)}},decls:41,vars:11,consts:[[1,"category-test"],[1,"primary"],[1,"category-test__description"],["fxLayout","row",1,"category-test__action"],["appearance","outline",1,"agm-select"],["svgIcon","appDropdownCaret","matSuffix",""],["disableOptionCentering","","placeholder","Select Category",3,"value","selectionChange","valueChange"],[3,"value",4,"ngFor","ngForOf"],[1,"action-buttons"],[1,"btn"],[1,"btn-icons",3,"click"],["svgIcon","appContactForm"],[1,"category-test__table"],[1,"agm-table--container"],["mat-table","",1,"mat-elevation-z8","agm-table",3,"dataSource"],["matColumnDef","category"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","createdOn"],["matColumnDef","status"],["matColumnDef","action"],["mat-cell","","class","agm-table--actions",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","empty-row",4,"ngIf"],["style","\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          background: white;\n        ",4,"ngIf"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions"],["paginator",""],["class","spinner",4,"ngIf"],[3,"value"],["mat-header-cell",""],["mat-cell",""],["class","agm-table--status active",4,"ngIf"],["class","agm-table--status inactive",4,"ngIf"],[1,"agm-table--status","active"],[1,"agm-table--status","inactive"],["mat-cell","",1,"agm-table--actions"],["svgIcon","appEditAction",3,"click"],["svgIcon","appDeleteAction",3,"click"],["mat-header-row",""],["mat-row",""],[1,"empty-row"],[2,"display","flex","justify-content","center","align-items","center","background","white"],["diameter","70",2,"margin-top","25px","margin-bottom","25px"],[1,"spinner"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0)(1,"h3",1),t._uU(2,"Category"),t.qZA(),t.TgZ(3,"div",2)(4,"p"),t._uU(5," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam scelerisque venenatis felis sit amet mattis. Maecenas pharetra dui sit amet nunc tristique maximus. Aliquam et orci sem. Suspendisse congue a sem finibus porttitor. Quisque pharetra et turpis et rhoncus. "),t.qZA()(),t.TgZ(6,"section",3)(7,"mat-form-field",4),t._UZ(8,"mat-icon",5),t.TgZ(9,"mat-select",6),t.NdJ("selectionChange",function(r){return a.onCategoryChange(r)})("valueChange",function(r){return a.selectedCategory=r}),t.YNc(10,tn,2,2,"mat-option",7),t.qZA()(),t.TgZ(11,"div",8)(12,"div",9)(13,"button",10),t.NdJ("click",function(){return a.addNewCategory()}),t.TgZ(14,"span")(15,"b"),t._uU(16," Add New "),t.qZA()(),t._UZ(17,"mat-icon",11),t.qZA()()()(),t._UZ(18,"mat-divider"),t.TgZ(19,"section",12)(20,"div",13)(21,"table",14),t.ynx(22,15),t.YNc(23,en,2,0,"th",16),t.YNc(24,nn,2,1,"td",17),t.BQk(),t.ynx(25,18),t.YNc(26,an,2,0,"th",16),t.YNc(27,on,3,4,"td",17),t.BQk(),t.ynx(28,19),t.YNc(29,rn,2,0,"th",16),t.YNc(30,mn,3,2,"td",17),t.BQk(),t.ynx(31,20),t.YNc(32,ln,2,0,"th",16),t.YNc(33,pn,3,0,"td",21),t.BQk(),t.YNc(34,dn,1,0,"tr",22),t.YNc(35,fn,1,0,"tr",23),t.qZA(),t.YNc(36,gn,2,0,"div",24),t.YNc(37,un,2,0,"div",25),t._UZ(38,"mat-paginator",26,27),t.qZA()()(),t.YNc(40,_n,2,0,"div",28)),2&e&&(t.xp6(9),t.Q6J("value",a.selectedCategory),t.xp6(1),t.Q6J("ngForOf",a.categories),t.xp6(11),t.Q6J("dataSource",a.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns),t.xp6(1),t.Q6J("ngIf",a.isEmpty),t.xp6(1),t.Q6J("ngIf",a.isLoading),t.xp6(1),t.Q6J("length",a.tableLength)("pageSize",10)("pageSizeOptions",a.clientPaginator.paginationSizes),t.xp6(2),t.Q6J("ngIf",a.spinner))},dependencies:[g.sg,g.O5,x.Hw,U.xw,P.d,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,h.KE,h.R9,N.gD,k.ey,Z.Ou,p.NW,g.uU],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@500&display=swap";.category-test[_ngcontent-%COMP%]{padding:2.6rem;font-family:Poppins,sans-serif}.category-test[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}.category-test__description[_ngcontent-%COMP%]{color:#043752e6;font-weight:100!important}.category-test__action[_ngcontent-%COMP%]{margin:2.5rem 2.5rem 1rem;justify-content:space-between}.category-test__action[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-outline{background-color:#04375233;border-radius:5px}.category-test__action[_ngcontent-%COMP%]     .mat-select-arrow{opacity:0}.category-test__action[_ngcontent-%COMP%]     .mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{width:1rem}.category-test__action[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#043752e6}.category-test__table[_ngcontent-%COMP%]{margin:2.5rem 2.5rem 1rem}@media only screen and (min-width: 481px) and (max-width: 768px){.category-test[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem}.category-test__action[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}}@media (max-width: 480px){.category-test[_ngcontent-%COMP%]{padding:2rem}.category-test[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;text-align:center}.category-test__action[_ngcontent-%COMP%]{flex-direction:column!important;align-items:center;justify-content:center}.category-test__action[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}}@media only screen and (min-width: 0) and (max-width: 576px){.category-test[_ngcontent-%COMP%]   .category-test__table[_ngcontent-%COMP%]{margin:2.5rem 0rem}}.category-test[_ngcontent-%COMP%]     .mat-paginator-container .mat-select-value{text-align:center}'],changeDetection:0}),n})();var j=f(9025);const Cn=[{name:"Per Kilometer",kms:"Above 2 Kms",price:"30",action:"Hi"}];let yn=(()=>{class n{constructor(e,a){this.masterService=e,this.cdr=a,this.columns=["name","kms","price","action"],this.column2=["name","kms","price","action"],this.data2=Cn,this.data1=[{name:"Sam Johnson",dept:"Electrical"},{name:"Roy Thomas",dept:"Mechanical"},{name:"Jim Lasker",dept:"Medical"}],this.isSurge=!1,this.isLoading=!0,this.isEmpty=!1}ngOnInit(){this.getPhleboCharges()}getPhleboCharges(){this.masterService.getAllPhleboCharges().pipe((0,y.U)(e=>{const a=[];for(const r in e.data.charges)e.data.charges.hasOwnProperty(r)&&a.push({...e.data.charges[r],key:r});return a.filter(r=>"phlebo"==r.type)})).subscribe(e=>{this.data=e,this.isLoading=!1,0==e.length&&(this.isEmpty=!0),this.cdr.detectChanges()})}onClickSurge(e){this.isSurge=0==this.isSurge}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C.m),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-phlebo-charges"]],decls:1,vars:6,consts:[[3,"displayedColumns","data","dataSourceRow","pageTitle","isLoading","isEmpty"]],template:function(e,a){1&e&&t._UZ(0,"app-agm-charges",0),2&e&&t.Q6J("displayedColumns",a.columns)("data",a.data)("dataSourceRow",a.data2)("pageTitle","Phlebo Charges")("isLoading",a.isLoading)("isEmpty",a.isEmpty)},dependencies:[j.n],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@500&display=swap";.phlebo-charges[_ngcontent-%COMP%]{padding:2.6rem;font-family:Poppins,sans-serif}.phlebo-charges[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}.phlebo-charges__action[_ngcontent-%COMP%]{margin:2.5rem 2.5rem 1rem}.phlebo-charges__action[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#043752e6}.phlebo-charges__table[_ngcontent-%COMP%]{margin:2.5rem 2.5rem 1rem}.phlebo-charges__secondary-table[_ngcontent-%COMP%]{margin:2.5rem 0rem 1rem}.phlebo-charges__secondary-table--toggle[_ngcontent-%COMP%]{display:flex}.phlebo-charges__secondary-table--toggle[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]{margin-right:30px}.phlebo-charges__secondary-table--view[_ngcontent-%COMP%]{margin:2.5rem 2.5rem 1rem}@media only screen and (min-width: 481px) and (max-width: 768px){.phlebo-charges[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem}.phlebo-charges__action[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}}@media (max-width: 480px){.phlebo-charges[_ngcontent-%COMP%]{padding:2rem}.phlebo-charges[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;text-align:center}.phlebo-charges__secondary-table--toggle[_ngcontent-%COMP%]{justify-content:center}.phlebo-charges__action[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}.phlebo-charges__action[_ngcontent-%COMP%]{align-items:center;justify-content:center}}'],changeDetection:0}),n})();var bn=f(4466);const vn=[{sampleType:"Plasma",status:"Active",sampleContainer:"Red-Citrate Tube",action:"Hi"},{sampleType:"Serum",status:"Active",sampleContainer:"Red-Citrate Tube",action:"Hi"},{sampleType:"Whole Blood",status:"Inactive",sampleContainer:"Green-Citrate Tube",action:"Hi"}];let Tn=(()=>{class n{constructor(){this.columns=["sampleType","status","sampleContainer","action"],this.data=vn}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-sample-type-new"]],decls:1,vars:2,consts:[[3,"displayedColumns","dataSource"]],template:function(e,a){1&e&&t._UZ(0,"app-agm-sample-type",0),2&e&&t.Q6J("displayedColumns",a.columns)("dataSource",a.data)},dependencies:[L.w],changeDetection:0}),n})();const xn=[{name:"Per Kilometer",kms:"Above 2 Kms",price:"30",action:"Hi"}];let Zn=(()=>{class n{constructor(e,a){this.masterService=e,this.cdr=a,this.columns=["name","kms","price","action"],this.column2=["name","kms","price","action"],this.data2=xn,this.isSurge=!1,this.isLoading=!0,this.isEmpty=!1}ngOnInit(){this.getLogisticsCharges()}getLogisticsCharges(){this.masterService.getAllCharges().pipe((0,y.U)(e=>{const a=[];for(const r in e.data.charges)e.data.charges.hasOwnProperty(r)&&a.push({...e.data.charges[r],key:r});return a.filter(r=>"logistics"==r.type)})).subscribe(e=>{this.data=e,this.isLoading=!1,0==e.length&&(this.isEmpty=!0),this.cdr.detectChanges()})}onClickSurge(e){this.isSurge=0==this.isSurge}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C.m),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-logistics-chrages"]],decls:1,vars:6,consts:[[3,"displayedColumns","data","dataSourceRow","pageTitle","isLoading","isEmpty"]],template:function(e,a){1&e&&t._UZ(0,"app-agm-charges",0),2&e&&t.Q6J("displayedColumns",a.columns)("data",a.data)("dataSourceRow",a.data2)("pageTitle","Logistics Charges")("isLoading",a.isLoading)("isEmpty",a.isEmpty)},dependencies:[j.n],changeDetection:0}),n})();function On(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Enter Department Name "),t.qZA())}function wn(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Only Alphapets & Numeric are allowed "),t.qZA())}function Pn(n,o){1&n&&(t.TgZ(0,"div",13),t._UZ(1,"mat-spinner"),t.qZA())}let H=(()=>{class n{constructor(e,a,i,r,s,l){this.fb=e,this.masterService=a,this.dialogRef=i,this.data=r,this.snackBbar=s,this.cdRef=l,this.deptId="",this.department="",this.spinner=!1,this.isEdit=r.isEdit,this.deptId=r.id,this.department=r.department,this.buildAddDepartmentForm()}ngOnInit(){this.isEdit&&this.getDepartment(this.deptId)}buildAddDepartmentForm(){this.addDepartmentForm=this.fb.group({deptNameInput:new c.NI(this.department,[c.kI.required,c.kI.pattern("^[a-zA-Z0-9-& ]+")]),statusInput:new c.NI(!0,c.kI.required)})}dialogClose(){this.dialogRef.close()}getDepartment(e){this.masterService.getSingleDepartment(e).subscribe(a=>{"success"==a.status&&(this.addDepartmentForm.patchValue({deptNameInput:a.data.name}),this.addDepartmentForm.patchValue({statusInput:a.data.is_active}))})}onFormSubmit(e){if(this.addDepartmentForm.valid){this.spinner=!0;const a={name:this.addDepartmentForm.value.deptNameInput,is_active:this.addDepartmentForm.value.statusInput,master_type:"departments"};""!=this.deptId?this.masterService.updateDepartment(a,this.deptId).subscribe(i=>{"success"==i.status&&this.dialogClose()}):this.masterService.createNewDepartment(a).subscribe({next:i=>{this.spinner=!1,"success"==i.status?(this.snackBbar.open(i.message,"success"),this.dialogClose()):this.snackBbar.open(i.message,""),this.cdRef.detectChanges()},error:i=>{this.spinner=!1,this.snackBbar.open(400==i.status?i.error.error:"Something went wrong",""),this.cdRef.detectChanges()}})}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c.qu),t.Y36(C.m),t.Y36(A.so),t.Y36(A.WI,8),t.Y36(w.c),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-department-create-dialog"]],decls:16,vars:6,consts:[[1,"department-create"],[1,"primary"],[1,"department-create_form"],[1,"department-create_form--view",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm-12"],["floatLabel","never","appearance","outline",2,"width","100%"],["type","text","matInput","","placeholder","Department Name","formControlName","deptNameInput",1,"primary","matInput"],[4,"ngIf"],["type","hidden","name","departmentId",3,"value"],["fxLayout","column",1,"agm-input-form",2,"margin-left","0"],["mat-button","",1,"button-mat-all"],["class","spinner",4,"ngIf"],[1,"spinner"]],template:function(e,a){if(1&e&&(t.TgZ(0,"div",0)(1,"h3",1),t._uU(2),t.qZA(),t.TgZ(3,"div",2)(4,"form",3),t.NdJ("ngSubmit",function(){return a.onFormSubmit(a.addDepartmentForm.value)}),t.TgZ(5,"div",4)(6,"div",5)(7,"mat-form-field",6),t._UZ(8,"input",7),t.YNc(9,On,2,0,"mat-error",8),t.YNc(10,wn,2,0,"mat-error",8),t.qZA()()(),t._UZ(11,"input",9),t.TgZ(12,"div",10)(13,"button",11),t._uU(14,"Save"),t.qZA()()(),t.YNc(15,Pn,2,0,"div",12),t.qZA()()),2&e){let i,r;t.xp6(2),t.hij("",1==a.isEdit?"Edit":"Add New"," Department"),t.xp6(2),t.Q6J("formGroup",a.addDepartmentForm),t.xp6(5),t.Q6J("ngIf",null==(i=a.addDepartmentForm.get("deptNameInput"))||null==i.errors?null:i.errors.required),t.xp6(1),t.Q6J("ngIf",null==(r=a.addDepartmentForm.get("deptNameInput"))||null==r.errors?null:r.errors.pattern),t.xp6(1),t.s9C("value",a.deptId),t.xp6(4),t.Q6J("ngIf",a.spinner)}},dependencies:[g.O5,U.xw,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,h.TO,h.KE,M.Nt,D.lW,Z.Ou],styles:[".department-create_form--btn[_ngcontent-%COMP%]{display:flex;justify-content:end}.department-create_form--btn[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{background:rgba(4,55,82,.6);padding:10px 30px;display:block;color:#fff}"],changeDetection:0}),n})();function An(n,o){if(1&n&&(t.TgZ(0,"mat-option",28),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.viewValue," ")}}function Mn(n,o){1&n&&(t.TgZ(0,"th",29),t._uU(1,"Department"),t.qZA())}function Dn(n,o){if(1&n&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function Nn(n,o){1&n&&(t.TgZ(0,"th",29),t._uU(1,"Created On"),t.qZA())}function Un(n,o){if(1&n&&(t.TgZ(0,"td",30),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.created_at,"dd/MM/yyyy hh:mm a")," ")}}function kn(n,o){1&n&&(t.TgZ(0,"th",29),t._uU(1,"Status"),t.qZA())}function In(n,o){1&n&&(t.TgZ(0,"p",33),t._uU(1," Active "),t.qZA())}function Sn(n,o){1&n&&(t.TgZ(0,"p",34),t._uU(1," Inactive "),t.qZA())}function Fn(n,o){if(1&n&&(t.TgZ(0,"td",30),t.YNc(1,In,2,0,"p",31),t.YNc(2,Sn,2,0,"p",32),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_active),t.xp6(1),t.Q6J("ngIf",0==e.is_active)}}function qn(n,o){1&n&&(t.TgZ(0,"th",29),t._uU(1,"Action"),t.qZA())}function Rn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"td",35)(1,"mat-icon",36),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.editDepartment(r.id))}),t.qZA(),t.TgZ(2,"mat-icon",37),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.deleteDepartment(r.id))}),t.qZA()()}}function Yn(n,o){1&n&&t._UZ(0,"tr",38)}function Jn(n,o){1&n&&t._UZ(0,"tr",39)}function Qn(n,o){1&n&&(t.TgZ(0,"div",40),t._uU(1,"No data available!"),t.qZA())}function En(n,o){1&n&&(t.TgZ(0,"div",41),t._UZ(1,"mat-spinner"),t.qZA())}let Ln=(()=>{class n{constructor(e,a,i,r,s){this.masterService=e,this.cdr=a,this.matDialog=i,this.snackBar=r,this.snackBbar=s,this.sampleStatuses=[{value:"active",viewValue:"Active"},{value:"inactive",viewValue:"Inactive"}],this.displayedColumns=["department","createdOn","status","action"],this.departments=[],this.dataSource=new m.by(this.departments),this.tableLength=0,this.isLoading=!0,this.isEmpty=!1,this.spinner=!1,this.horizontalPosition="center",this.verticalPosition="bottom",this.clientsPagination=new _.p({page:1,perPage:5,total:this.tableLength})}set matPaginator(e){this.dataSource.paginator=e}ngOnInit(){this.isLoading=!0,this.getDepartments()}ngAfterViewInit(){}getDepartments(){this.masterService.getAllDepartments().pipe((0,y.U)(e=>{const a=[];for(const i in e.data.departments)e.data.departments.hasOwnProperty(i)&&a.push({...e.data.departments[i],key:i});return a})).subscribe(e=>{this.isLoading=!1,this.dataSource.data=e,this.tableLength=e.length,0==e.length&&(this.isEmpty=!0),this.cdr.detectChanges()})}onStatusChange(){}addNewDepartment(){this.matDialog.open(H,{width:"20%",data:{id:"",isEdit:!1}}).afterClosed().subscribe(a=>{this.getDepartments()})}editDepartment(e){this.matDialog.open(H,{width:"20%",data:{id:e,isEdit:!0}}).afterClosed().subscribe(i=>{this.getDepartments()})}deleteDepartment(e){this.confirmConsDialog=this.matDialog.open(F.$,{width:"40%",height:"auto",disableClose:!1,data:{message:"Are you sure want to Delete?",buttonText:{ok:"Delete",cancel:"Cancel"}}}),this.confirmConsDialog.afterClosed().subscribe(a=>{a&&(this.spinner=!0,this.masterService.deleteDepartment(e).subscribe({next:i=>{this.spinner=!1,this.snackBbar.open(i.message,""),"success"==i.status&&this.getDepartments()},error:i=>{this.spinner=!1,this.snackBbar.open(400==i.status?i.error.error:"Something went wrong","")}})),this.cdr.detectChanges()})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C.m),t.Y36(t.sBO),t.Y36(A.uw),t.Y36(O.ux),t.Y36(w.c))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-department-master"]],viewQuery:function(e,a){if(1&e&&t.Gf(p.NW,5),2&e){let i;t.iGM(i=t.CRH())&&(a.matPaginator=i.first)}},decls:40,vars:9,consts:[[1,"category-test"],[1,"primary"],[1,"category-test__description"],["fxLayout","row",1,"category-test__action"],["appearance","outline",1,"agm-select"],["svgIcon","appDropdownCaret","matSuffix",""],["disableOptionCentering","","placeholder","Select Status",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"action-buttons"],[1,"btn"],[1,"btn-icons",3,"click"],["svgIcon","appContactForm"],[1,"category-test__table"],[1,"agm-table--container"],["mat-table","",1,"mat-elevation-z8","agm-table",3,"dataSource"],["matColumnDef","department"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","createdOn"],["matColumnDef","status"],["matColumnDef","action"],["mat-cell","","class","agm-table--actions",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","empty-row",4,"ngIf"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions"],["paginator",""],["class","spinner",4,"ngIf"],[3,"value"],["mat-header-cell",""],["mat-cell",""],["class","agm-table--status active",4,"ngIf"],["class","agm-table--status inactive",4,"ngIf"],[1,"agm-table--status","active"],[1,"agm-table--status","inactive"],["mat-cell","",1,"agm-table--actions"],["svgIcon","appEditAction",3,"click"],["svgIcon","appDeleteAction",3,"click"],["mat-header-row",""],["mat-row",""],[1,"empty-row"],[1,"spinner"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0)(1,"h3",1),t._uU(2,"Departments"),t.qZA(),t.TgZ(3,"div",2)(4,"p"),t._uU(5," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam scelerisque venenatis felis sit amet mattis. Maecenas pharetra dui sit amet nunc tristique maximus. Aliquam et orci sem. Suspendisse congue a sem finibus porttitor. Quisque pharetra et turpis et rhoncus. "),t.qZA()(),t.TgZ(6,"section",3)(7,"mat-form-field",4),t._UZ(8,"mat-icon",5),t.TgZ(9,"mat-select",6),t.NdJ("selectionChange",function(){return a.onStatusChange()}),t.YNc(10,An,2,2,"mat-option",7),t.qZA()(),t.TgZ(11,"div",8)(12,"div",9)(13,"button",10),t.NdJ("click",function(){return a.addNewDepartment()}),t.TgZ(14,"span")(15,"b"),t._uU(16," Add New "),t.qZA()(),t._UZ(17,"mat-icon",11),t.qZA()()()(),t._UZ(18,"mat-divider"),t.TgZ(19,"section",12)(20,"div",13)(21,"table",14),t.ynx(22,15),t.YNc(23,Mn,2,0,"th",16),t.YNc(24,Dn,2,1,"td",17),t.BQk(),t.ynx(25,18),t.YNc(26,Nn,2,0,"th",16),t.YNc(27,Un,3,4,"td",17),t.BQk(),t.ynx(28,19),t.YNc(29,kn,2,0,"th",16),t.YNc(30,Fn,3,2,"td",17),t.BQk(),t.ynx(31,20),t.YNc(32,qn,2,0,"th",16),t.YNc(33,Rn,3,0,"td",21),t.BQk(),t.YNc(34,Yn,1,0,"tr",22),t.YNc(35,Jn,1,0,"tr",23),t.qZA(),t.YNc(36,Qn,2,0,"div",24),t._UZ(37,"mat-paginator",25,26),t.qZA()()(),t.YNc(39,En,2,0,"div",27)),2&e&&(t.xp6(10),t.Q6J("ngForOf",a.sampleStatuses),t.xp6(11),t.Q6J("dataSource",a.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns),t.xp6(1),t.Q6J("ngIf",a.isEmpty),t.xp6(1),t.Q6J("length",a.tableLength)("pageSize",10)("pageSizeOptions",a.clientsPagination.paginationSizes),t.xp6(2),t.Q6J("ngIf",a.isLoading))},dependencies:[g.sg,g.O5,x.Hw,U.xw,P.d,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,h.KE,h.R9,N.gD,k.ey,Z.Ou,p.NW,g.uU],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@500&display=swap";.category-test[_ngcontent-%COMP%]{padding:2.6rem;font-family:Poppins,sans-serif}.category-test[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}.category-test__description[_ngcontent-%COMP%]{color:#043752e6;font-weight:100!important}.category-test__action[_ngcontent-%COMP%]{margin:2.5rem 2.5rem 1rem;justify-content:space-between}.category-test__action[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-outline{background-color:#04375233;border-radius:5px}.category-test__action[_ngcontent-%COMP%]     .mat-select-arrow{opacity:0}.category-test__action[_ngcontent-%COMP%]     .mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{width:1rem}.category-test__action[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#043752e6}.category-test__table[_ngcontent-%COMP%]{margin:2.5rem 2.5rem 1rem}@media only screen and (min-width: 481px) and (max-width: 768px){.category-test[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem}.category-test__action[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}}@media (max-width: 480px){.category-test[_ngcontent-%COMP%]{padding:2rem}.category-test[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;text-align:center}.category-test__action[_ngcontent-%COMP%]{flex-direction:column!important;align-items:center;justify-content:center}.category-test__action[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}}.category-test[_ngcontent-%COMP%]     .mat-paginator-container .mat-select-value{text-align:center}'],changeDetection:0}),n})();var G=f(626);let Bn=(()=>{class n{constructor(e,a){this.masterService=e,this.cdr=a,this.columns=["reason","status","action"],this.data=!0,this.isLoading=!0,this.isEmpty=!1}ngOnInit(){this.getRejectionReasons()}getRejectionReasons(){this.masterService.getAllRejectionReasons().pipe((0,y.U)(e=>{const a=[];for(const i in e.data.rejection_reasons)e.data.rejection_reasons.hasOwnProperty(i)&&a.push({...e.data.rejection_reasons[i],key:i});return a})).subscribe(e=>{this.data=e,this.isLoading=!1,0==e.length&&(this.isEmpty=!0),this.cdr.detectChanges()})}tableLoad(e){this.getRejectionReasons()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C.m),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-rejection-master"]],decls:1,vars:6,consts:[[3,"displayedColumns","data","pageTitle","pageType","isLoading","isEmpty","tableLoad"]],template:function(e,a){1&e&&(t.TgZ(0,"app-agm-master",0),t.NdJ("tableLoad",function(r){return a.tableLoad(r)}),t.qZA()),2&e&&t.Q6J("displayedColumns",a.columns)("data",a.data)("pageTitle","Rejection")("pageType","reject")("isLoading",a.isLoading)("isEmpty",a.isEmpty)},dependencies:[G.k],changeDetection:0}),n})(),zn=(()=>{class n{constructor(e,a){this.masterService=e,this.cdr=a,this.columns=["reason","status","action"],this.cancellationReasons=[],this.isLoading=!0,this.isEmpty=!1,this.listType="",this.spinner=!1}ngOnInit(){this.listType="admin",this.getCancellationReasons()}getCancellationReasons(){this.isLoading=!0,"admin"==this.listType?this.masterService.getAllCancellationReasons().pipe((0,y.U)(e=>{const a=[];for(const i in e.data.cancellation_reasons)e.data.cancellation_reasons.hasOwnProperty(i)&&a.push({...e.data.cancellation_reasons[i],key:i});return a})).subscribe(e=>{this.data=e,this.isLoading=!1,this.isEmpty=!1,0==e.length&&(this.isEmpty=!0),this.cdr.detectChanges()}):"customer"==this.listType&&this.masterService.getAllCustomerCancellationReasons().pipe((0,y.U)(e=>{const a=[];for(const i in e.data.customer_cancellation_reasons)e.data.customer_cancellation_reasons.hasOwnProperty(i)&&a.push({...e.data.customer_cancellation_reasons[i],key:i});return a})).subscribe(e=>{this.data=e,this.isLoading=!1,this.isEmpty=!1,0==e.length&&(this.isEmpty=!0),this.cdr.detectChanges()})}tableLoad(e){this.listType=e,this.getCancellationReasons()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C.m),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-cancellation-master"]],decls:1,vars:7,consts:[[3,"displayedColumns","data","pageTitle","pageType","isLoading","isEmpty","listType","tableLoad"]],template:function(e,a){1&e&&(t.TgZ(0,"app-agm-master",0),t.NdJ("tableLoad",function(r){return a.tableLoad(r)}),t.qZA()),2&e&&t.Q6J("displayedColumns",a.columns)("data",a.data)("pageTitle","Cancellation Reasons")("pageType","cancel")("isLoading",a.isLoading)("isEmpty",a.isEmpty)("listType",a.listType)},dependencies:[G.k],changeDetection:0}),n})();var jn=f(8138),Hn=f(9349);function Gn(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Consent Name is Required "),t.qZA())}function $n(n,o){if(1&n&&(t.TgZ(0,"mat-option",39),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.key),t.xp6(1),t.hij(" ",e.value," ")}}function Kn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",36),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.createConsentForm())}),t._uU(1," Save "),t.qZA()}}function Vn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",36),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.updateConsentForm())}),t._uU(1," update "),t.qZA()}}function Wn(n,o){1&n&&(t.TgZ(0,"div",40),t._UZ(1,"mat-spinner",41),t.qZA())}let $=(()=>{class n{constructor(e,a,i,r,s,l,u,b){this.router=e,this.activatedroute=a,this.masterservice=i,this.fb=r,this.cdr=s,this.snackbar=l,this.customIconService=u,this.snackBbar=b,this.consentForm=new c.cw({consentName:new c.NI("",c.kI.required),consentStatus:new c.NI(""),consentFormText:new c.NI(null,c.kI.required),consentFileUpload:new c.NI(null,c.kI.required),consentPerson:new c.NI("")}),this.isLoading=!1,this.status="",this.isActive=!0,this.statusValue=[{key:!0,value:"Active"},{key:!1,value:"Inactive"}]}get isConsentFormUpdate(){return this.activatedroute.snapshot.params&&this.activatedroute.snapshot.params?.id}ngOnInit(){this.getCurrentUserDetails(),this.activatedroute.snapshot.params?.id?(this.id=this.activatedroute.snapshot.params?.id,this.getConsentFormById()):setTimeout(()=>{this.cdr.detectChanges()},10)}getCurrentUserDetails(){this.masterservice.getCurrentUserDetails().subscribe(e=>{"success"==e.status&&(this.consentForm.patchValue({consentPerson:e.data.name}),this.cdr.markForCheck())})}onNameChange(){}onStatusChange(e){this.isActive="inactive"!=e.value}getConsentFormById(){this.masterservice.getSingleConsentForm(this.id).subscribe(e=>{this.consentForm.patchValue({consentName:e.data.name,consentFormText:e.data.description,consentStatus:e.data.is_active}),this.cdr.markForCheck()})}cancelUpdatingConsent(){this.router.navigateByUrl("master/consent-form")}updateConsentForm(){let e={name:this.consentForm.value.consentName,file_name:"contentfile.pdf "+Date.now(),file_path:"/extraction",file_type:"pdf",description:this.consentForm.value.consentFormText,is_active:this.consentForm.value.consentStatus};this.masterservice.updateConsentForm(e,this.id).subscribe(a=>{"success"==a.status&&(this.snackBbar.open(a.message,""),this.router.navigateByUrl("master/consent-form"))})}createConsentForm(){let e={name:this.consentForm.value.consentName,file_name:"consentfile.pdf "+Date.now(),file_path:"/filepdfempty",file_type:"pdf",description:this.consentForm.value.consentFormText,is_active:this.consentForm.value.consentStatus};this.masterservice.createNewConsentForm(e).subscribe(a=>{"success"==a.status&&(this.snackBbar.open(a.message,""),this.router.navigateByUrl("master/consent-form"))})}uploadConsentFile(e){this.isLoading=!0,this.cdr.markForCheck();let a=e.target.files[0];if(a){const i=new FormData;i.append("file",a),i.append("upload_type","html_converter"),this.masterservice.getConvertPDF(i).subscribe(r=>{if("success"==r.status){this.cdr.markForCheck();let l=r.data.html.replace(/<.*?>/g,"");this.consentForm.patchValue({consentFormText:l}),this.isLoading=!1,this.cdr.markForCheck()}})}}onSubmit(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(v.F0),t.Y36(v.gz),t.Y36(C.m),t.Y36(c.qu),t.Y36(t.sBO),t.Y36(O.ux),t.Y36(jn.U),t.Y36(w.c))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-consent-form"]],decls:55,vars:6,consts:[[1,"add-consent-form"],[1,"title","primary"],[3,"formGroup"],[1,"action-section"],[1,"row"],[1,"col-lg-12","col-xs-12","col-md-12"],[1,"add-consent-form_action"],[1,"row","inner-row"],[1,"row-field","col-lg-6","col-md-12"],[1,""],[1,"primary"],["floatLabel","never","appearance","outline",3,"change"],["placeholder","Consent Form Name","matInput","","formControlName","consentName","cdkFocusInitial","","autocomplete","off"],[4,"ngIf"],[1,"status-title"],[1,"select-option"],["appearance","outline",1,"agm-select"],["svgIcon","appDropdownCaret","matSuffix",""],["formControlName","consentStatus"],[3,"value",4,"ngFor","ngForOf"],[1,"col-lg-6","col-md-12"],[1,"action-buttons","row"],[1,"btn-field","row"],["mat-button","",1,"button-mat-all-cancel","btn-cancel",3,"click"],["class","button-mat-all","mat-button","","color","#fff",3,"click",4,"ngIf"],[1,"formArea-section"],[1,"data-container-common"],[1,"formTitle","primary"],["appearance","outline",1,"primary","form-textArea"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","6","cdkAutosizeMaxRows","200","placeholder","Type here","formControlName","consentFormText"],["autosize","cdkTextareaAutosize"],["style","display: flex; justify-content: center; align-items: center",4,"ngIf"],[1,"declarationField"],["appearance","fill",1,"input-mat-all"],["matInput","","formControlName","consentPerson",1,"primary"],[1,"uploadBtn"],["mat-button","","color","#fff",1,"button-mat-all",3,"click"],["type","file","accept",".pdf","formControlName","consentFileUpload",1,"hide",3,"change"],["fileAttach",""],[3,"value"],[2,"display","flex","justify-content","center","align-items","center"],["diameter","70",2,"margin-top","50px","margin-bottom","25px"]],template:function(e,a){if(1&e){const i=t.EpF();t.TgZ(0,"div",0)(1,"h3",1),t._uU(2,"Add Consent Form"),t.qZA(),t.TgZ(3,"form",2)(4,"section",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"label",10),t._uU(12,"Consent Form Name"),t.qZA()(),t.TgZ(13,"div",10)(14,"mat-form-field",11),t.NdJ("change",function(){return a.onNameChange()}),t._UZ(15,"input",12),t.YNc(16,Gn,2,0,"mat-error",13),t.qZA()(),t.TgZ(17,"div",14)(18,"label",10),t._uU(19,"Status"),t.qZA()(),t.TgZ(20,"div",15)(21,"mat-form-field",16),t._UZ(22,"mat-icon",17),t.TgZ(23,"mat-select",18),t.YNc(24,$n,2,2,"mat-option",19),t.qZA()()()(),t.TgZ(25,"div",20),t._UZ(26,"div",21),t.TgZ(27,"div",22)(28,"div",9)(29,"button",23),t.NdJ("click",function(){return a.cancelUpdatingConsent()}),t._uU(30," Cancel "),t.qZA()(),t.TgZ(31,"div",9),t.YNc(32,Kn,2,0,"button",24),t.YNc(33,Vn,2,0,"button",24),t.qZA()()()()()()()(),t._UZ(34,"mat-divider"),t.TgZ(35,"section",25)(36,"div",26)(37,"h3",27),t._uU(38,"Consent Form Name"),t.qZA(),t.TgZ(39,"mat-form-field",28),t._UZ(40,"textarea",29,30),t.qZA(),t.YNc(42,Wn,2,0,"div",31),t.TgZ(43,"h3",10),t._uU(44,"Declaration"),t.qZA(),t.TgZ(45,"div",32)(46,"p",10)(47,"mat-form-field",33),t._UZ(48,"input",34),t.qZA(),t._uU(49,"authorize to perform the treatment or necessary procedure to me. This consent has been read and I accept to the terms of the test process "),t.qZA()(),t.TgZ(50,"div",35)(51,"button",36),t.NdJ("click",function(){t.CHM(i);const s=t.MAs(54);return t.KtG(s.click())}),t._uU(52," File Upload "),t.qZA(),t.TgZ(53,"input",37,38),t.NdJ("change",function(s){return a.uploadConsentFile(s)}),t.qZA()()()()()()}if(2&e){let i;t.xp6(3),t.Q6J("formGroup",a.consentForm),t.xp6(13),t.Q6J("ngIf",null==(i=a.consentForm.get("consentName"))||null==i.errors?null:i.errors.required),t.xp6(8),t.Q6J("ngForOf",a.statusValue),t.xp6(8),t.Q6J("ngIf",!a.isConsentFormUpdate),t.xp6(1),t.Q6J("ngIf",a.isConsentFormUpdate),t.xp6(9),t.Q6J("ngIf",a.isLoading)}},dependencies:[g.sg,g.O5,x.Hw,P.d,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,Hn.IC,h.TO,h.KE,h.R9,M.Nt,D.lW,N.gD,k.ey,Z.Ou],styles:["app-add-consent-form .add-consent-form{padding:2.6rem}  app-add-consent-form .add-consent-form .action-section{margin-bottom:1.5em}  app-add-consent-form .add-consent-form .agm-select mat-icon{width:1rem}  app-add-consent-form .add-consent-form .consent-title{text-align:right}  app-add-consent-form .add-consent-form_action .inner-row .row-field{display:flex;align-items:center;justify-content:space-between}  app-add-consent-form .add-consent-form_action .inner-row .row-field mat-form-field{display:block}  app-add-consent-form .add-consent-form_action .inner-row .row-field mat-form-field .mat-form-field-wrapper{padding-bottom:0}  app-add-consent-form .add-consent-form_action .inner-row .row-field mat-form-field .active .mat-select-value-text{color:#146300}  app-add-consent-form .add-consent-form_action .inner-row .row-field mat-form-field .inactive .mat-select-value-text{color:red}  app-add-consent-form .add-consent-form_action .inner-row .mat-select-arrow{display:none}  app-add-consent-form .add-consent-form_action .action-buttons{display:flex;justify-content:space-around;margin-top:0}  app-add-consent-form .add-consent-form_action .action-buttons .button-field{display:flex;flex-direction:column;justify-content:center;align-items:center}  app-add-consent-form .add-consent-form_action .action-buttons .button-field label{padding-top:1em;text-align:center}  app-add-consent-form .add-consent-form_action .btn-field{display:flex;justify-content:space-around}  app-add-consent-form .add-consent-form_action .btn-field button{width:15rem;height:4rem}  app-add-consent-form .add-consent-form .formArea-section .data-container-common .mat-form-field-outline{display:none}  app-add-consent-form .add-consent-form .formArea-section .data-container-common .formTitle{text-align:center}  app-add-consent-form .add-consent-form .formArea-section .data-container-common .form-textArea{width:100%}  app-add-consent-form .add-consent-form .formArea-section .data-container-common .declarationField .mat-form-field-appearance-fill{background-color:transparent}  app-add-consent-form .add-consent-form .formArea-section .data-container-common .declarationField .mat-form-field-flex{width:12em;background-color:transparent}  app-add-consent-form .add-consent-form .formArea-section .data-container-common .declarationField{display:flex;align-items:center}  app-add-consent-form .add-consent-form .formArea-section .data-container-common .uploadBtn{display:flex;justify-content:flex-end}  app-add-consent-form .add-consent-form .formArea-section   .mat-form-field-wrapper{padding-bottom:1.34375em}@media only screen and (min-width: 769px) and (max-width: 1024px){.add-consent-form_action[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{margin-top:2em}}@media only screen and (min-width: 481px) and (max-width: 768px){.add-consent-form_action[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{margin-top:2em}}@media (max-width: 480px){.add-consent-form[_ngcontent-%COMP%]   .inner-row[_ngcontent-%COMP%]   .row-field[_ngcontent-%COMP%]{display:inline;display:initial}.add-consent-form[_ngcontent-%COMP%]   .inner-row[_ngcontent-%COMP%]   .row-field[_ngcontent-%COMP%]   .status-title[_ngcontent-%COMP%]{margin-top:2em}.add-consent-form_action[_ngcontent-%COMP%]   .btn-field[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.add-consent-form_action[_ngcontent-%COMP%]   .btn-field[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{margin-bottom:2em}.add-consent-form[_ngcontent-%COMP%]   .formArea-section[_ngcontent-%COMP%]   .data-container-common[_ngcontent-%COMP%]{width:auto;margin:2em 0;padding:2em}.add-consent-form[_ngcontent-%COMP%]   .formArea-section[_ngcontent-%COMP%]   .data-container-common[_ngcontent-%COMP%]   .uploadBtn[_ngcontent-%COMP%]{justify-content:center}}"],changeDetection:0}),n})();var Xn=f(6308),ta=f(9970);function ea(n,o){1&n&&(t.TgZ(0,"th",20),t._uU(1,"Consent Form"),t.qZA())}function na(n,o){if(1&n&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function aa(n,o){1&n&&(t.TgZ(0,"th",20),t._uU(1,"Status"),t.qZA())}function ia(n,o){1&n&&(t.TgZ(0,"p",24),t._uU(1," Active "),t.qZA())}function oa(n,o){1&n&&(t.TgZ(0,"p",25),t._uU(1," Inactive "),t.qZA())}function ra(n,o){if(1&n&&(t.TgZ(0,"td",21),t.YNc(1,ia,2,0,"p",22),t.YNc(2,oa,2,0,"p",23),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_active),t.xp6(1),t.Q6J("ngIf",0==e.is_active)}}function sa(n,o){1&n&&(t.TgZ(0,"th",20),t._uU(1,"Action"),t.qZA())}function ca(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"td",21)(1,"mat-icon",26),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.editForm(r))}),t.qZA(),t.TgZ(2,"mat-icon",27),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.deleteForm(r.id))}),t.qZA()()}}function ma(n,o){1&n&&t._UZ(0,"tr",28)}function la(n,o){1&n&&t._UZ(0,"tr",29)}function pa(n,o){1&n&&(t.TgZ(0,"div",30),t._uU(1,"No data available!"),t.qZA())}function da(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"mat-paginator",31),t.NdJ("page",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.getPageEvent(i))}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("length",e.tableLength)("pageIndex",(e.clientsPagination.page||1)-1)("pageSize",e.clientsPagination.perPage)("pageSizeOptions",e.clientsPagination.paginationSizes)("showFirstLastButtons",!0)}}function fa(n,o){1&n&&(t.TgZ(0,"div",32),t._UZ(1,"mat-spinner"),t.qZA())}const ua=[{rateList:"Change",fromDate:"15/07/2022",toDate:"15/07/2022",action:""}];function ha(n,o){1&n&&(t.TgZ(0,"mat-error",null,20),t._uU(2," Referral is required "),t.qZA())}function Ca(n,o){1&n&&(t.TgZ(0,"mat-error",null,21),t._uU(2," Referral Point is required "),t.qZA())}function ya(n,o){1&n&&(t.TgZ(0,"mat-error",null,22),t._uU(2," Max Redeem Point is required "),t.qZA())}const ba=[{rateList:"Change",fromDate:"15/07/2022",toDate:"15/07/2022",action:""}];function Ta(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Test Unit is required "),t.qZA())}function xa(n,o){if(1&n&&(t.TgZ(0,"mat-option",37),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.status),t.xp6(1),t.hij(" ",e.value," ")}}function Za(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Status is required "),t.qZA())}function Oa(n,o){1&n&&(t.TgZ(0,"button",38),t._uU(1," Save "),t.qZA())}function wa(n,o){1&n&&(t.TgZ(0,"button",39),t._uU(1,"Save"),t.qZA())}function Pa(n,o){1&n&&(t.TgZ(0,"th",40),t._uU(1,"Unit"),t.qZA())}function Aa(n,o){if(1&n&&(t.TgZ(0,"td",41),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function Ma(n,o){1&n&&(t.TgZ(0,"th",40),t._uU(1,"Created On"),t.qZA())}function Da(n,o){if(1&n&&(t.TgZ(0,"td",41),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.created_at,"dd/MM/yyyy hh:mm a")," ")}}function Na(n,o){1&n&&(t.TgZ(0,"th",40),t._uU(1,"Status"),t.qZA())}function Ua(n,o){1&n&&(t.TgZ(0,"p",44),t._uU(1," Active "),t.qZA())}function ka(n,o){1&n&&(t.TgZ(0,"p",45),t._uU(1," Inactive "),t.qZA())}function Ia(n,o){if(1&n&&(t.TgZ(0,"td",41),t.YNc(1,Ua,2,0,"p",42),t.YNc(2,ka,2,0,"p",43),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_active),t.xp6(1),t.Q6J("ngIf",0==e.is_active)}}function Sa(n,o){1&n&&(t.TgZ(0,"th",40),t._uU(1,"Action"),t.qZA())}function Fa(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"td",41)(1,"mat-icon",46),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.editMasterData(r.id))}),t.qZA(),t.TgZ(2,"mat-icon",47),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.deleteMasterData(r.id))}),t.qZA()()}}function qa(n,o){1&n&&t._UZ(0,"tr",48)}function Ra(n,o){1&n&&t._UZ(0,"tr",49)}function Ya(n,o){1&n&&(t.TgZ(0,"div",50),t._UZ(1,"mat-spinner"),t.qZA())}function Qa(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Inventory Unit is required "),t.qZA())}function Ea(n,o){if(1&n&&(t.TgZ(0,"mat-option",37),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.status),t.xp6(1),t.hij(" ",e.value," ")}}function La(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Status is required "),t.qZA())}function Ba(n,o){1&n&&(t.TgZ(0,"button",38),t._uU(1," Save "),t.qZA())}function za(n,o){1&n&&(t.TgZ(0,"button",39),t._uU(1,"Save"),t.qZA())}function ja(n,o){1&n&&(t.TgZ(0,"th",40),t._uU(1,"Unit"),t.qZA())}function Ha(n,o){if(1&n&&(t.TgZ(0,"td",41),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function Ga(n,o){1&n&&(t.TgZ(0,"th",40),t._uU(1,"Created On"),t.qZA())}function $a(n,o){if(1&n&&(t.TgZ(0,"td",41),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.created_at,"dd/MM/yyyy hh:mm a")," ")}}function Ka(n,o){1&n&&(t.TgZ(0,"th",40),t._uU(1,"Status"),t.qZA())}function Va(n,o){1&n&&(t.TgZ(0,"p",44),t._uU(1," Active "),t.qZA())}function Wa(n,o){1&n&&(t.TgZ(0,"p",45),t._uU(1," Inactive "),t.qZA())}function Xa(n,o){if(1&n&&(t.TgZ(0,"td",41),t.YNc(1,Va,2,0,"p",42),t.YNc(2,Wa,2,0,"p",43),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.is_active),t.xp6(1),t.Q6J("ngIf",0==e.is_active)}}function ti(n,o){1&n&&(t.TgZ(0,"th",40),t._uU(1,"Action"),t.qZA())}function ei(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"td",41)(1,"mat-icon",46),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.editMasterData(r.id))}),t.qZA(),t.TgZ(2,"mat-icon",47),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.deleteMasterData(r.id))}),t.qZA()()}}function ni(n,o){1&n&&t._UZ(0,"tr",48)}function ai(n,o){1&n&&t._UZ(0,"tr",49)}function ii(n,o){1&n&&(t.TgZ(0,"div"),t._uU(1,"No data available!"),t.qZA())}function oi(n,o){1&n&&(t.TgZ(0,"div",50),t._UZ(1,"mat-spinner",51),t.qZA())}const ri=[{path:"",component:d,children:[{path:"",redirectTo:"referrals",pathMatch:"full"},{path:"referrals",component:lt},{path:"referrals/cancellation",component:E},{path:"referrals/cancellation/:id",component:E},{path:"sample-type",component:Kt},{path:"organisation-tariff",component:ce},{path:"organisation-tariff/cancellation",component:B},{path:"organisation-tariff/:id",component:B},{path:"category-test",component:hn},{path:"phlebo-charges",component:yn},{path:"sample-type-new",component:Tn},{path:"logistics-charges",component:Zn},{path:"department",component:Ln},{path:"rejection",component:Bn},{path:"cancellation",component:zn},{path:"add-consent-form",component:$},{path:"edit-consent-form/:id",component:$},{path:"consent-form",component:(()=>{class n{constructor(e,a,i,r,s,l,u){this.customIconService=e,this.router=a,this.masterService=i,this.cdr=r,this.snackbar=s,this.dialog=l,this.snackBbar=u,this.columns=["reason","status","action"],this.consentForms=[],this.dataSource=new m.by(this.consentForms),this.tableLength=0,this.isLoading=!1,this.clientsPagination=new _.p({page:1,perPage:5,total:this.tableLength}),this.isEmpty=!1}ngOnInit(){this.getConsentForms()}getPageEvent(e){console.log("pageevent",e),this.clientsPagination.doPagination(e),this.getConsentForms()}getConsentForms(){this.isLoading=!0,this.masterService.getConsentFormPagination(this.clientsPagination.perPage,this.clientsPagination.page).subscribe(e=>{this.isLoading=!1,this.isEmpty=!1,this.dataSource=e.data.results,this.tableLength=e.data.pagination.total,this.dataSource.data=e,this.tableLength=e.length,0==this.dataSource.data.length&&(this.isEmpty=!0),this.cdr.detectChanges()})}addNewTariff(){this.router.navigateByUrl("master/add-consent-form")}editReferralComm(){}editForm(e){this.router.navigateByUrl("master/edit-consent-form/"+e?.id)}deleteForm(e){this.confirmConsDialog=this.dialog.open(F.$,{width:"40%",height:"auto",disableClose:!1,data:{message:"Are you sure want to Delete?",buttonText:{ok:"Delete",cancel:"Cancel"}}}),this.confirmConsDialog.afterClosed().subscribe(a=>{a&&this.masterService.deleteConsentForm(e).subscribe(i=>{"success"==i.status&&(this.snackBbar.open(i.message,""),this.getConsentForms(),this.cdr.detectChanges())})})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(ta.U),t.Y36(v.F0),t.Y36(C.m),t.Y36(t.sBO),t.Y36(O.ux),t.Y36(A.uw),t.Y36(w.c))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-concent-form"]],viewQuery:function(e,a){if(1&e&&(t.Gf(p.NW,5),t.Gf(Xn.YE,5)),2&e){let i;t.iGM(i=t.CRH())&&(a.paginator=i.first),t.iGM(i=t.CRH())&&(a.sort=i.first)}},decls:29,vars:6,consts:[[1,"consent-comm"],[1,"primary"],["fxLayout","row",1,"consent-comm__action"],[1,"action-buttons"],[1,"btn"],[1,"btn-icons",3,"click"],["svgIcon","appContactForm"],[1,"consent-comm__table"],[1,"agm-table--container"],["mat-table","",1,"mat-elevation-z8","agm-table",3,"dataSource"],["matColumnDef","reason"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","status"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","empty-row",4,"ngIf"],[3,"length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons","page",4,"ngIf"],["class","spinner",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["class","agm-table--status active",4,"ngIf"],["class","agm-table--status inactive",4,"ngIf"],[1,"agm-table--status","active"],[1,"agm-table--status","inactive"],["svgIcon","appEditAction",3,"click"],["svgIcon","appDeleteAction",3,"click"],["mat-header-row",""],["mat-row",""],[1,"empty-row"],[3,"length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons","page"],[1,"spinner"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0)(1,"h3",1),t._uU(2,"Consent Form"),t.qZA(),t.TgZ(3,"section",2)(4,"div",3)(5,"div",4)(6,"button",5),t.NdJ("click",function(){return a.addNewTariff()}),t.TgZ(7,"span")(8,"b"),t._uU(9," Add New Form "),t.qZA()(),t._UZ(10,"mat-icon",6),t.qZA()()()(),t._UZ(11,"mat-divider"),t.TgZ(12,"section",7)(13,"div",8)(14,"table",9),t.ynx(15,10),t.YNc(16,ea,2,0,"th",11),t.YNc(17,na,2,1,"td",12),t.BQk(),t.ynx(18,13),t.YNc(19,aa,2,0,"th",11),t.YNc(20,ra,3,2,"td",12),t.BQk(),t.ynx(21,14),t.YNc(22,sa,2,0,"th",11),t.YNc(23,ca,3,0,"td",12),t.BQk(),t.YNc(24,ma,1,0,"tr",15),t.YNc(25,la,1,0,"tr",16),t.qZA(),t.YNc(26,pa,2,0,"div",17),t.YNc(27,da,1,5,"mat-paginator",18),t.qZA()()(),t.YNc(28,fa,2,0,"div",19)),2&e&&(t.xp6(14),t.Q6J("dataSource",a.dataSource),t.xp6(10),t.Q6J("matHeaderRowDef",a.columns),t.xp6(1),t.Q6J("matRowDefColumns",a.columns),t.xp6(1),t.Q6J("ngIf",a.isEmpty),t.xp6(1),t.Q6J("ngIf",!a.isLoading&&!a.isEmpty),t.xp6(1),t.Q6J("ngIf",a.isLoading))},dependencies:[g.O5,x.Hw,U.xw,P.d,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,Z.Ou,p.NW],styles:[".consent-comm[_ngcontent-%COMP%]{padding:2.6rem;font-family:Poppins,sans-serif}.consent-comm[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}.consent-comm__action[_ngcontent-%COMP%]{margin:2.5rem 2.5rem 1rem}.consent-comm__action[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#043752e6}.consent-comm__table[_ngcontent-%COMP%]{margin:2.5rem 2.5rem 1rem}@media only screen and (min-width: 481px) and (max-width: 768px){.consent-comm[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem}.consent-comm__action[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}}@media (max-width: 480px){.consent-comm[_ngcontent-%COMP%]{padding:2rem}.consent-comm[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;text-align:center}.consent-comm__action[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}.consent-comm__action[_ngcontent-%COMP%]{align-items:center;justify-content:center}}@media only screen and (min-width: 0) and (max-width: 576px){.consent-comm[_ngcontent-%COMP%]   .consent-comm__table[_ngcontent-%COMP%]{margin:2.5rem 0rem}}  .mat-paginator-container .mat-select-value{text-align:center}.add-referral-comm__table[_ngcontent-%COMP%]{margin-top:3em}"],changeDetection:0}),n})()},{path:"cancellation-price",component:(()=>{class n{constructor(e,a,i,r,s){this.router=e,this.masterService=a,this.cdr=i,this.snackbar=r,this.snackBbar=s,this.displayedColumns=["rateList","fromDate","toDate","action"],this.dataSource=ua,this.cancellationForm=new c.cw({orderplaced:new c.NI("",c.kI.required),phleboassigned:new c.NI("",c.kI.required),reachedcustomerplace:new c.NI("",c.kI.required),samplecollected:new c.NI("",c.kI.required)})}ngOnInit(){this.getOrderStatus()}getOrderStatus(){this.masterService.getOrderStatus().subscribe(e=>{"success"==e.status&&e.data.order_status.forEach(a=>{"Order Placed"==a.name&&(this.orderPlacedId=a.id),"Order Assigned"==a.name&&(this.phleboAssignedId=a.id),"Reached Customer Location"==a.name&&(this.reachedCustomerPlacedId=a.id),"Sample Collected"==a.name&&(this.sampleCollected=a.id)}),this.cdr.markForCheck()})}createCancellationCharges(){this.masterService.createCancellationCharges({charges:[{status:this.orderPlacedId,description:"order placed",percentage:this.cancellationForm.value.orderplaced},{status:this.phleboAssignedId,description:"phlebo assigned",percentage:this.cancellationForm.value.phleboassigned},{status:this.reachedCustomerPlacedId,description:"Reached Customer Location",percentage:this.cancellationForm.value.reachedcustomerplace},{status:this.sampleCollected,description:"sample collected",percentage:this.cancellationForm.value.samplecollected}]}).subscribe(a=>{"success"==a.status&&this.snackBbar.open(a.message,"")})}addNewTariff(){this.router.navigate(["master/referrals/cancellation"])}cancel(){this.router.navigateByUrl("master/referrals")}editReferralComm(){}deleteReferralComm(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(v.F0),t.Y36(C.m),t.Y36(t.sBO),t.Y36(O.ux),t.Y36(w.c))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-cancellation-price"]],decls:42,vars:1,consts:[[1,"cancellation-price"],[3,"formGroup"],[1,"primary"],[1,"cancellation-price__order--details"],[1,"row"],[1,"col-sm-12","col-md-6"],[1,"row","cancellation-price__order--details-title"],[1,"col-sm-6"],[1,"row","cancellation-price__order--details-row"],["floatLabel","never","appearance","outline",1,"agm-input-lg"],["cdkFocusInitial","","type","text","formControlName","orderplaced","placeholder","%","appearance","outline","matInput","","maxlength","4","appNumbersOnly",""],["type","text","formControlName","phleboassigned","placeholder","%","appearance","outline","matInput","","maxlength","4","appNumbersOnly",""],["type","text","formControlName","reachedcustomerplace","placeholder","%","appearance","outline","matInput","","maxlength","4","appNumbersOnly",""],["type","text","formControlName","samplecollected","placeholder","%","appearance","outline","matInput","","maxlength","4","appNumbersOnly",""],[1,"cancellation-price__btns"],["mat-button","",1,"button-mat-all-cancel","cancel",3,"click"],["mat-button","",1,"button-mat-all",3,"click"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0)(1,"form",1)(2,"h3",2),t._uU(3,"Cancellation Refund Percentage"),t.qZA(),t.TgZ(4,"section",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7),t._uU(9,"Order Status"),t.qZA(),t.TgZ(10,"div",7),t._uU(11,"Price ( % of Order Total )"),t.qZA()(),t.TgZ(12,"div",8)(13,"div",7),t._uU(14,"Order Placed"),t.qZA(),t.TgZ(15,"div",7)(16,"mat-form-field",9),t._UZ(17,"input",10),t.qZA()()(),t.TgZ(18,"div",8)(19,"div",7),t._uU(20,"Phlebo Assigned"),t.qZA(),t.TgZ(21,"div",7)(22,"mat-form-field",9),t._UZ(23,"input",11),t.qZA()()(),t.TgZ(24,"div",8)(25,"div",7),t._uU(26,"Phlebo Reached Customer Place"),t.qZA(),t.TgZ(27,"div",7)(28,"mat-form-field",9),t._UZ(29,"input",12),t.qZA()()(),t.TgZ(30,"div",8)(31,"div",7),t._uU(32,"Sample Collected"),t.qZA(),t.TgZ(33,"div",7)(34,"mat-form-field",9),t._UZ(35,"input",13),t.qZA()()()()()(),t.TgZ(36,"section")(37,"div",14)(38,"button",15),t.NdJ("click",function(){return a.cancel()}),t._uU(39," Cancel "),t.qZA(),t.TgZ(40,"button",16),t.NdJ("click",function(){return a.createCancellationCharges()}),t._uU(41," Update "),t.qZA()()()()()),2&e&&(t.xp6(1),t.Q6J("formGroup",a.cancellationForm))},dependencies:[c._Y,c.Fj,c.JJ,c.JL,c.nD,c.sg,c.u,h.KE,M.Nt,D.lW,Y.X],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@500&display=swap";.cancellation-price[_ngcontent-%COMP%]{padding:2.6rem;font-family:Poppins,sans-serif}.cancellation-price[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}.cancellation-price__order--details[_ngcontent-%COMP%]{margin-left:6rem;margin-top:60px}.cancellation-price__order--details-title[_ngcontent-%COMP%]{margin-bottom:3.5rem}.cancellation-price__order--details-row[_ngcontent-%COMP%]{margin-top:.5rem;display:flex;justify-content:center;align-items:center}.cancellation-price__order--details-row[_ngcontent-%COMP%]   .col-sm-6[_ngcontent-%COMP%], .cancellation-price__order--details-title[_ngcontent-%COMP%]   .col-sm-6[_ngcontent-%COMP%]{color:#26506b}.cancellation-price__order--details[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{text-align:center}.cancellation-price__order--details[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-outline{background-color:#0437520d}.cancellation-price__btns[_ngcontent-%COMP%]{display:flex;justify-content:end}.cancellation-price__btns[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{margin-right:50px}.cancellation-price__btns[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{position:fixed;bottom:0;width:95%;margin-bottom:2.6rem}.cancellation-price__btns--section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.cancellation-price__btns--section[_ngcontent-%COMP%]   .cancellation-price__btn--cancel[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;outline:1px solid #043752;color:#043752}.cancellation-price__btns--section[_ngcontent-%COMP%]   .cancellation-price__btn--update[_ngcontent-%COMP%]{background-color:#043752;box-shadow:0 4px 4px #00000040;color:#fff}@media only screen and (min-width: 769px) and (max-width: 1024px){.cancellation-price__btns[_ngcontent-%COMP%]{display:flex;justify-content:end}.cancellation-price__btns[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{margin-right:50px}.cancellation-price__btns[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{width:70%}}@media only screen and (min-width: 481px) and (max-width: 768px){.cancellation-price[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem}.cancellation-price__action[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.cancellation-price__btns[_ngcontent-%COMP%]{display:flex;justify-content:end}.cancellation-price__btns[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{margin-right:50px}.cancellation-price__btns[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{width:95%}.cancellation-price__btns[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 480px){.cancellation-price[_ngcontent-%COMP%]{padding:2rem}.cancellation-price[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;text-align:center}.cancellation-price__order--details[_ngcontent-%COMP%]{margin-left:0;margin-top:20px;text-align:center}.cancellation-price__order--details-title[_ngcontent-%COMP%]{display:none}.cancellation-price__btns[_ngcontent-%COMP%]{display:flex;justify-content:end}.cancellation-price__btns[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{margin-right:50px}.cancellation-price__btns[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{width:95%}.cancellation-price__btns[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{font-size:1rem}}'],changeDetection:0}),n})()},{path:"referral-points",component:(()=>{class n{constructor(e,a,i,r,s){this.router=e,this.masterService=a,this.snackbar=i,this.cdr=r,this.snackBbar=s,this.displayedColumns=["rateList","fromDate","toDate","action"],this.dataSource=ba,this.referralForm=new c.cw({unit:new c.NI(null,c.kI.required),per_unit:new c.NI(null,c.kI.required),max_redeem:new c.NI(null,c.kI.required)})}ngOnInit(){}updateValueInput(e){this.referralForm.patchValue({per_unit:e.per_unit,unit:e.unit,max_redeem:e.max_redeem})}onSubmit(){if(this.referralForm.valid){const e={unit:Number(this.referralForm.value.unit),per_unit:Number(this.referralForm.value.per_unit),max_redeem:Number(this.referralForm.value.max_redeem)};console.log("payload",e),this.masterService.createReferralPoint(e).subscribe(a=>{"success"==a.status&&(this.snackBbar.open(a.message,""),this.cdr.markForCheck(),this.referralForm.reset(),this.router.navigateByUrl("master/referrals"))})}}cancel(){this.router.navigateByUrl("master/referrals")}addNewTariff(){this.router.navigate(["master/referrals/cancellation"])}getRefralPoints(){this.masterService.getReferralPoint().pipe((0,y.U)(e=>{const a=[];for(const i in e.data.ReferralPoint)e.data.ReferralPoint.hasOwnProperty(i)&&a.push({...e.data.ReferralPoint[i],key:i});return a})).subscribe(e=>{this.referralData=e[0],this.updateValueInput(this.referralData)})}updateFormValue(e){const i={unit:Number(e.unit),per_unit:Number(e.per_unit),max_redeem:Number(e.max_redeem)};this.masterService.updateRerralPoint(i).subscribe(r=>{})}editReferralComm(){}deleteReferralComm(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(v.F0),t.Y36(C.m),t.Y36(O.ux),t.Y36(t.sBO),t.Y36(w.c))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-referral-points"]],decls:46,vars:4,consts:[[1,"referral-points"],[3,"formGroup","ngSubmit"],[1,"primary"],[1,"referral-points__order--details","topRow"],[1,"row"],[1,"col-sm-12","col-md-8"],[1,"row","referral-points__order--details-row"],[1,"col-sm-5"],[1,"col-sm-6","referral-points__order--details-input"],[1,"prefix"],["floatLabel","never","appearance","outline",1,"agm-input-lg"],["required","","formControlName","unit","appearance","outline","type","text","matInput","","maxlength","5","appNumbersOnly","","autocomplete","off"],[4,"ngIf"],[1,"suffix"],[1,"col-sm-1"],["formControlName","per_unit","appearance","outline","type","text","matInput","","maxlength","5","appNumbersOnly","","autocomplete","off"],["appearance","outline","formControlName","max_redeem","type","text","matInput","","maxlength","4","appNumbersOnly","","autocomplete","off"],[1,"referral-points__btns"],["mat-button","",1,"button-mat-all-cancel","cancel",3,"click"],["type","submit","mat-button","",1,"button-mat-all"],["unit",""],["per_unit",""],["max_redeem",""]],template:function(e,a){if(1&e&&(t.TgZ(0,"div",0)(1,"form",1),t.NdJ("ngSubmit",function(){return a.onSubmit()}),t.TgZ(2,"h3",2),t._uU(3,"Referral Points"),t.qZA(),t.TgZ(4,"section",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7),t._uU(9,"1 Referral"),t.qZA(),t.TgZ(10,"div",8),t._UZ(11,"div",9),t.TgZ(12,"mat-form-field",10),t._UZ(13,"input",11),t.YNc(14,ha,3,0,"mat-error",12),t.qZA(),t.TgZ(15,"div",13),t._uU(16,"point(s)"),t.qZA()(),t._UZ(17,"div",14),t.qZA(),t.TgZ(18,"div",6)(19,"div",7),t._uU(20,"1 Referral Point"),t.qZA(),t.TgZ(21,"div",8)(22,"div",9),t._uU(23,"Rs"),t.qZA(),t.TgZ(24,"mat-form-field",10),t._UZ(25,"input",15),t.YNc(26,Ca,3,0,"mat-error",12),t.qZA(),t._UZ(27,"div",13),t.qZA(),t._UZ(28,"div",14),t.qZA(),t.TgZ(29,"div",6)(30,"div",7),t._uU(31,"Max Points to Redeem Per Order"),t.qZA(),t.TgZ(32,"div",8),t._UZ(33,"div",9),t.TgZ(34,"mat-form-field",10),t._UZ(35,"input",16),t.YNc(36,ya,3,0,"mat-error",12),t.qZA(),t.TgZ(37,"div",13),t._uU(38,"%"),t.qZA()(),t._UZ(39,"div",14),t.qZA()()()(),t.TgZ(40,"section")(41,"div",17)(42,"button",18),t.NdJ("click",function(){return a.cancel()}),t._uU(43," Cancel "),t.qZA(),t.TgZ(44,"button",19),t._uU(45,"Update"),t.qZA()()()()()),2&e){let i,r,s;t.xp6(1),t.Q6J("formGroup",a.referralForm),t.xp6(13),t.Q6J("ngIf",null==(i=a.referralForm.get("unit"))?null:i.hasError("required")),t.xp6(12),t.Q6J("ngIf",null==(r=a.referralForm.get("per_unit"))?null:r.hasError("required")),t.xp6(10),t.Q6J("ngIf",null==(s=a.referralForm.get("max_redeem"))?null:s.hasError("required"))}},dependencies:[g.O5,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.nD,c.sg,c.u,h.TO,h.KE,M.Nt,D.lW,Y.X],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@500&display=swap";.referral-points[_ngcontent-%COMP%]{padding:2.6rem;font-family:Poppins,sans-serif}.referral-points[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}.referral-points__order--details[_ngcontent-%COMP%]{margin-left:6rem;margin-top:60px;margin-bottom:3rem}.referral-points__order--details-title[_ngcontent-%COMP%]{margin-bottom:3.5rem}.referral-points__order--details-row[_ngcontent-%COMP%]{margin-top:.5rem;display:flex;flex-direction:row;align-items:baseline;justify-content:flex-start}.referral-points__order--details-row[_ngcontent-%COMP%]   .col-sm-6[_ngcontent-%COMP%], .referral-points__order--details-title[_ngcontent-%COMP%]   .col-sm-6[_ngcontent-%COMP%]{color:#26506b}.referral-points__order--details[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{text-align:center}.referral-points__order--details[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-outline{background-color:#0437520d}.referral-points__order--details-input[_ngcontent-%COMP%]{display:flex;align-items:baseline;justify-content:flex-start}.referral-points__order--details-input[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]{width:20px;margin-right:7px}.referral-points__order--details-input[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]{width:20px;margin-left:7px}.referral-points__btns[_ngcontent-%COMP%]{display:flex;justify-content:end;margin:6rem 0 0rem}.referral-points__btns[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{margin-right:50px}.referral-points__btns[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{width:99%}@media only screen and (min-width: 769px) and (max-width: 1024px){.referral-points__order--details[_ngcontent-%COMP%]{margin-left:0;margin-top:20px;text-align:center;margin-bottom:3rem}.referral-points__btns[_ngcontent-%COMP%]{display:flex;justify-content:end}.referral-points__btns[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{margin-right:50px}.referral-points__btns[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{width:70%}}@media only screen and (min-width: 481px) and (max-width: 768px){.referral-points[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem}.referral-points__order--details[_ngcontent-%COMP%]{margin-left:0;margin-top:20px;text-align:center;margin-bottom:3rem}.referral-points__btns[_ngcontent-%COMP%]{display:flex;justify-content:end}.referral-points__btns[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{margin-right:50px}.referral-points__btns[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{width:95%}.referral-points__btns[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 480px){.referral-points[_ngcontent-%COMP%]{padding:2rem}.referral-points[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;text-align:center}.referral-points__order--details[_ngcontent-%COMP%]{margin-left:0;margin-top:20px;text-align:center;margin-bottom:3rem}.referral-points__btns[_ngcontent-%COMP%]{display:flex;justify-content:end}.referral-points__btns[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{margin-right:50px}.referral-points__btns[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{width:95%}.referral-points__btns[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{font-size:1rem}}@media screen and (min-width: 481px) and (max-width: 768px){.topRow[_ngcontent-%COMP%]{margin-left:0;margin-top:20px;text-align:center;margin-bottom:3rem}}@media screen and (min-width: 769px) and (max-width: 1024px){.topRow[_ngcontent-%COMP%]{margin-left:0;margin-top:20px;text-align:center;margin-bottom:3rem}}'],changeDetection:0}),n})()},{path:"test-units",component:(()=>{class n{constructor(e,a,i,r,s,l){this.fb=e,this.masterService=a,this.cdr=i,this.snackBar=r,this.dialog=s,this.snackBbar=l,this.statuses=[{key:"active",value:"Active",status:!0},{key:"inactive",value:"Inactive",status:!1}],this.testUnitId="",this.btnActive=!1,this.displayedColumns=["unit","createdOn","status","action"],this.data=[],this.pageTitle="",this.pageType="",this.tableLength=this.data.length,this.isLoading=!0,this.isEmpty=!1,this.clientsPagination=new _.p({page:1,perPage:5,total:this.tableLength}),this.buildTestUnitForm()}set matPaginator(e){this.dataSource.paginator=e}checkBtn(){this.btnActive=!!this.testUnitForm.valid}buildTestUnitForm(){this.testUnitForm=this.fb.group({testUnitInput:new c.NI(null,c.kI.required),statusInput:new c.NI(null,c.kI.required)})}ngOnInit(){this.dataSource=new m.by(this.data),this.getTestUnits()}ngOnChanges(){this.dataSource=new m.by(this.data),this.isLoading=!1}getTestUnits(){this.isLoading=!0,this.masterService.getAllTestUnits().pipe((0,y.U)(e=>{const a=[];for(const i in e.data.test_units)e.data.test_units.hasOwnProperty(i)&&a.push({...e.data.test_units[i],key:i});return a})).subscribe(e=>{this.isLoading=!1,this.dataSource.data=e,0==e.length&&(this.isEmpty=!0),this.cdr.detectChanges()})}onFormSubmit(e){if(this.testUnitForm.valid){this.isLoading=!0;const a={name:this.testUnitForm.value.testUnitInput,is_active:this.testUnitForm.value.statusInput};""!=this.testUnitId?this.masterService.updateTestUnit(a,this.testUnitId).subscribe(i=>{this.isLoading=!1,"success"==i.status&&(this.getTestUnits(),this.testUnitForm.reset())}):this.masterService.createNewTestUnit(a).subscribe(i=>{this.isLoading=!1,"success"==i.status&&(this.getTestUnits(),this.testUnitForm.reset())})}}onRateListChange(){}onSave(){}onNameChange(){}editMasterData(e){this.isLoading=!0,this.testUnitId=e,this.masterService.getSingleTestUnit(e).subscribe(a=>{this.isLoading=!1,"success"==a.status&&(this.testUnitForm.patchValue({testUnitInput:a.data.name}),this.testUnitForm.patchValue({statusInput:a.data.is_active}))})}deleteMasterData(e){this.confirmConsDialog=this.dialog.open(F.$,{width:"40%",height:"auto",disableClose:!1,data:{message:"Are you sure want to Delete?",buttonText:{ok:"Delete",cancel:"Cancel"}}}),this.confirmConsDialog.afterClosed().subscribe(a=>{a&&(this.isLoading=!0,this.masterService.deleteTestUnit(e).subscribe(i=>{this.isLoading=!1,"success"==i.status&&(this.snackBbar.open(i.message,""),this.getTestUnits())}))})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c.qu),t.Y36(C.m),t.Y36(t.sBO),t.Y36(O.ux),t.Y36(A.uw),t.Y36(w.c))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-units"]],viewQuery:function(e,a){if(1&e&&t.Gf(p.NW,5),2&e){let i;t.iGM(i=t.CRH())&&(a.matPaginator=i.first)}},features:[t.TTD],decls:53,vars:13,consts:[[1,"test-unit"],[1,"primary"],[1,"test-unit__action"],[1,"row",3,"formGroup","ngSubmit"],[1,"col-lg-7"],[1,"test-unit_action-input"],[1,"row","inner-row"],[1,""],[1,"col-lg-8"],["floatLabel","never","appearance","outline",1,"agm-input-lg"],["placeholder","Enter test unit","formControlName","testUnitInput","matInput","",3,"change"],[4,"ngIf"],[1,"col-lg-5"],[1,"row"],[1,"col-md-8"],["appearance","outline",1,"agm-select"],["svgIcon","appDropdownCaret","matSuffix",""],["placeholder","Status","disableOptionCentering","","formControlName","statusInput",3,"selectionChange"],["placeholder","Status",3,"value",4,"ngFor","ngForOf"],[1,"col-md-4"],["mat-button","","class","inactive","disabled","",4,"ngIf"],["mat-button","","class","active",4,"ngIf"],[1,"col-lg-1"],[1,"test-unit__table"],[1,"agm-table--container"],["mat-table","",1,"mat-elevation-z8","agm-table",3,"dataSource"],["matColumnDef","unit"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","createdOn"],["matColumnDef","status"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions"],["paginator",""],["class","spinner",4,"ngIf"],["placeholder","Status",3,"value"],["mat-button","","disabled","",1,"inactive"],["mat-button","",1,"active"],["mat-header-cell",""],["mat-cell",""],["class","agm-table--is_active agm-table--status active",4,"ngIf"],["class","agm-table--is_active agm-table--status inactive",4,"ngIf"],[1,"agm-table--is_active","agm-table--status","active"],[1,"agm-table--is_active","agm-table--status","inactive"],["svgIcon","appEditAction",3,"click"],["svgIcon","appDeleteAction",3,"click"],["mat-header-row",""],["mat-row",""],[1,"spinner"]],template:function(e,a){if(1&e&&(t.TgZ(0,"div",0)(1,"h3",1),t._uU(2,"Test Units"),t.qZA(),t.TgZ(3,"section",2)(4,"form",3),t.NdJ("ngSubmit",function(){return a.onFormSubmit(a.testUnitForm.value)}),t.TgZ(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"label"),t._uU(10,"Test Unit"),t.qZA()(),t.TgZ(11,"div",8)(12,"mat-form-field",9)(13,"input",10),t.NdJ("change",function(){return a.checkBtn()}),t.qZA(),t.YNc(14,Ta,2,0,"mat-error",11),t.qZA()()()()(),t.TgZ(15,"div",12)(16,"div",13)(17,"div",14)(18,"div",6)(19,"div",7)(20,"label"),t._uU(21,"Status"),t.qZA()(),t.TgZ(22,"div",7)(23,"mat-form-field",15),t._UZ(24,"mat-icon",16),t.TgZ(25,"mat-select",17),t.NdJ("selectionChange",function(){return a.checkBtn()}),t.YNc(26,xa,2,2,"mat-option",18),t.qZA(),t.YNc(27,Za,2,0,"mat-error",11),t.qZA()()()(),t.TgZ(28,"div",19),t.YNc(29,Oa,2,0,"button",20),t.YNc(30,wa,2,0,"button",21),t.qZA()()(),t._UZ(31,"div",22),t.qZA()(),t._UZ(32,"mat-divider"),t.TgZ(33,"section",23)(34,"div",24)(35,"table",25),t.ynx(36,26),t.YNc(37,Pa,2,0,"th",27),t.YNc(38,Aa,2,1,"td",28),t.BQk(),t.ynx(39,29),t.YNc(40,Ma,2,0,"th",27),t.YNc(41,Da,3,4,"td",28),t.BQk(),t.ynx(42,30),t.YNc(43,Na,2,0,"th",27),t.YNc(44,Ia,3,2,"td",28),t.BQk(),t.ynx(45,31),t.YNc(46,Sa,2,0,"th",27),t.YNc(47,Fa,3,0,"td",28),t.BQk(),t.YNc(48,qa,1,0,"tr",32),t.YNc(49,Ra,1,0,"tr",33),t.qZA(),t._UZ(50,"mat-paginator",34,35),t.qZA()()(),t.YNc(52,Ya,2,0,"div",36)),2&e){let i,r;t.xp6(4),t.Q6J("formGroup",a.testUnitForm),t.xp6(10),t.Q6J("ngIf",null==(i=a.testUnitForm.get("testUnitInput"))||null==i.errors?null:i.errors.required),t.xp6(12),t.Q6J("ngForOf",a.statuses),t.xp6(1),t.Q6J("ngIf",null==(r=a.testUnitForm.get("statusInput"))||null==r.errors?null:r.errors.required),t.xp6(2),t.Q6J("ngIf",!a.btnActive),t.xp6(1),t.Q6J("ngIf",a.btnActive),t.xp6(5),t.Q6J("dataSource",a.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns),t.xp6(1),t.Q6J("length",a.tableLength)("pageSize",10)("pageSizeOptions",a.clientsPagination.paginationSizes),t.xp6(2),t.Q6J("ngIf",a.isLoading)}},dependencies:[g.sg,g.O5,x.Hw,P.d,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,h.TO,h.KE,h.R9,M.Nt,D.lW,N.gD,k.ey,Z.Ou,p.NW,g.uU],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@500&display=swap";.test-unit[_ngcontent-%COMP%]{padding:2.6rem}.test-unit[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}.test-unit__action[_ngcontent-%COMP%]{margin:2.5rem}.test-unit__action-input[_ngcontent-%COMP%]{display:flex}.test-unit__action[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-outline{background-color:#04375233;border-radius:5px}.test-unit__action[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:0!important}.test-unit__action[_ngcontent-%COMP%]     .agm-select.mat-form-field-appearance-outline .mat-form-field-outline{background-color:#0437520d;border-radius:5px}.test-unit__action[_ngcontent-%COMP%]     .mat-icon{width:1rem}.test-unit__action[_ngcontent-%COMP%]     .mat-select-arrow{opacity:0}.test-unit__action[_ngcontent-%COMP%]   .inner-row[_ngcontent-%COMP%]{display:flex;align-items:center}.test-unit__action[_ngcontent-%COMP%]   .inner-row[_ngcontent-%COMP%]   div[class^=col-][_ngcontent-%COMP%]{text-align:end}.test-unit__action[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#26506b;margin-right:30px;font-family:Poppins,sans-serif}.test-unit__action[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.test-unit__action[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{color:#fff;padding:13px 30px;font-family:Poppins,sans-serif;width:100%;border-radius:10px}.test-unit__action[_ngcontent-%COMP%]   .mat-button.active[_ngcontent-%COMP%]{background-color:#053353}.test-unit__action[_ngcontent-%COMP%]   .mat-button.inactive[_ngcontent-%COMP%]{background-color:#04375299;cursor:not-allowed}.test-unit__action[_ngcontent-%COMP%]     .mat-form-field-flex:hover .mat-form-field-outline.mat-form-field-outline-thick{color:#26506b}.test-unit__table[_ngcontent-%COMP%]{margin:2.5rem 2.5rem 1rem}.test-unit__table[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-outline{background-color:#d9d9d9;border-radius:5px}.test-unit__table__table[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-lg-12[_ngcontent-%COMP%]:nth-child(2){margin-top:2.5rem}.test-unit__table[_ngcontent-%COMP%]     .mat-form-field-flex:hover .mat-form-field-outline.mat-form-field-outline-thick{color:#26506b}@media (min-width: 1440px){.test-unit[_ngcontent-%COMP%]   .test-unit__table[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;overflow-x:auto}}@media (max-width: 1439px){.test-unit[_ngcontent-%COMP%]   .test-unit__table[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-lg-12[_ngcontent-%COMP%]:nth-child(2){margin-top:20px}}@media only screen and (min-width: 769px) and (max-width: 1024px){.test-unit[_ngcontent-%COMP%]   .inner-row[_ngcontent-%COMP%]{margin-top:10px}.test-unit[_ngcontent-%COMP%]   .inner-row[_ngcontent-%COMP%]   div[class^=col-][_ngcontent-%COMP%]{text-align:start}.test-unit[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{margin-top:10px}}@media only screen and (min-width: 481px) and (max-width: 768px){.test-unit[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem}.test-unit__action[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.test-unit[_ngcontent-%COMP%]   .inner-row[_ngcontent-%COMP%]{margin-top:10px}.test-unit[_ngcontent-%COMP%]   .inner-row[_ngcontent-%COMP%]   div[class^=col-][_ngcontent-%COMP%]{text-align:start}.test-unit[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{margin-top:10px}}@media (max-width: 480px){.test-unit[_ngcontent-%COMP%]{padding:2rem}.test-unit[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;text-align:center}.test-unit__action[_ngcontent-%COMP%]{align-items:center;justify-content:center}.test-unit__action[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}.test-unit__action[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{padding:10px 30px}.test-unit__action[_ngcontent-%COMP%]   .inner-row[_ngcontent-%COMP%]{align-items:flex-start;flex-direction:column}.test-unit__action[_ngcontent-%COMP%]   .inner-row[_ngcontent-%COMP%], .test-unit__action[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{margin-top:5px}}'],changeDetection:0}),n})()},{path:"inventory-units",component:(()=>{class n{constructor(e,a,i,r,s,l){this.fb=e,this.masterService=a,this.cdr=i,this.snackBar=r,this.dialog=s,this.snackBbar=l,this.statuses=[{key:"active",value:"Active",status:!0},{key:"inactive",value:"Inactive",status:!1}],this.inventoryUnitId="",this.btnActive=!1,this.displayedColumns=["unit","createdOn","status","action"],this.data=[],this.pageTitle="",this.pageType="",this.tableLength=this.data.length,this.isLoading=!0,this.isEmpty=!1,this.clientsPagination=new _.p({page:1,perPage:5,total:this.tableLength}),this.buildInventoryUnitForm()}set matPaginator(e){this.dataSource.paginator=e}checkBtn(){this.btnActive=!!this.inventoryUnitForm.valid}buildInventoryUnitForm(){this.inventoryUnitForm=this.fb.group({inventoryUnitInput:new c.NI(null,c.kI.required),statusInput:new c.NI(null,c.kI.required)})}ngOnInit(){this.dataSource=new m.by(this.data),this.getInventoryUnits()}ngOnChanges(){this.dataSource=new m.by(this.data),this.isLoading=!1}getInventoryUnits(){this.masterService.getAllInventoryUnits().pipe((0,y.U)(e=>{const a=[];for(const i in e.data.inventory_units)e.data.inventory_units.hasOwnProperty(i)&&a.push({...e.data.inventory_units[i],key:i});return a})).subscribe(e=>{this.isLoading=!1,this.dataSource.data=e,0==e.length&&(this.isEmpty=!0),this.cdr.detectChanges()})}onFormSubmit(e){if(this.inventoryUnitForm.valid){const a={name:this.inventoryUnitForm.value.inventoryUnitInput,is_active:this.inventoryUnitForm.value.statusInput};""!=this.inventoryUnitId?this.masterService.updateInventoryUnit(a,this.inventoryUnitId).subscribe(i=>{"success"==i.status&&(this.getInventoryUnits(),this.inventoryUnitForm.reset())}):this.masterService.createNewInventoryUnit(a).subscribe(i=>{"success"==i.status&&(this.getInventoryUnits(),this.inventoryUnitForm.reset())})}}onRateListChange(){}onSave(){}onNameChange(){}editMasterData(e){this.inventoryUnitId=e,this.masterService.getSingleInventoryUnit(e).subscribe(a=>{"success"==a.status&&(this.inventoryUnitForm.patchValue({inventoryUnitInput:a.data.name}),this.inventoryUnitForm.patchValue({statusInput:a.data.is_active}))})}deleteMasterData(e){this.confirmConsDialog=this.dialog.open(F.$,{width:"40%",height:"auto",disableClose:!1,data:{message:"Are you sure want to Delete?",buttonText:{ok:"Delete",cancel:"Cancel"}}}),this.confirmConsDialog.afterClosed().subscribe(a=>{a&&this.masterService.deleteInventoryUnit(e).subscribe(i=>{"success"==i.status&&(this.snackBbar.open(i.message,""),this.getInventoryUnits())})})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c.qu),t.Y36(C.m),t.Y36(t.sBO),t.Y36(O.ux),t.Y36(A.uw),t.Y36(w.c))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-inventory-units"]],viewQuery:function(e,a){if(1&e&&t.Gf(p.NW,5),2&e){let i;t.iGM(i=t.CRH())&&(a.matPaginator=i.first)}},features:[t.TTD],decls:54,vars:14,consts:[[1,"inventory-unit"],[1,"primary"],[1,"inventory-unit__action"],[1,"row",3,"formGroup","ngSubmit"],[1,"col-lg-7"],[1,"inventory-unit_action-input"],[1,"row","inner-row"],[1,""],[1,"col-lg-8"],["floatLabel","never","appearance","outline",1,"agm-input-lg"],["placeholder","Enter inventory unit","formControlName","inventoryUnitInput","matInput","",3,"change"],[4,"ngIf"],[1,"col-lg-5"],[1,"row"],[1,"col-md-8"],["appearance","outline",1,"agm-select"],["svgIcon","appDropdownCaret","matSuffix",""],["placeholder","Status","disableOptionCentering","","formControlName","statusInput",3,"selectionChange"],["placeholder","Status",3,"value",4,"ngFor","ngForOf"],[1,"col-md-4"],["mat-button","","class","inactive","disabled","",4,"ngIf"],["mat-button","","class","active",4,"ngIf"],[1,"col-lg-1"],[1,"inventory-unit__table"],[1,"agm-table--container"],["mat-table","",1,"mat-elevation-z8","agm-table",3,"dataSource"],["matColumnDef","unit"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","createdOn"],["matColumnDef","status"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["style","\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          background: white;\n        ",4,"ngIf"],["aria-label","Select page",3,"length","pageSize","pageSizeOptions"],["paginator",""],["placeholder","Status",3,"value"],["mat-button","","disabled","",1,"inactive"],["mat-button","",1,"active"],["mat-header-cell",""],["mat-cell",""],["class","agm-table--is_active agm-table--status active",4,"ngIf"],["class","agm-table--is_active agm-table--status inactive",4,"ngIf"],[1,"agm-table--is_active","agm-table--status","active"],[1,"agm-table--is_active","agm-table--status","inactive"],["svgIcon","appEditAction",3,"click"],["svgIcon","appDeleteAction",3,"click"],["mat-header-row",""],["mat-row",""],[2,"display","flex","justify-content","center","align-items","center","background","white"],["diameter","70",2,"margin-top","25px","margin-bottom","25px"]],template:function(e,a){if(1&e&&(t.TgZ(0,"div",0)(1,"h3",1),t._uU(2,"Inventory Units"),t.qZA(),t.TgZ(3,"section",2)(4,"form",3),t.NdJ("ngSubmit",function(){return a.onFormSubmit(a.inventoryUnitForm.value)}),t.TgZ(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"label"),t._uU(10,"Inventory Unit"),t.qZA()(),t.TgZ(11,"div",8)(12,"mat-form-field",9)(13,"input",10),t.NdJ("change",function(){return a.checkBtn()}),t.qZA(),t.YNc(14,Qa,2,0,"mat-error",11),t.qZA()()()()(),t.TgZ(15,"div",12)(16,"div",13)(17,"div",14)(18,"div",6)(19,"div",7)(20,"label"),t._uU(21,"Status"),t.qZA()(),t.TgZ(22,"div",7)(23,"mat-form-field",15),t._UZ(24,"mat-icon",16),t.TgZ(25,"mat-select",17),t.NdJ("selectionChange",function(){return a.checkBtn()}),t.YNc(26,Ea,2,2,"mat-option",18),t.qZA(),t.YNc(27,La,2,0,"mat-error",11),t.qZA()()()(),t.TgZ(28,"div",19),t.YNc(29,Ba,2,0,"button",20),t.YNc(30,za,2,0,"button",21),t.qZA()()(),t._UZ(31,"div",22),t.qZA()(),t._UZ(32,"mat-divider"),t.TgZ(33,"section",23)(34,"div",24)(35,"table",25),t.ynx(36,26),t.YNc(37,ja,2,0,"th",27),t.YNc(38,Ha,2,1,"td",28),t.BQk(),t.ynx(39,29),t.YNc(40,Ga,2,0,"th",27),t.YNc(41,$a,3,4,"td",28),t.BQk(),t.ynx(42,30),t.YNc(43,Ka,2,0,"th",27),t.YNc(44,Xa,3,2,"td",28),t.BQk(),t.ynx(45,31),t.YNc(46,ti,2,0,"th",27),t.YNc(47,ei,3,0,"td",28),t.BQk(),t.YNc(48,ni,1,0,"tr",32),t.YNc(49,ai,1,0,"tr",33),t.qZA(),t.YNc(50,ii,2,0,"div",11),t.YNc(51,oi,2,0,"div",34),t._UZ(52,"mat-paginator",35,36),t.qZA()()()),2&e){let i,r;t.xp6(4),t.Q6J("formGroup",a.inventoryUnitForm),t.xp6(10),t.Q6J("ngIf",null==(i=a.inventoryUnitForm.get("inventoryUnitInput"))||null==i.errors?null:i.errors.required),t.xp6(12),t.Q6J("ngForOf",a.statuses),t.xp6(1),t.Q6J("ngIf",null==(r=a.inventoryUnitForm.get("statusInput"))||null==r.errors?null:r.errors.required),t.xp6(2),t.Q6J("ngIf",!a.btnActive),t.xp6(1),t.Q6J("ngIf",a.btnActive),t.xp6(5),t.Q6J("dataSource",a.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns),t.xp6(1),t.Q6J("ngIf",a.isEmpty),t.xp6(1),t.Q6J("ngIf",a.isLoading),t.xp6(1),t.Q6J("length",a.tableLength)("pageSize",10)("pageSizeOptions",a.clientsPagination.paginationSizes)}},dependencies:[g.sg,g.O5,x.Hw,P.d,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,h.TO,h.KE,h.R9,M.Nt,D.lW,N.gD,k.ey,Z.Ou,p.NW,g.uU],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins:wght@500&display=swap";.inventory-unit[_ngcontent-%COMP%]{padding:2.6rem}.inventory-unit[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}.inventory-unit__action[_ngcontent-%COMP%]{margin:2.5rem}.inventory-unit__action-input[_ngcontent-%COMP%]{display:flex}.inventory-unit__action[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-outline{background-color:#04375233;border-radius:5px}.inventory-unit__action[_ngcontent-%COMP%]     .mat-form-field-wrapper{padding-bottom:0!important}.inventory-unit__action[_ngcontent-%COMP%]     .agm-select.mat-form-field-appearance-outline .mat-form-field-outline{background-color:#0437520d;border-radius:5px}.inventory-unit__action[_ngcontent-%COMP%]     .mat-icon{width:1rem}.inventory-unit__action[_ngcontent-%COMP%]     .mat-select-arrow{opacity:0}.inventory-unit__action[_ngcontent-%COMP%]   .inner-row[_ngcontent-%COMP%]{display:flex;align-items:center}.inventory-unit__action[_ngcontent-%COMP%]   .inner-row[_ngcontent-%COMP%]   div[class^=col-][_ngcontent-%COMP%]{text-align:end}.inventory-unit__action[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#26506b;margin-right:30px;font-family:Poppins,sans-serif}.inventory-unit__action[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.inventory-unit__action[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{color:#fff;padding:13px 30px;font-family:Poppins,sans-serif;width:100%;border-radius:10px}.inventory-unit__action[_ngcontent-%COMP%]   .mat-button.active[_ngcontent-%COMP%]{background-color:#053353}.inventory-unit__action[_ngcontent-%COMP%]   .mat-button.inactive[_ngcontent-%COMP%]{background-color:#04375299;cursor:not-allowed}.inventory-unit__action[_ngcontent-%COMP%]     .mat-form-field-flex:hover .mat-form-field-outline.mat-form-field-outline-thick{color:#26506b}.inventory-unit__table[_ngcontent-%COMP%]{margin:2.5rem 2.5rem 1rem}.inventory-unit__table[_ngcontent-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-outline{background-color:#d9d9d9;border-radius:5px}.inventory-unit__table__table[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-lg-12[_ngcontent-%COMP%]:nth-child(2){margin-top:2.5rem}.inventory-unit__table[_ngcontent-%COMP%]     .mat-form-field-flex:hover .mat-form-field-outline.mat-form-field-outline-thick{color:#26506b}@media (min-width: 1440px){.inventory-unit[_ngcontent-%COMP%]   .inventory-unit__table[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;overflow-x:auto}}@media (max-width: 1439px){.inventory-unit[_ngcontent-%COMP%]   .inventory-unit__table[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-lg-12[_ngcontent-%COMP%]:nth-child(2){margin-top:20px}}@media only screen and (min-width: 769px) and (max-width: 1024px){.inventory-unit[_ngcontent-%COMP%]   .inner-row[_ngcontent-%COMP%]{margin-top:10px}.inventory-unit[_ngcontent-%COMP%]   .inner-row[_ngcontent-%COMP%]   div[class^=col-][_ngcontent-%COMP%]{text-align:start}.inventory-unit[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{margin-top:10px}}@media only screen and (min-width: 481px) and (max-width: 768px){.inventory-unit[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem}.inventory-unit__action[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.inventory-unit[_ngcontent-%COMP%]   .inner-row[_ngcontent-%COMP%]{margin-top:10px}.inventory-unit[_ngcontent-%COMP%]   .inner-row[_ngcontent-%COMP%]   div[class^=col-][_ngcontent-%COMP%]{text-align:start}.inventory-unit[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{margin-top:10px}}@media (max-width: 480px){.inventory-unit[_ngcontent-%COMP%]{padding:2rem}.inventory-unit[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;text-align:center}.inventory-unit__action[_ngcontent-%COMP%]{align-items:center;justify-content:center}.inventory-unit__action[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}.inventory-unit__action[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{padding:10px 30px}.inventory-unit__action[_ngcontent-%COMP%]   .inner-row[_ngcontent-%COMP%]{align-items:flex-start;flex-direction:column}.inventory-unit__action[_ngcontent-%COMP%]   .inner-row[_ngcontent-%COMP%], .inventory-unit__action[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{margin-top:5px}}'],changeDetection:0}),n})()}]}];let si=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[C.m,g.uU],imports:[g.ez,v.Bz.forChild(ri),x.Ps,U.ae,P.t,m.p0,c.UX,M.c,h.lN,D.ot,N.LD,R.p9,bn.m,p.TU]}),n})()},607:(J,S,f)=>{f.d(S,{X:()=>v});var g=f(4650);let v=(()=>{class t{constructor(p,m){this.el=p,this.renderer=m,this.regex=new RegExp(/^-?[0-9]+(\.[0-9]*){0,1}$/g),this.specialKeys=["Enter","Backspace","Delete","Tab","End","Home","ArrowLeft","ArrowRight","ArrowUp","ArrowDown"],this.canAllowMinus=!1}ngOnInit(){this.MAX_NO_OF_DIGITS&&this.el.nativeElement&&this.renderer.setAttribute(this.el.nativeElement,"maxLength",this.MAX_NO_OF_DIGITS),this.canAllowMinus&&this.specialKeys.push("-")}onKeyDown(p){if(!(-1!==this.specialKeys.indexOf(p.key)||"v"===p.key&&p.ctrlKey||"v"===p.key&&p.metaKey||"x"===p.key&&p.ctrlKey||"x"===p.key&&p.metaKey||"c"===p.key&&p.ctrlKey||"a"===p.key&&p.ctrlKey)){if(!this.MIN&&!this.MAX){let _=this.el.nativeElement.value.concat(p.key);_&&!String(_).match(this.regex)&&p.preventDefault()}if(void 0!==this.MIN&&void 0!==this.MAX){let _=this.el.nativeElement.value.concat(p.key);Number(_)<=Number(this.MAX)&&Number(_)>=Number(this.MIN)?_&&!String(_).match(this.regex)&&p.preventDefault():p.preventDefault()}}}blockPaste(p){p.clipboardData.getData("Text").match(/[^\d\.?\d]/)&&!p.clipboardData.getData("Text").match(this.regex)&&p.preventDefault()}}return t.\u0275fac=function(p){return new(p||t)(g.Y36(g.SBq),g.Y36(g.Qsj))},t.\u0275dir=g.lG2({type:t,selectors:[["","appNumbersOnly",""]],hostBindings:function(p,m){1&p&&g.NdJ("keydown",function(C){return m.onKeyDown(C)})("paste",function(C){return m.blockPaste(C)})},inputs:{regex:"regex",MIN:["min","MIN"],MAX:["max","MAX"],MAX_NO_OF_DIGITS:["length","MAX_NO_OF_DIGITS"],canAllowMinus:"canAllowMinus"}}),t})()}}]);