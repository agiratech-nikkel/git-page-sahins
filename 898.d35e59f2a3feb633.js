"use strict";(self.webpackChunksahins=self.webpackChunksahins||[]).push([[898],{75578:(E,D,d)=>{d.d(D,{W:()=>c});class c{static generateUniqueId(t="",i="-",e=!0){const h=Date.now().toString(36)+Math.random().toString(36).substr(2);return e?`${t}${i}${h}`:`${h}${i}${t}`}static removeDuplicate(t,i=""){return t&&t.filter(i?(e,h)=>t.findIndex(l=>l[i]==e[i])===h:(e,h)=>t.indexOf(e)===h)}static shallowClone(t){if(t)return Array.isArray(t)?[...t]:{...t}}static deepClone(t){if(t)return JSON.parse(JSON.stringify(t))}static removeHTMLElementById(t){const i=document.getElementById(t);return!!i&&(i.remove(),!0)}static isArrayEqual(t,i){if(t===i)return!0;if(null==t||null==i||t.length!==i.length)return!1;t=t.sort(),i=i.sort();for(let e=0;e<t.length;++e)if(t[e]!==i[e])return!1;return!0}static formatUrlWithParams(t,i){return t&&i&&Object.keys(i).forEach((e,h)=>{if(i[e]&&null!==i[e]){let l="&";0===h&&(l="?"),t+=`${l}${e}=${i[e]}`}}),t}static makeString(t,i="and"){if(1===t.length)return t[0];const e=t.slice(0,t.length-1),h=t[t.length-1];let l=e.join(", ");return h&&t.length>1&&(l=l+" "+i+" "+h),l}static removeEmptyOrNull(t){return Object.keys(t).map(i=>{(""==t[i]||null===t[i]||"string"==typeof t[i]&&""==t[i].trim())&&delete t[i]}),t}static removeEmptyOrNullRecursive(t){return Object.entries(t).forEach(([i,e])=>e&&"object"==typeof e&&this.removeEmptyOrNullRecursive(e)||(null===e||""===e||void 0===e)&&delete t[i]),t}static removeEmptyArrayAndEmptyObject(t){return t&&(Object.keys(t).forEach(i=>{const e=t[i];(Array.isArray(e)&&0===e.length||e&&!Array.isArray(e)&&"object"==typeof e&&0===Object.keys(e).length)&&delete t[i]}),t)}static isObjectNotEmpty(t){return!!t&&"object"==typeof t&&Object.keys(t).length>0}static isFunction(t){return"function"==typeof t}static constrain(t,i=-1/0,e=1/0){return Math.min(e,Math.max(t,i))}disallowSpecialChar(t){var i;return(i=t.charCode)>64&&i<91||i>96&&i<123||8==i||32==i||i>=48&&i<=57}}},6260:(E,D,d)=>{d.d(D,{d:()=>R});var c=d(69751),m=d(77579),t=d(39646),i=d(82722),e=d(70262),h=d(78372),l=d(39300),p=d(18505),O=d(63900),M=d(69196),g=d(75578),A=d(94650);let R=(()=>{class _{constructor(){this.searchFromCtl=new c.y,this.data=[],this.isForConcat=!0,this.isStaticDropdown=!1,this.staticDropdownData=[],this.pagination=new M.p({page:1,perPage:10,total:0}),this.isSearching=!1,this.isLoading=!1,this.searchStr="",this.selectedData=[],this.reset$=new m.x}loadDependency(s,n,a){this.cdRef=s,this.freeUp$=n,this.searchFromCtl=a}loadData(s,n){this.isLoading=!0,this.cdRef?.markForCheck(),this.apiEndpointMethod().pipe((0,i.R)(this.freeUp$)).pipe((0,e.K)(a=>(this.isLoading=!1,s&&"function"==typeof s&&s(a),(0,t.of)(a)))).subscribe(a=>{this.handleLoadDataResponse(a),this.updateSelectedDataOnReloading(),n&&"function"==typeof n&&n(a)})}handleLoadDataResponse(s){let n;this.isSearching=!1,this.isLoading=!1,this.cdRef.markForCheck(),s?.results&&(this.pagination.updateTotal(s?.pagination?.total??10),n=g.W.deepClone(s?.results??[])),this.data=n,this.isStaticDropdown&&(this.staticDropdownData=g.W.deepClone(n))}loadMoreData(s,n,a=null){if(!this.isLoading){if(this.pagination.isPageSizeReachedTotal())return this.isLoading=!1,this.isSearching=!1,void this.cdRef.markForCheck();this.pagination.moveNextPage(),this.isLoading=!0,this.cdRef.markForCheck(),this.apiEndpointMethod().pipe((0,i.R)(this.freeUp$),(0,e.K)(r=>(this.isLoading=!1,this.cdRef.markForCheck(),this.isLoading=!1,s&&"function"==typeof s&&s(r),(0,t.of)({results:[]})))).subscribe(r=>{if(this.isLoading=!1,this.cdRef.markForCheck(),r){let f;r&&r.results&&(f=g.W.deepClone(r?.results),this.pagination.updateTotal(r?.pagination?.total??10)),this.data=this.isForConcat?this.data.concat(f):f,r.results=this.data,this.updateSelectedDataOnReloading(),n&&"function"==typeof n&&n(r),this.cdRef.markForCheck()}})}}listenForAutoCompleteSearch(s,n,a,r,f=null){s.controls.field.valueChanges.pipe((0,i.R)(this.freeUp$),(0,h.b)(400),(0,l.h)(o=>"string"==typeof o),(0,p.b)(()=>this.isSearching=!0),(0,O.w)(o=>(this.searchStr=o,this.resetPagination(),this.data=[],this.isLoading=!0,this.cdRef.markForCheck(),this.apiEndpointMethod().pipe((0,e.K)(u=>(this.isSearching=!1,this.isLoading=!1,this.cdRef.markForCheck(),a&&"function"==typeof a&&a(u),(0,t.of)({results:[]})))))),(0,p.b)(()=>{this.isSearching=!1,this.isLoading=!1})).subscribe(o=>{if(this.isSearching=!1,this.cdRef.markForCheck(),o){let u;this.pagination.page=1,o?.results&&(u=g.W.deepClone(o?.results),this.pagination.updateTotal(o?.pagination?.total??10)),this.data=u,this.updateSelectedDataOnReloading(),this.cdRef.markForCheck(),r&&"function"==typeof r&&r(o)}})}listenForAutoCompleteSearchFormControl(s,n,a,r=null){s.valueChanges.pipe((0,i.R)(this.freeUp$),(0,h.b)(400),(0,l.h)(f=>"string"==typeof f),(0,p.b)(()=>this.isSearching=!0),(0,O.w)(f=>(this.searchStr=f,this.resetPagination(),this.data=[],this.isLoading=!0,this.cdRef.markForCheck(),this.apiEndpointMethod().pipe((0,e.K)(o=>(this.isSearching=!1,this.isLoading=!1,this.cdRef.markForCheck(),n&&"function"==typeof n&&n(o),(0,t.of)({results:[]})))))),(0,p.b)(()=>{this.isSearching=!1,this.isLoading=!1})).subscribe(f=>{if(this.isSearching=!1,this.cdRef.markForCheck(),f){let o;this.pagination.page=1,f?.results&&(o=g.W.deepClone(f?.results),this.pagination.updateTotal(f?.pagination?.total??10)),this.data=o,this.updateSelectedDataOnReloading(),this.cdRef.markForCheck(),a&&"function"==typeof a&&a(f)}})}listenForStaticAutoCompleteSearchFormControl(s,n,a,r,f=null){s.valueChanges.pipe((0,i.R)(this.freeUp$),(0,h.b)(400),(0,l.h)(o=>"string"==typeof o||null==o)).subscribe(o=>{this.isSearching=!1,this.cdRef.markForCheck();let u=[];u=g.W.deepClone(o?this.staticDropdownData.filter(n(o)):this.staticDropdownData),this.data=u,this.cdRef.markForCheck(),this.updateSelectedDataOnReloading(),r&&"function"==typeof r&&r(u)})}clickOption(s,n){const a=this.selectedData.findIndex(r=>r._id===n._id);s.checked&&a<0&&this.updateSelectedData(n,!0),a>-1&&!s.checked&&this.updateSelectedData(n,!1)}updateSelectedData(s,n=!1){const a=this.selectedData.findIndex(o=>o._id===s._id),r=this.data.findIndex(o=>o._id===s._id),f=this.data[r];n?(this.selectedData.push(s),r>-1&&(f.selected=!0)):(a>-1&&this.selectedData.splice(a,1),r>-1&&(f.selected=!1)),this.cdRef.markForCheck()}updateSelectedDataOnReloading(){Array.isArray(this.selectedData)&&this.selectedData.length>0&&this.data.map(s=>{const n=this.selectedData.findIndex(a=>a?._id===s._id);s.selected=n>-1})}canShowDataNotFound(){return!this.isSearching&&!this.isLoading&&this.data.length<=0}resetPagination(){this.pagination.resetPagination()}resetAll(){this.searchStr="",this.selectedData=[],this.data?.forEach?.(s=>s.selected=!1),this.resetPagination(),this.reset$?.next?.(null)}get selectedIds(){return this.selectedData.map(s=>s?._id)}ngOnDestroy(){this.freeUp$.next(),this.freeUp$.complete()}}return _.\u0275fac=function(s){return new(s||_)},_.\u0275prov=A.Yz7({token:_,factory:_.\u0275fac}),_})()},53117:(E,D,d)=>{d.d(D,{X:()=>m});var c=d(94650);let m=(()=>{class t{constructor(e,h){this.el=e,this.renderer=h,this.regex=new RegExp(/^-?[0-9]+(\.[0-9]*){0,1}$/g),this.specialKeys=["Enter","Backspace","Delete","Tab","End","Home","ArrowLeft","ArrowRight","ArrowUp","ArrowDown"],this.canAllowMinus=!1}ngOnInit(){this.MAX_NO_OF_DIGITS&&this.el.nativeElement&&this.renderer.setAttribute(this.el.nativeElement,"maxLength",this.MAX_NO_OF_DIGITS),this.canAllowMinus&&this.specialKeys.push("-")}onKeyDown(e){if(!(-1!==this.specialKeys.indexOf(e.key)||"v"===e.key&&e.ctrlKey||"v"===e.key&&e.metaKey||"x"===e.key&&e.ctrlKey||"x"===e.key&&e.metaKey||"c"===e.key&&e.ctrlKey||"a"===e.key&&e.ctrlKey)){if(!this.MIN&&!this.MAX){let l=this.el.nativeElement.value.concat(e.key);l&&!String(l).match(this.regex)&&e.preventDefault()}if(void 0!==this.MIN&&void 0!==this.MAX){let l=this.el.nativeElement.value.concat(e.key);Number(l)<=Number(this.MAX)&&Number(l)>=Number(this.MIN)?l&&!String(l).match(this.regex)&&e.preventDefault():e.preventDefault()}}}blockPaste(e){e.clipboardData.getData("Text").match(/[^\d\.?\d]/)&&!e.clipboardData.getData("Text").match(this.regex)&&e.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(c.SBq),c.Y36(c.Qsj))},t.\u0275dir=c.lG2({type:t,selectors:[["","appNumbersOnly",""]],hostBindings:function(e,h){1&e&&c.NdJ("keydown",function(p){return h.onKeyDown(p)})("paste",function(p){return h.blockPaste(p)})},inputs:{regex:"regex",MIN:["min","MIN"],MAX:["max","MAX"],MAX_NO_OF_DIGITS:["length","MAX_NO_OF_DIGITS"],canAllowMinus:"canAllowMinus"}}),t})()}}]);