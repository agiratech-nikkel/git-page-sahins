"use strict";(self.webpackChunksahins=self.webpackChunksahins||[]).push([[595],{68595:(Ke,V,m)=>{m.r(V),m.d(V,{RegistrationModule:()=>He});var f=m(36895),a=m(24006),I=m(77579),b=m(54004),G=m(68675),x=m(6260);class dt{constructor(i){this.title=i&&i.title?i.title:null,this.name=i&&i.name?i.name:null,this.dob=i&&i.dob?i.dob:null,this.age=i&&i.age?i.age:null,this.height=i&&i.height?i.height:null,this.weight=i&&i.weight?i.weight:null,this.type=i&&i.type?i.type:null,this.patient_type=i&&i.patient_type?i.patient_type:null,this.gender=i&&i.gender?i.gender:null,this.mobile_number=i&&i.mobile_number?i.mobile_number:null,this.email=i&&i.email?i.email:null,this.referral=i&&i.referral?i.referral:null,this.address=i&&i.address?i.address:null,this.city=i&&i.city?i.city:null,this.district=i&&i.district?i.district:null,this.state=i&&i.state?i.state:null,this.pincode=i&&i.pincode?i.pincode:null,this.country=i&&i.country?i.country:null,this.nationality=i&&i.nationality?i.nationality:null,this.id_1=i&&i.id_1?i.id_1:null,this.id_1_number=i&&i.id_1_number?i.id_1_number:null,this.id_2=i&&i.id_2?i.id_2:null,this.id_2_number=i&&i.id_2_number?i.id_2_number:null,this.image=i&&i.image?i.image:null}}var t=m(94650),C=m(81390),_t=m(54079),W=m(17009),H=m(63030),K=m(446),z=m(97392),v=m(47957),X=m(3238),Z=m(59549),tt=m(284),et=m(44850),nt=m(84385),ot=m(1576),P=m(4859),g=m(99602),it=m(51572),gt=m(60416),ht=m(53117),ft=m(70383),w=m(48689),at=m(59348);function bt(o,i){if(1&o&&(t.TgZ(0,"mat-option",71),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",null==e?null:e.name," ")}}function Ct(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Title is Required "),t.qZA())}function vt(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Patient name is Required "),t.qZA())}function Zt(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Patient DOB is Required "),t.qZA())}function At(o,i){if(1&o&&(t.TgZ(0,"mat-option",71),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.key)}}function yt(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Gender is Required "),t.qZA())}function Tt(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Height is Required "),t.qZA())}function kt(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Weight is Required "),t.qZA())}function It(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Mobile Number is Required "),t.qZA())}function xt(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Mobile Number must be 10 digits "),t.qZA())}function Pt(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Email is Required "),t.qZA())}function wt(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Invalid Email address "),t.qZA())}function qt(o,i){if(1&o&&(t.TgZ(0,"mat-option",71),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.key)}}function Mt(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Refferal is Required "),t.qZA())}function Ot(o,i){if(1&o&&(t.TgZ(0,"mat-option",71),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.key)}}function Ut(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Patient Type is Required "),t.qZA())}function Nt(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Address is Required "),t.qZA())}function Ft(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Landmark is Required "),t.qZA())}function Rt(o,i){if(1&o&&(t.TgZ(0,"mat-option",71),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.key)}}function St(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Country is Required "),t.qZA())}function Dt(o,i){if(1&o&&(t.TgZ(0,"mat-option",71),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.key)}}function Jt(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," State is Required "),t.qZA())}function Bt(o,i){if(1&o&&(t.TgZ(0,"mat-option",71),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij("",e.key," ")}}function Qt(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," District is Required "),t.qZA())}function Yt(o,i){if(1&o&&(t.TgZ(0,"mat-option",71),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.key)}}function Lt(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," City is Required "),t.qZA())}function $t(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Pincode is Required "),t.qZA())}function Et(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Pincode must be 6 digits "),t.qZA())}function jt(o,i){if(1&o&&(t.TgZ(0,"mat-option",71),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.key)}}function Vt(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Nationality is Required "),t.qZA())}function Gt(o,i){if(1&o&&(t.TgZ(0,"mat-option",71),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.key)}}function Wt(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," ID is Required "),t.qZA())}function Ht(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Number cannot be empty "),t.qZA())}function Kt(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Enter a valid Aadhaar Number "),t.qZA())}function zt(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Enter a valid PAN Card Number "),t.qZA())}function Xt(o,i){if(1&o&&(t.TgZ(0,"mat-option",72),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.oxw();const n=t.MAs(178);t.Q6J("value",e.value)("disabled",n.value==e.value),t.xp6(1),t.Oqu(e.key)}}function te(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," ID is Required "),t.qZA())}function ee(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Number cannot be empty "),t.qZA())}function ne(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Enter a valid Aadhaar Number "),t.qZA())}function oe(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Enter a valid PAN Card Number "),t.qZA())}function ie(o,i){1&o&&(t.TgZ(0,"span"),t._uU(1,"Register"),t.qZA())}function ae(o,i){1&o&&(t.TgZ(0,"span"),t._uU(1,"Update"),t.qZA())}function re(o,i){1&o&&(t.TgZ(0,"span"),t._uU(1,"Register & Book"),t.qZA())}function se(o,i){1&o&&(t.TgZ(0,"span"),t._uU(1,"Update & Book"),t.qZA())}function le(o,i){1&o&&(t.TgZ(0,"div",73),t._UZ(1,"mat-spinner"),t.qZA())}function me(o){let i=o.value;return i&&i.id_1&&i.id_2&&i.id_1==i.id_2?{scoreError:!0}:null}let ce=(()=>{class o{constructor(e,n,r,s,l,c,p){this.router=e,this.cdRef=n,this.customerRegistrationService=r,this.snackbar=s,this.userManagementService=l,this.snackBbar=c,this.route=p,this.isId1Selected=!1,this.today=new Date,this.spinner=!1,this.patientForm=new a.cw({title:new a.NI(null,a.kI.required),name:new a.NI(null,a.kI.required),dob:new a.NI(null,a.kI.required),height:new a.NI(null),weight:new a.NI(null),patient_type:new a.NI(null,a.kI.required),gender:new a.NI(null,a.kI.required),mobile_number:new a.NI(null,a.kI.required),email:new a.NI(null,[a.kI.required,a.kI.pattern(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)]),referral:new a.NI(null,a.kI.required),address:new a.NI(null,a.kI.required),landmark:new a.NI(null,a.kI.required),city:new a.NI(null,a.kI.required),district:new a.NI(null,a.kI.required),state:new a.NI(null,a.kI.required),pincode:new a.NI(null,[a.kI.required]),country:new a.NI(null,a.kI.required),nationality:new a.NI(null),id_1:new a.NI("",a.kI.required),id_1_number:new a.NI(null,a.kI.required),id_2:new a.NI("",a.kI.required),id_2_number:new a.NI(null,a.kI.required),image:new a.NI(null)},{validators:me}),this.type=[{key:"Years",value:"years"},{key:"Month",value:"month"}],this.gender=[{key:"Male",value:"male"},{key:"Female",value:"female"},{key:"Others",value:"others"}],this.referral=[{key:"Self",value:"self"},{key:"others",value:"others"}],this.patient_type=[{key:"WalkIn",value:"WALKIN"}],this.city=[{key:"Chennai",value:"chennai"},{key:"Permablur",value:"permablur"},{key:"Trichy",value:"trichy"},{key:"Kanchipuram",value:"kanchipuram"}],this.district=[{key:"Chennai",value:"chennai"},{key:"Permablur",value:"permablur"},{key:"Trichy",value:"trichy"},{key:"Kanchipuram",value:"kanchipuram"}],this.state=[{key:"Tamil Nadu",value:"tamilnadu"}],this.country=[{key:"India",value:"india"}],this.nationality=[{key:"Indian",value:"indian"}],this.id=[{key:"Aadhaar Card",value:"aadhaar"},{key:"Pan Card",value:"pancard"}],this.searchInput=new a.NI(""),this.options=["One","Two","Three"],this.searchPatientsUseAutoComplete=new x.d,this.unsubscribe$=new I.x,this.patientInfo=null,this.patient_id=null,this.isLoading=!1,this.date="",this.patientObserver$=this.route.paramMap.pipe((0,b.U)(()=>window.history.state)),null!=this.patientObserver$&&this.patientObserver$.subscribe({next:u=>{null!=u.id&&(console.log("asd"),this.patient_id=u.id,this.getCustomerById(this.patient_id)),this.cdRef.detectChanges()}})}ngOnDestroy(){this.unsubscribe$.next(null),this.unsubscribe$.complete()}ngOnInit(){this.maxDate=new Date,this.img="../../../assets/image/man 1.png",this.filteredOptions=this.searchInput.valueChanges.pipe((0,G.O)(""),(0,b.U)(e=>this._filter(e||""))),this.customerSearchAutocompleteSetup()}_filter(e){const n=e.toLowerCase();return this.options.filter(r=>r.toLowerCase().includes(n))}onSubmit(e){if(this.patientForm.valid){this.spinner=!0;const n={...this.patientForm.value};null!=n.image&&"string"!=typeof n.image?this.uploadImage(n,e):this.registerCustomer(n,e)}}uploadImage(e,n){const r=new FormData;r.append("file",e.image),r.append("upload_type","profile"),this.customerRegistrationService.uploadProfileImg(r).subscribe({next:s=>{"success"==s.status?(e.profile_image=s?.data?.uploadedFilePath,this.registerCustomer(e,n)):(this.spinner=!1,this.snackBbar.open(s.message,"success")),this.cdRef.detectChanges()},error:s=>{this.spinner=!1,this.snackBbar.open("Something went wrong","success"),this.cdRef.detectChanges()}})}registerCustomer(e,n){e.height=e.height||"",e.weight=e.weight||"",e.pincode=Number(e.pincode),e.username=e.email,e.height=e.height.toString(),e.weight=e.height.toString(),e.dob=new Date(e.dob).toISOString(),e.docs=[{type:e.id_1,proof_no:e.id_1_number},{type:e.id_2,proof_no:e.id_2_number}],""==e.height&&delete e.height,""==e.weight&&delete e.weight,null==e.address&&delete e.address,null==e.landmark&&delete e.landmark,null==e.city&&delete e.city,null==e.district&&delete e.district,null==e.country&&delete e.country,null==e.state&&delete e.state,0==e.pincode&&delete e.pincode,null==e.nationality&&delete e.nationality,delete e.id_1,delete e.id_1_number,delete e.id_2,delete e.id_2_number,null===this.patient_id?this.customerRegistrationService.registerCustomer(e).subscribe({next:r=>{this.spinner=!1,"success"==r.status&&r.data.id?"register"===n?(this.snackBbar.open("Customer registered successfully","success"),this.router.navigateByUrl("user/customer-management")):"book"===n&&(this.snackBbar.open(r["api-message"],"success"),this.router.navigateByUrl("registration/register-book/"+r.data.id)):this.snackBbar.open(r.message,"success"),this.cdRef.markForCheck(),this.cdRef.detectChanges()},error:r=>{this.spinner=!1,this.snackBbar.open(400==r.status?r.error.error:"Something went wrong",""),this.cdRef.detectChanges()}}):null!==this.patient_id&&(e.id=this.patient_id,this.customerRegistrationService.updateCustomer(this.patient_id,e).subscribe({next:r=>{this.spinner=!1,"success"==r.status?"register"===n?this.snackBbar.open("Customer updated successfully","success"):"book"===n&&this.router.navigateByUrl("registration/register-book/"+this.patient_id):this.snackBbar.open(r.message,"success"),this.cdRef.detectChanges()},error:r=>{this.spinner=!1,this.snackBbar.open("Something went wrong","success"),this.cdRef.detectChanges()}}))}onChange(e){this.date=e.target.value}customerSearchAutocompleteSetup(){this.spinner=!0;let e=this.searchInput?.valueChanges;e&&(this.searchPatientsUseAutoComplete.loadDependency(this.cdRef,this.unsubscribe$,e),this.searchPatientsUseAutoComplete.pagination.perPage=25,this.searchPatientsUseAutoComplete.apiEndpointMethod=()=>this.customerRegistrationService.searchCustomer(this.searchPatientsUseAutoComplete.searchStr,this.searchPatientsUseAutoComplete.pagination).pipe((0,b.U)(n=>(this.spinner=!1,n.data))),this.searchPatientsUseAutoComplete.listenForAutoCompleteSearchFormControl(this.searchInput,()=>{},n=>{}),this.searchPatientsUseAutoComplete.loadData(()=>{},()=>{}))}updateSelectContainer(){this.selectanelContainer="patient-autocomplete"}onCloseContainer(){this.selectanelContainer=""}patientDisplayWithFn(e){return e?.name??""}onPatientSelection(e){this.patient_id=e.option.value.id,this.getCustomerById(this.patient_id)}clearform(){this.selectanelContainer="",this.img="../../../assets/image/man 1.png",this.patient_id=null,this.patientInfo=null,this.searchInput.patchValue(""),this.patientForm.reset(),this.cdRef.markForCheck()}patchValues(e){this.patientForm.patchValue(new dt(e)),this.img=e.profile_image,this.date=e.dob,null!==typeof e.location&&this.patientForm.patchValue({address:e.location.address,city:e.location.city,district:e.location.district,state:e.location.state,country:e.location.country,nationality:e.location.nationality,pincode:e.location.pincode}),null!==typeof e.doc&&this.patientForm.patchValue({id_1:e.docs[0].type,id_1_number:e.docs[0].proof_no,id_2:e.docs[1].type,id_2_number:e.docs[1].proof_no})}loadMorePatients(){this.searchPatientsUseAutoComplete.loadMoreData(()=>{},()=>{})}onIDOptionSelect(e,n){this.isId1Selected=!0,"id_1"==n?("aadhaar"==this.patientForm.controls.id_1.value?(this.patientForm.controls.id_1_number.setValidators([a.kI.required,a.kI.minLength(12),a.kI.pattern("^[0-9]{12}$")]),this.patientForm.patchValue({id_2:"pancard",id_2_number:null}),this.patientForm.controls.id_2_number.setValidators([a.kI.required,a.kI.minLength(10),a.kI.pattern("^[a-zA-Z]{5}[0-9]{4}[a-zA-Z]{1}$")])):"pancard"==this.patientForm.controls.id_1.value&&(this.patientForm.controls.id_1_number.setValidators([a.kI.required,a.kI.minLength(10),a.kI.pattern("^[a-zA-Z]{5}[0-9]{4}[a-zA-Z]{1}$")]),this.patientForm.patchValue({id_2:"aadhaar",id_2_number:null}),this.patientForm.controls.id_2_number.setValidators([a.kI.required,a.kI.minLength(12),a.kI.pattern("^[0-9]{12}$")])),this.patientForm.controls.id_1_number.updateValueAndValidity()):"id_2"==n&&("aadhaar"==this.patientForm.controls.id_2.value?this.patientForm.controls.id_2_number.setValidators([a.kI.required,a.kI.minLength(12),a.kI.pattern("^[0-9]{12}$")]):"pancard"==this.patientForm.controls.id_2.value&&this.patientForm.controls.id_2_number.setValidators([a.kI.required,a.kI.minLength(10),a.kI.pattern("^[a-zA-Z]{5}[0-9]{4}[a-zA-Z]{1}$")]),this.patientForm.controls.id_2_number.updateValueAndValidity())}getCustomerById(e){this.spinner=!0,this.customerRegistrationService.getCustomerById(e).subscribe({next:n=>{this.spinner=!1,"success"==n.status?(this.patientInfo=n.data,null!==this.patientInfo.profile_image&&(this.img=this.patientInfo.profile_image),this.patchValues(this.patientInfo)):this.snackBbar.open(n.message,"success"),this.cdRef.markForCheck(),this.cdRef.detectChanges()},error:n=>{this.spinner=!1,this.snackBbar.open("Something went wrong","success"),this.cdRef.detectChanges()}})}omit_special_char(e){var n;return(n=e.charCode)>64&&n<91||n>96&&n<123||8==n||32==n||n>=48&&n<=57}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(C.F0),t.Y36(t.sBO),t.Y36(_t.d),t.Y36(W.ux),t.Y36(H.x),t.Y36(K.c),t.Y36(C.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-register-customer"]],decls:221,vars:74,consts:[[1,"patient-detailsform"],[1,"title","primary"],[1,"doctors-list__header--input_form"],["appearance","outline",1,"agm-search_box","primary"],["matInput","","placeholder","Search By Name, Phone Number",3,"formControl","matAutocomplete"],["autoActiveFirstOption","",1,"autocomplete-scroll",3,"displayWith","opened","closed","optionSelected"],["auto","matAutocomplete"],["infiniteScroll","",1,"patient-autocomplete",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","fromRoot","immediateCheck","alwaysCallback","infiniteScrollContainer","scrolled"],[3,"value",4,"ngFor","ngForOf"],["matSuffix","","svgIcon","appSearch"],["matSuffix","",3,"vertical"],[3,"formGroup"],["fxLayoutAlign","center center",1,"data-container"],[1,"data-container-common"],[1,"data-container-common__dataArea"],[1,"customer-walkin_form"],["fxLayout","row",1,"customer-walkin_form-field"],["fxLayout","row",1,"customer-walkin_form-field-child"],["fxLayout","column",1,"agm-input-form"],[1,"primary","required"],["appearance","outline",1,"field-title","primary"],["formControlName","title","placeholder","Title"],["value","mr"],["value","mrs"],["matSuffix","","svgIcon","appDownArrow"],[4,"ngIf"],["appearance","outline",1,"field-name","primary"],["matInput","","formControlName","name","placeholder","Enter Patient Name","autocomplete","off",3,"keypress"],[1,"provider-Age","primary","required"],["appearance","outline",1,"field-common","primary"],["matInput","","placeholder","DD/MM/YYYY","formControlName","dob","readonly","",1,"primary","matInput",3,"max","matDatepicker","dateChange"],["matSuffix","",3,"for"],["svgIcon","appCalendar","matDatepickerToggleIcon",""],["datepicker",""],[1,"primary"],["appearance","outline",1,"field-age","field-number"],["type","text","formControlName","age","matInput","","placeholder","Age","readonly","",3,"value"],["fxLayout","column",1,"agm-input-form","gender-inputform"],["appearance","outline",1,"field-gender","primary"],["formControlName","gender","placeholder","Gender"],["appearance","outline",1,"field-height","primary"],["matInput","","type","number","formControlName","height","autocomplete","off","appHeight","","placeholder","in cm"],["matInput","","type","number","formControlName","weight","autocomplete","off","appHeight","","placeholder","in kg"],["appearance","outline",1,"primary"],["matInput","","type","text","formControlName","mobile_number","placeholder","Mobile Number","minlength","10","length","10","autocomplete","off","appNumbersOnly",""],["type","email","formControlName","email","matInput","","placeholder","Email"],["formControlName","referral","placeholder","Referral"],["formControlName","patient_type","placeholder","Patient Type"],["matInput","","formControlName","address","placeholder","Address"],["matInput","","formControlName","landmark","placeholder","Landmark"],["formControlName","country","placeholder","Country"],["formControlName","state","placeholder","State"],["formControlName","district","placeholder","District"],["formControlName","city","placeholder","City"],["appearance","outline",1,"field-common","field-number","primary"],["matInput","","type","text","formControlName","pincode","placeholder","Pincode","minlength","6","length","6","autocomplete","off","appNumbersOnly",""],["formControlName","nationality","placeholder","Nationality"],["svgIcon","appDownArrow","matSuffix",""],["formControlName","id_1","placeholder","ID 1",3,"selectionChange"],["id_1_select",""],["type","text","formControlName","id_1_number","matInput","","placeholder","Number",3,"readonly"],["formControlName","id_2","placeholder","ID 2",3,"selectionChange"],["id_2_select",""],[3,"value","disabled",4,"ngFor","ngForOf"],["type","text","formControlName","id_2_number","matInput","","placeholder","Number",3,"readonly"],[3,"vertical"],["formControlName","image",3,"image"],[1,"form-action-btn","col"],["type","submit","mat-button","",1,"button-mat-all",3,"click"],["mat-button","",1,"button-mat-all",3,"click"],["class","spinner",4,"ngIf"],[3,"value"],[3,"value","disabled"],[1,"spinner"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"div")(2,"h3",1),t._uU(3,"Register Customer"),t.qZA()(),t.TgZ(4,"div",2)(5,"mat-form-field",3),t._UZ(6,"input",4),t.TgZ(7,"mat-autocomplete",5,6),t.NdJ("opened",function(){return n.updateSelectContainer()})("closed",function(){return n.onCloseContainer()})("optionSelected",function(s){return n.onPatientSelection(s)}),t.TgZ(9,"div",7),t.NdJ("scrolled",function(){return n.loadMorePatients()}),t.YNc(10,bt,2,2,"mat-option",8),t.qZA()(),t._UZ(11,"mat-icon",9)(12,"mat-divider",10),t.qZA()(),t.TgZ(13,"form",11)(14,"div",12)(15,"div",13)(16,"div",14)(17,"div",15)(18,"div",16)(19,"div",17)(20,"div",18)(21,"span",19),t._uU(22,"Title"),t.qZA(),t.TgZ(23,"mat-form-field",20)(24,"mat-select",21)(25,"mat-option",22),t._uU(26,"Mr"),t.qZA(),t.TgZ(27,"mat-option",23),t._uU(28,"Mrs"),t.qZA()(),t._UZ(29,"mat-icon",24),t.YNc(30,Ct,2,0,"mat-error",25),t.qZA()(),t.TgZ(31,"div",18)(32,"span",19),t._uU(33,"Patient Name"),t.qZA(),t.TgZ(34,"mat-form-field",26)(35,"input",27),t.NdJ("keypress",function(s){return n.omit_special_char(s)}),t.qZA(),t.YNc(36,vt,2,0,"mat-error",25),t.qZA()()(),t.TgZ(37,"div",17)(38,"div",18)(39,"span",28),t._uU(40,"DOB"),t.qZA(),t.TgZ(41,"mat-form-field",29)(42,"input",30),t.NdJ("dateChange",function(s){return n.onChange(s)}),t.qZA(),t.TgZ(43,"mat-datepicker-toggle",31),t._UZ(44,"mat-icon",32),t.qZA(),t._UZ(45,"mat-datepicker",null,33),t.YNc(47,Zt,2,0,"mat-error",25),t.qZA()(),t.TgZ(48,"div",18)(49,"span",34),t._uU(50,"Age"),t.qZA(),t.TgZ(51,"mat-form-field",35),t._UZ(52,"input",36),t.ALo(53,"age"),t.qZA()(),t.TgZ(54,"div",37)(55,"span",19),t._uU(56,"Gender"),t.qZA(),t.TgZ(57,"mat-form-field",38)(58,"mat-select",39),t.YNc(59,At,2,2,"mat-option",8),t.qZA(),t._UZ(60,"mat-icon",24),t.YNc(61,yt,2,0,"mat-error",25),t.qZA()()()(),t.TgZ(62,"div",16)(63,"div",17)(64,"div",18)(65,"span",34),t._uU(66,"Height"),t.qZA(),t.TgZ(67,"mat-form-field",40),t._UZ(68,"input",41),t.YNc(69,Tt,2,0,"mat-error",25),t.qZA()(),t.TgZ(70,"div",18)(71,"span",34),t._uU(72,"Weight"),t.qZA(),t.TgZ(73,"mat-form-field",40),t._UZ(74,"input",42),t.YNc(75,kt,2,0,"mat-error",25),t.qZA()(),t.TgZ(76,"div",18)(77,"span",19),t._uU(78,"Mobile Number"),t.qZA(),t.TgZ(79,"mat-form-field",43),t._UZ(80,"input",44),t.YNc(81,It,2,0,"mat-error",25),t.YNc(82,xt,2,0,"mat-error",25),t.qZA()()(),t.TgZ(83,"div",17)(84,"div",18)(85,"span",19),t._uU(86,"Email"),t.qZA(),t.TgZ(87,"mat-form-field",29),t._UZ(88,"input",45),t.YNc(89,Pt,2,0,"mat-error",25),t.YNc(90,wt,2,0,"mat-error",25),t.qZA()(),t.TgZ(91,"div",18)(92,"span",19),t._uU(93,"Referral"),t.qZA(),t.TgZ(94,"mat-form-field",29)(95,"mat-select",46),t.YNc(96,qt,2,2,"mat-option",8),t.qZA(),t._UZ(97,"mat-icon",24),t.YNc(98,Mt,2,0,"mat-error",25),t.qZA()()()(),t.TgZ(99,"div",16)(100,"div",17)(101,"div",18)(102,"span",19),t._uU(103,"Patient Type"),t.qZA(),t.TgZ(104,"mat-form-field",29)(105,"mat-select",47),t.YNc(106,Ot,2,2,"mat-option",8),t.qZA(),t._UZ(107,"mat-icon",24),t.YNc(108,Ut,2,0,"mat-error",25),t.qZA()(),t.TgZ(109,"div",18)(110,"span",19),t._uU(111,"Address"),t.qZA(),t.TgZ(112,"mat-form-field",29),t._UZ(113,"input",48),t.YNc(114,Nt,2,0,"mat-error",25),t.qZA()(),t.TgZ(115,"div",18)(116,"span",19),t._uU(117,"Landmark"),t.qZA(),t.TgZ(118,"mat-form-field",29),t._UZ(119,"input",49),t.YNc(120,Ft,2,0,"mat-error",25),t.qZA()()(),t.TgZ(121,"div",17)(122,"div",18)(123,"span",19),t._uU(124,"Country"),t.qZA(),t.TgZ(125,"mat-form-field",29)(126,"mat-select",50),t.YNc(127,Rt,2,2,"mat-option",8),t.qZA(),t._UZ(128,"mat-icon",24),t.YNc(129,St,2,0,"mat-error",25),t.qZA()()()(),t.TgZ(130,"div",16)(131,"div",17)(132,"div",18)(133,"span",19),t._uU(134,"State"),t.qZA(),t.TgZ(135,"mat-form-field",29)(136,"mat-select",51),t.YNc(137,Dt,2,2,"mat-option",8),t.qZA(),t._UZ(138,"mat-icon",24),t.YNc(139,Jt,2,0,"mat-error",25),t.qZA()(),t.TgZ(140,"div",18)(141,"span",19),t._uU(142,"District"),t.qZA(),t.TgZ(143,"mat-form-field",29)(144,"mat-select",52),t.YNc(145,Bt,2,2,"mat-option",8),t.qZA(),t._UZ(146,"mat-icon",24),t.YNc(147,Qt,2,0,"mat-error",25),t.qZA()(),t.TgZ(148,"div",18)(149,"span",19),t._uU(150,"City"),t.qZA(),t.TgZ(151,"mat-form-field",29)(152,"mat-select",53),t.YNc(153,Yt,2,2,"mat-option",8),t.qZA(),t._UZ(154,"mat-icon",24),t.YNc(155,Lt,2,0,"mat-error",25),t.qZA()(),t.TgZ(156,"div",18)(157,"span",19),t._uU(158,"Pincode"),t.qZA(),t.TgZ(159,"mat-form-field",54),t._UZ(160,"input",55),t.YNc(161,$t,2,0,"mat-error",25),t.YNc(162,Et,2,0,"mat-error",25),t.qZA()()()(),t.TgZ(163,"div",17)(164,"div",18)(165,"span",34),t._uU(166,"Nationality"),t.qZA(),t.TgZ(167,"mat-form-field",29)(168,"mat-select",56),t.YNc(169,jt,2,2,"mat-option",8),t.qZA(),t._UZ(170,"mat-icon",57),t.YNc(171,Vt,2,0,"mat-error",25),t.qZA()()(),t.TgZ(172,"div",17)(173,"div",18)(174,"span",19),t._uU(175,"ID 1"),t.qZA(),t.TgZ(176,"mat-form-field",29)(177,"mat-select",58,59),t.NdJ("selectionChange",function(s){return n.onIDOptionSelect(s,"id_1")}),t.YNc(179,Gt,2,2,"mat-option",8),t.qZA(),t._UZ(180,"mat-icon",24),t.YNc(181,Wt,2,0,"mat-error",25),t.qZA()(),t.TgZ(182,"div",18)(183,"span",34),t._uU(184),t.ALo(185,"uppercase"),t.qZA(),t.TgZ(186,"mat-form-field",29),t._UZ(187,"input",60),t.YNc(188,Ht,2,0,"mat-error",25),t.YNc(189,Kt,2,0,"mat-error",25),t.YNc(190,zt,2,0,"mat-error",25),t.qZA()()(),t.TgZ(191,"div",17)(192,"div",18)(193,"span",19),t._uU(194,"ID 2"),t.qZA(),t.TgZ(195,"mat-form-field",29)(196,"mat-select",61,62),t.NdJ("selectionChange",function(s){return n.onIDOptionSelect(s,"id_2")}),t.YNc(198,Xt,2,3,"mat-option",63),t.qZA(),t._UZ(199,"mat-icon",24),t.YNc(200,te,2,0,"mat-error",25),t.qZA()(),t.TgZ(201,"div",18)(202,"span",34),t._uU(203),t.ALo(204,"uppercase"),t.qZA(),t.TgZ(205,"mat-form-field",29),t._UZ(206,"input",64),t.YNc(207,ee,2,0,"mat-error",25),t.YNc(208,ne,2,0,"mat-error",25),t.YNc(209,oe,2,0,"mat-error",25),t.qZA()()()(),t._UZ(210,"mat-divider",65),t.TgZ(211,"div"),t._UZ(212,"app-agm-photo",66),t.qZA()()()(),t.TgZ(213,"div",67)(214,"button",68),t.NdJ("click",function(){return n.onSubmit("register")}),t.YNc(215,ie,2,0,"span",25),t.YNc(216,ae,2,0,"span",25),t.qZA(),t.TgZ(217,"button",69),t.NdJ("click",function(){return n.onSubmit("book")}),t.YNc(218,re,2,0,"span",25),t.YNc(219,se,2,0,"span",25),t.qZA()()(),t.YNc(220,le,2,0,"div",70),t.qZA()),2&e){const r=t.MAs(8),s=t.MAs(46),l=t.MAs(178),c=t.MAs(197);let p,h,u,A,d,_,y,k,T,st,U,N,F,R,S,D,J,B,Q,lt,Y,L,$,mt,ct,E,j,ut,pt;t.xp6(6),t.Q6J("formControl",n.searchInput)("matAutocomplete",r),t.xp6(1),t.Q6J("displayWith",n.patientDisplayWithFn),t.xp6(2),t.Q6J("infiniteScrollDistance",1)("infiniteScrollThrottle",0)("scrollWindow",!1)("fromRoot",!1)("immediateCheck",!1)("alwaysCallback",!1)("infiniteScrollContainer",n.selectanelContainer),t.xp6(1),t.Q6J("ngForOf",n.searchPatientsUseAutoComplete.data),t.xp6(2),t.Q6J("vertical",!0),t.xp6(1),t.Q6J("formGroup",n.patientForm),t.xp6(17),t.Q6J("ngIf",null==(p=n.patientForm.get("title"))||null==p.errors?null:p.errors.required),t.xp6(6),t.Q6J("ngIf",null==(h=n.patientForm.get("name"))||null==h.errors?null:h.errors.required),t.xp6(6),t.Q6J("max",n.today)("matDatepicker",s)("max",n.maxDate),t.xp6(1),t.Q6J("for",s),t.xp6(4),t.Q6J("ngIf",null==(u=n.patientForm.get("dob"))||null==u.errors?null:u.errors.required),t.xp6(5),t.s9C("value",n.date?t.lcZ(53,68,n.date):""),t.xp6(7),t.Q6J("ngForOf",n.gender),t.xp6(2),t.Q6J("ngIf",null==(A=n.patientForm.get("gender"))||null==A.errors?null:A.errors.required),t.xp6(8),t.Q6J("ngIf",null==(d=n.patientForm.get("height"))||null==d.errors?null:d.errors.required),t.xp6(6),t.Q6J("ngIf",null==(_=n.patientForm.get("weight"))||null==_.errors?null:_.errors.required),t.xp6(6),t.Q6J("ngIf",null==(y=n.patientForm.get("mobile_number"))||null==y.errors?null:y.errors.required),t.xp6(1),t.Q6J("ngIf",null==(k=n.patientForm.get("mobile_number"))?null:k.hasError("minlength")),t.xp6(7),t.Q6J("ngIf",null==(T=n.patientForm.get("email"))||null==T.errors?null:T.errors.required),t.xp6(1),t.Q6J("ngIf",null==(st=n.patientForm.get("email"))?null:st.hasError("pattern")),t.xp6(6),t.Q6J("ngForOf",n.referral),t.xp6(2),t.Q6J("ngIf",null==(U=n.patientForm.get("referral"))||null==U.errors?null:U.errors.required),t.xp6(8),t.Q6J("ngForOf",n.patient_type),t.xp6(2),t.Q6J("ngIf",null==(N=n.patientForm.get("patient_type"))||null==N.errors?null:N.errors.required),t.xp6(6),t.Q6J("ngIf",null==(F=n.patientForm.get("address"))||null==F.errors?null:F.errors.required),t.xp6(6),t.Q6J("ngIf",null==(R=n.patientForm.get("landmark"))||null==R.errors?null:R.errors.required),t.xp6(7),t.Q6J("ngForOf",n.country),t.xp6(2),t.Q6J("ngIf",null==(S=n.patientForm.get("country"))||null==S.errors?null:S.errors.required),t.xp6(8),t.Q6J("ngForOf",n.state),t.xp6(2),t.Q6J("ngIf",null==(D=n.patientForm.get("state"))||null==D.errors?null:D.errors.required),t.xp6(6),t.Q6J("ngForOf",n.district),t.xp6(2),t.Q6J("ngIf",null==(J=n.patientForm.get("district"))||null==J.errors?null:J.errors.required),t.xp6(6),t.Q6J("ngForOf",n.city),t.xp6(2),t.Q6J("ngIf",null==(B=n.patientForm.get("city"))||null==B.errors?null:B.errors.required),t.xp6(6),t.Q6J("ngIf",null==(Q=n.patientForm.get("pincode"))||null==Q.errors?null:Q.errors.required),t.xp6(1),t.Q6J("ngIf",null==(lt=n.patientForm.get("pincode"))?null:lt.hasError("minlength")),t.xp6(7),t.Q6J("ngForOf",n.nationality),t.xp6(2),t.Q6J("ngIf",null==(Y=n.patientForm.get("nationality"))||null==Y.errors?null:Y.errors.required),t.xp6(8),t.Q6J("ngForOf",n.id),t.xp6(2),t.Q6J("ngIf",null==(L=n.patientForm.get("id_1"))||null==L.errors?null:L.errors.required),t.xp6(3),t.hij("",t.lcZ(185,70,l.value?l.value:"")," Number"),t.xp6(3),t.Q6J("readonly",!n.isId1Selected),t.xp6(1),t.Q6J("ngIf",null==($=n.patientForm.get("id_1_number"))||null==$.errors?null:$.errors.required),t.xp6(1),t.Q6J("ngIf","aadhaar"==l.value&&(null==(mt=n.patientForm.get("id_1_number"))?null:mt.hasError("pattern"))),t.xp6(1),t.Q6J("ngIf","pancard"==l.value&&(null==(ct=n.patientForm.get("id_1_number"))?null:ct.hasError("pattern"))),t.xp6(8),t.Q6J("ngForOf",n.id),t.xp6(2),t.Q6J("ngIf",null==(E=n.patientForm.get("id_2"))||null==E.errors?null:E.errors.required),t.xp6(3),t.hij("",t.lcZ(204,72,c.value?c.value:"")," Number"),t.xp6(3),t.Q6J("readonly",!n.isId1Selected),t.xp6(1),t.Q6J("ngIf",null==(j=n.patientForm.get("id_2_number"))||null==j.errors?null:j.errors.required),t.xp6(1),t.Q6J("ngIf","aadhaar"==c.value&&(null==(ut=n.patientForm.get("id_2_number"))?null:ut.hasError("pattern"))),t.xp6(1),t.Q6J("ngIf","pancard"==c.value&&(null==(pt=n.patientForm.get("id_2_number"))?null:pt.hasError("pattern"))),t.xp6(1),t.Q6J("vertical",!0),t.xp6(2),t.Q6J("image",n.img),t.xp6(3),t.Q6J("ngIf",null===n.patient_id),t.xp6(1),t.Q6J("ngIf",null!=n.patient_id),t.xp6(2),t.Q6J("ngIf",null===n.patient_id),t.xp6(1),t.Q6J("ngIf",null!=n.patient_id),t.xp6(1),t.Q6J("ngIf",n.spinner)}},dependencies:[f.sg,f.O5,z.Hw,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.wO,a.oH,a.sg,a.u,v.XC,v.ZL,X.ey,Z.TO,Z.KE,Z.R9,tt.Nt,et.d,nt.gD,ot.xw,ot.Wh,P.lW,g.Mq,g.hl,g.nW,g.Q0,it.Ou,gt.j,ht.X,ft.k,w.R,f.gd,at.C],styles:["app-register-customer .patient-detailsform{padding:2.6em}  app-register-customer .patient-detailsform .doctors-list__header--input_form{width:60%}  app-register-customer .patient-detailsform .data-container{margin-top:0rem}  app-register-customer .patient-detailsform .agm-input-form mat-form-field.mat-form-field.mat-form-field-appearance-outline>div.mat-form-field-wrapper>div.mat-form-field-flex>div.mat-form-field-infix{padding:.9em 0}  app-register-customer .patient-detailsform .data-container-common__dataArea{display:flex}  app-register-customer .patient-detailsform .data-container-common__dataArea .data-container-common__dataArea--dataField{display:flex;flex-direction:column}  app-register-customer .patient-detailsform .data-container-common__dataArea mat-icon svg{width:15px}  app-register-customer .patient-detailsform .data-container-common__dataArea-clear-btn{background-color:#abbbc4;width:100%}  app-register-customer .patient-detailsform .data-container-common .customer-walkin_form .gender-inputform{margin-left:8px}  app-register-customer .patient-detailsform .data-container-common .customer-walkin_form .field-title{width:74px}  app-register-customer .patient-detailsform .data-container-common .customer-walkin_form .field-height{width:85px}  app-register-customer .patient-detailsform .data-container-common .customer-walkin_form .field-name{width:325px}  app-register-customer .patient-detailsform .data-container-common .customer-walkin_form .field-common{width:200px!important}  app-register-customer .patient-detailsform .data-container-common .customer-walkin_form .field-DOB{width:113px}  app-register-customer .patient-detailsform .data-container-common .customer-walkin_form .field-number input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}  app-register-customer .patient-detailsform .data-container-common .customer-walkin_form .field-number input[type=number]{-moz-appearance:textfield}  app-register-customer .patient-detailsform .data-container-common .customer-walkin_form .field-Age{width:62px}  app-register-customer .patient-detailsform .data-container-common .customer-walkin_form .field-type{width:100px}  app-register-customer .patient-detailsform .data-container-common .customer-walkin_form .field-age{width:95px!important}  app-register-customer .patient-detailsform .data-container-common .customer-walkin_form .field-gender{width:99px!important}  app-register-customer .patient-detailsform .data-container-common .customer-walkin_form_submit{margin-top:50px}  app-register-customer .patient-detailsform .form-action-btn{width:100%;display:flex;margin-top:50px;justify-content:end}  app-register-customer .patient-detailsform .button-mat-all{margin-left:20px}  app-register-customer .patient-detailsform input:focus::-webkit-input-placeholder{color:transparent}  app-register-customer .mat-divider.mat-divider-vertical{margin-left:50px}@media (max-width: 1500px){  app-register-customer .customer-walkin_form{margin-top:70px}  app-register-customer .customer-walkin_form .field-DOB{margin-left:0}  app-register-customer .customer-walkin_form-field{flex-direction:column!important}}@media (max-width: 1200px){  app-register-customer .data-container-common__dataArea{display:flex;flex-direction:column}  app-register-customer .customer-walkin_form{margin-top:70px}  app-register-customer .customer-walkin_form .field-DOB{margin-left:0}  app-register-customer .customer-walkin_form-field{flex-direction:column!important}}@media only screen and (min-width: 769px) and (max-width: 1024px){  app-register-customer .patient-detailsform .data-container{margin-top:0rem!important}  app-register-customer .patient-detailsform .data-container-common__dataArea{display:flex;flex-direction:column}  app-register-customer .patient-detailsform .customer-walkin_form{margin-top:70px}  app-register-customer .patient-detailsform .customer-walkin_form .field-DOB{margin-left:0}  app-register-customer .patient-detailsform .customer-walkin_form-field{flex-direction:column!important}}@media only screen and (min-width: 481px) and (max-width: 768px){  app-register-customer .patient-detailsform .data-container{margin-top:0rem!important}  app-register-customer .patient-detailsform .data-container-common__dataArea{display:flex;flex-direction:column}  app-register-customer .patient-detailsform .doctors-list__header--input_form{width:auto}}@media only screen and (min-width: 0px) and (max-width: 480px){  app-register-customer .data-container{margin-top:0rem!important}  app-register-customer .patient-detailsform{margin:0}  app-register-customer .patient-detailsform p{padding-left:2em}  app-register-customer .patient-detailsform .patient-detailsform{margin:0;margin-top:1.2rem}  app-register-customer .patient-detailsform .patient-detailsform p{padding-left:2em}  app-register-customer .patient-detailsform .patient-detailsform .data-container-common{margin:1em 0 0;width:100%;overflow-x:auto}  app-register-customer .patient-detailsform .patient-detailsform .data-container-common__dataArea{display:flex;flex-direction:column}  app-register-customer .patient-detailsform .patient-detailsform .customer-walkin_form-field-child{flex-direction:column!important}  app-register-customer .patient-detailsform .patient-detailsform .form-action-btn{width:100%;display:flex;align-items:center;margin-top:50px;flex-direction:column;justify-content:space-evenly}}.autocomplete-scroll[_ngcontent-%COMP%]   .patient-autocomplete[_ngcontent-%COMP%]{max-height:14.375rem;overflow-y:auto}"],changeDetection:0}),o})();var ue=m(44466);let pe=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-register"]],decls:1,vars:0,template:function(e,n){1&e&&t._UZ(0,"router-outlet")},dependencies:[C.lC],changeDetection:0}),o})();var de=m(59077),rt=m(87044),q=m(65412),_e=m(92340),M=m(47839),ge=m(80529);let he=(()=>{class o{constructor(e,n){this.httpClient=e,this.router=n,this.BASE_URL=_e.N.baseUrl}uploadAttachment(e){return this.httpClient.post(`${this.BASE_URL}/upload`,e)}getCenters(){return this.httpClient.get(this.BASE_URL+M.V.centers)}getCenterTestSearch(e,n){return this.httpClient.post(this.BASE_URL+`/centers/${e}/test`,n)}createTestOrder(e){return this.httpClient.post(`${this.BASE_URL}/order/booking`,e)}getCustomer(e){return this.httpClient.get(this.BASE_URL+M.V.customer+"/"+e)}getCenterSearch(e){return this.httpClient.post(`${this.BASE_URL}/centers/search`,e)}search(e){return this.httpClient.post(this.httpClient+M.V.center+"/search",e)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(ge.eN),t.LFG(C.F0))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var fe=m(56709),be=m(33300),O=m(28255),Ce=m(82179);function ve(o,i){if(1&o&&(t.TgZ(0,"mat-option",118),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e.name),t.xp6(1),t.Oqu(e.name)}}function Ze(o,i){if(1&o&&(t.TgZ(0,"mat-option",118),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",null==e?null:e.name," ")}}function Ae(o,i){if(1&o&&(t.TgZ(0,"mat-option",118),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.name," ")}}function ye(o,i){1&o&&(t.TgZ(0,"mat-option",119),t._uU(1,"No Records Found"),t.qZA())}function Te(o,i){1&o&&(t.TgZ(0,"div",120),t._UZ(1,"mat-spinner",121),t.qZA())}function ke(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"button",129),t.NdJ("click",function(r){t.CHM(e);const s=t.oxw(2);return t.KtG(s.viewTestAttachments(r))}),t.TgZ(1,"mat-icon"),t._uU(2,"visibility"),t.qZA()()}}function Ie(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"div",68),t._UZ(1,"input",122,123),t.TgZ(3,"input",124,125),t.NdJ("change",function(r){t.CHM(e);const s=t.oxw();return t.KtG(s.uploadAttachmentForm(r))}),t.qZA(),t.TgZ(5,"button",126),t.NdJ("click",function(){t.CHM(e);const r=t.MAs(4);return t.KtG(r.click())}),t._UZ(6,"mat-icon",127),t.qZA(),t.YNc(7,ke,3,0,"button",128),t.qZA()}if(2&o){const e=t.oxw(),n=t.MAs(143);t.xp6(5),t.Q6J("disabled",!n.value),t.xp6(2),t.Q6J("ngIf",e.tfgAttachments.length>0)}}function xe(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"button",141),t.NdJ("click",function(r){t.CHM(e);const s=t.oxw().index,l=t.oxw(2);return t.KtG(l.viewPayloadTestAttachments(r,s))}),t.TgZ(1,"mat-icon"),t._uU(2,"visibility"),t.qZA()()}}function Pe(o,i){if(1&o&&(t.TgZ(0,"a",142),t._UZ(1,"mat-icon",143),t.qZA()),2&o){const e=t.oxw().$implicit;t.Q6J("href",e.consent_form.path,t.LSH)}}function we(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"div",132)(1,"div",88)(2,"div",133)(3,"p"),t._uU(4),t.qZA()(),t.TgZ(5,"div",134)(6,"p",135),t._uU(7),t.ALo(8,"currency"),t.qZA()(),t.TgZ(9,"div",134)(10,"p",135),t._uU(11),t.ALo(12,"currency"),t.qZA()(),t.TgZ(13,"div",136)(14,"div",16)(15,"div",137),t.YNc(16,xe,3,0,"button",138),t.qZA(),t.TgZ(17,"div",137),t.YNc(18,Pe,2,1,"a",139),t.qZA(),t.TgZ(19,"div",137)(20,"button",140),t.NdJ("click",function(){const s=t.CHM(e).index,l=t.oxw(2);return t.KtG(l.onRemovePayloadTestItem(s))}),t.TgZ(21,"mat-icon"),t._uU(22,"delete"),t.qZA()()()()()()()}if(2&o){const e=i.$implicit;t.xp6(4),t.Oqu(e.name),t.xp6(3),t.Oqu(t.lcZ(8,5,e.price)),t.xp6(4),t.hij(" ",t.lcZ(12,7,e.discount)," "),t.xp6(5),t.Q6J("ngIf",e.attachments.length>0),t.xp6(2),t.Q6J("ngIf",e.consent_form)}}function qe(o,i){if(1&o&&(t.TgZ(0,"div",130),t.YNc(1,we,23,9,"div",131),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.testItemsPayload)}}function Me(o,i){if(1&o&&(t.TgZ(0,"mat-option",118),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.key," ")}}function Oe(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"button",144),t.NdJ("click",function(r){t.CHM(e);const s=t.oxw();return t.KtG(s.onConcessionTypeChange(r))}),t.TgZ(1,"span"),t._uU(2),t.qZA()()}if(2&o){const e=i.$implicit;t.Q6J("value",e.value),t.xp6(2),t.Oqu(e.key)}}function Ue(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Enter value between 0 to 100% "),t.qZA())}function Ne(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Enter value between 0 to 100% "),t.qZA())}function Fe(o,i){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" Enter value between 0 to ",e.bill_total," ")}}function Re(o,i){if(1&o&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" Enter value between 0 to ",e.bill_total," ")}}function Se(o,i){if(1&o&&(t.TgZ(0,"div",16)(1,"p",95),t._uU(2,"Consession Amount(-)"),t.qZA(),t.TgZ(3,"p",96),t._uU(4),t.ALo(5,"currency"),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.hij(" ",t.lcZ(5,1,e.consession_amount)," ")}}function De(o,i){if(1&o&&(t.TgZ(0,"div",16)(1,"p",95),t._uU(2,"Additional Amount(+)"),t.qZA(),t.TgZ(3,"p",96),t._uU(4),t.ALo(5,"currency"),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.hij(" ",t.lcZ(5,1,e.additional_amount)," ")}}function Je(o,i){if(1&o&&(t.TgZ(0,"div",16)(1,"p",145)(2,"small"),t._uU(3),t.ALo(4,"currency"),t.ALo(5,"currency"),t.qZA()()()),2&o){const e=t.oxw();t.xp6(3),t.AsE("(CSGT: ",t.lcZ(4,2,e.bill_gst_cgst)," + SSGT: ",t.lcZ(5,4,e.bill_gst_sgst),")")}}function Be(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"button",147),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit,s=t.oxw();return t.KtG(s.onPaymentTypeClick(r))}),t._uU(1),t.qZA()}if(2&o){const e=t.oxw().$implicit,n=t.oxw();t.ekj("selected",e===n.selectedPaymentType),t.s9C("value",e.value),t.xp6(1),t.hij(" ",e.key," ")}}function Qe(o,i){if(1&o&&(t.TgZ(0,"li"),t.YNc(1,Be,2,4,"button",146),t.qZA()),2&o){const e=i.index;t.xp6(1),t.Q6J("ngIf",e<3)}}function Ye(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"div",148),t._UZ(1,"div",46),t.TgZ(2,"div",149)(3,"div",150)(4,"mat-checkbox"),t._uU(5,"Emergency Order"),t.qZA()(),t.TgZ(6,"button",151),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.onCancelCustomerDetails())}),t._uU(7," Cancel "),t.qZA(),t.TgZ(8,"button",152),t._uU(9," Confirm "),t.qZA()()()}}function Le(o,i){if(1&o&&(t.TgZ(0,"mat-option",118),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.key)}}function $e(o,i){1&o&&(t.TgZ(0,"button",169)(1,"mat-icon"),t._uU(2,"delete"),t.qZA()())}function Ee(o,i){1&o&&(t.TgZ(0,"button",169)(1,"mat-icon"),t._uU(2,"add"),t.qZA()())}function je(o,i){if(1&o&&(t.TgZ(0,"div",159),t.ynx(1,160),t.TgZ(2,"div",161)(3,"mat-form-field",162)(4,"mat-select",163),t.YNc(5,Le,2,2,"mat-option",36),t.qZA(),t._UZ(6,"mat-icon",32),t.qZA()(),t.TgZ(7,"div",164)(8,"mat-form-field",162),t._UZ(9,"input",165),t.qZA()(),t.TgZ(10,"div",164)(11,"mat-form-field",162),t._UZ(12,"input",166),t.qZA()(),t.TgZ(13,"div",161)(14,"mat-form-field",162),t._UZ(15,"input",167),t.qZA()(),t.TgZ(16,"div",161),t.YNc(17,$e,3,0,"button",168),t.YNc(18,Ee,3,0,"button",168),t.qZA(),t.BQk(),t.qZA()),2&o){const e=i.index,n=t.oxw(2);t.xp6(1),t.Q6J("formGroupName",e),t.xp6(4),t.Q6J("ngForOf",n.payment_types),t.xp6(12),t.Q6J("ngIf",n.bookingPaymentItems.length>1),t.xp6(1),t.Q6J("ngIf",n.bookingPaymentItems.length-1==e)}}function Ve(o,i){if(1&o&&(t.TgZ(0,"button",153)(1,"mat-icon"),t._uU(2,"close"),t.qZA()(),t.TgZ(3,"h1"),t._uU(4,"Payment List"),t.qZA(),t.TgZ(5,"div",154)(6,"div",16)(7,"div",155),t._uU(8,"Payment Mode"),t.qZA(),t.TgZ(9,"div",156),t._uU(10,"Cheque / Card No"),t.qZA(),t.TgZ(11,"div",156),t._uU(12,"Bank Name"),t.qZA(),t.TgZ(13,"div",155),t._uU(14,"Amount"),t.qZA(),t.TgZ(15,"div",155),t._uU(16,"Action"),t.qZA()(),t.TgZ(17,"div",157),t.YNc(18,je,19,4,"div",158),t.qZA()()),2&o){const e=t.oxw();t.xp6(18),t.Q6J("ngForOf",e.bookingPaymentItems.controls)}}function Ge(o,i){1&o&&(t.TgZ(0,"div",170),t._UZ(1,"mat-spinner"),t.qZA())}const We=[{path:"",component:pe,children:[{path:"",redirectTo:"customer",pathMatch:"full"},{path:"customer",component:ce},{path:"register-book/:id",component:(()=>{class o{constructor(e,n,r,s,l,c,p,h,u,A,d,_){this.fb=e,this.router=n,this.matDialog=r,this.regService=s,this.chgDetector=l,this.dialog=c,this.snackBar=p,this.userService=h,this.matAutocomplete=u,this.actRouter=A,this.snackBbar=d,this.locale=_,this.autoCompleteControl=new a.NI(""),this.filteredOptions=[],this.centerfilteredOptions=[],this.checkAutocomplete=!1,this.options=[{key:"Male",value:"Male"},{key:"Female",value:"Female"}],this.title=[{key:"Mr",value:"mr"},{key:"Mrs",value:"mrs"}],this.gender=[{key:"Male",value:"Male"},{key:"Female",value:"Female"}],this.city=[{key:"Chennai",value:"chennai"},{key:"Permablur",value:"permablur"},{key:"Trichy",value:"trichy"},{key:"Kanchipuram",value:"kanchipuram"}],this.district=[{key:"Chennai",value:"chennai"},{key:"Permablur",value:"permablur"},{key:"Trichy",value:"trichy"},{key:"Kanchipuram",value:"kanchipuram"}],this.state=[{key:"Tamil Nadu",value:"tamilnadu"},{key:"kerela",value:"kerela"},{key:"karnataka",value:"karnataka"},{key:"Andhra",value:"andhra"}],this.country=[{key:"India",value:"india"}],this.concession_types=[{key:"%",value:"percentage"},{key:"Rs.",value:"amount"}],this.payment_types=[{value:"cash",key:"Cash",is_default:!0},{value:"debit-card",key:"Debit Card",is_default:!1},{value:"uppi",key:"UPI",is_default:!1},{value:"credit-card",key:"Credit Card",is_default:!1}],this.referral_types=[{key:"Walkin",value:"WALKIN"},{key:"Invite",value:"INVITE"}],this.isAmount=!0,this.centers=[],this.data=[],this.testDataSource=[],this.bookingAttachmentData=[],this.bookingTestSaveData=[],this.img="assets/image/man 1.png",this.isLoading=!1,this.isLoading2=!1,this.spinner=!1,this.horizontalPosition="center",this.verticalPosition="bottom",this.bill_total=0,this.bill_sub_total=0,this.bill_gst_total=0,this.bill_gst_cgst=0,this.bill_gst_sgst=0,this.bill_net_total=0,this.amount_paid=0,this.amount_due=0,this.amount_topay=0,this.consession_amount=0,this.additional_amount=0,this.gst_perc=15,this.patient_info={id:"",username:"",name:"",email:"",mobile_number:"",dob:"",gender:"",profile_image:"",referral:"",patient_type:""},this.selectedTest=null,this.searchTestInput=new a.NI(""),this.searchTestUseAutoComplete=new x.d,this.unsubscribe$=new I.x,this.file=null,this.onChange=()=>{},this.onTouch=()=>{},this.tfgAttachments=[],this.testItemsPayload=[],this.center_id="",this.concession_type_label="",this.concession_type_val="",this.centerSearchInput=new a.NI(""),this.searchCentersUseAutoComplete=new x.d,this.unsubscribe2$=new I.x,this.options3=["One","Two","Three"],this.spinner=!0,this.centerSearchAutocompleteSetup()}emitFiles(e){const n=e&&e.item(0);this.onChange(n),this.file=n}ngOnInit(){this.buildOrganisationDetailsForm(),this.getPatient(),this.selectedPaymentType=this.payment_types[0],this.centerfilteredOptions=this.centerSearchInput.valueChanges.pipe((0,G.O)(""),(0,b.U)(e=>this._filter(e||""))),this.concession_type_label=this.concession_types[0].key,this.concession_type_val=this.concession_types[0].value,this.bookingDetailsForm.patchValue({concessionTypeInput:this.concession_type_val})}ngOnDestroy(){this.unsubscribe$.next(null),this.unsubscribe$.complete(),this.unsubscribe2$.next(null),this.unsubscribe2$.complete()}onTestNameChange(e){this.checkAutocomplete=this.testDataSource.includes(e)}onFilterOptionSelected(e){let n=this.testDataSource.filter(r=>r.id===e.option.value);n.length&&(this.testItemsFG.patchValue({priceInput:n[0].price,testNameInput:n[0].id}),this.chgDetector.markForCheck())}displayFn(e){let n=this.testDataSource.filter(function(r){return r.id==e});return n.length?n[0].name:""}_normalizeValue(e){return e.toLowerCase().replace(/\s/g,"")}_filter(e){if(e){const n=this._normalizeValue(e);return this.testDataSource.filter(r=>r.name.toLowerCase().includes(n))}return!1}buildOrganisationDetailsForm(){this.bookingDetailsForm=this.fb.group({scheduleDateInput:new a.NI(null),billAmountInput:new a.NI(null),centerInput:new a.NI(null),referralInput:new a.NI(null),refCommentInput:new a.NI(null),concessionTypeInput:new a.NI({disabled:!0}),concessionAddonAmountInput:new a.NI({value:0,disabled:!0}),concessionAmountInput:new a.NI({value:0,disabled:!0},[a.kI.min(0),a.kI.min(100)]),commentInput:new a.NI(null),payAmountInput:new a.NI(null),testItemsFG:new a.cw({testNameInput:new a.NI(null),priceInput:new a.NI(null),discountAmtInput:new a.NI(null),formAttach:new a.NI(null),consentAttach:new a.NI(null)}),bookingPaymentItems:this.fb.array([this.buildPaymentItem()])})}buildTestItem(){return new a.cw({testNameInput:new a.NI(null),priceInput:new a.NI(null),discountAmtInput:new a.NI(null),formAttach:new a.NI(null),consentAttach:new a.NI(null)})}buildPaymentItem(){return new a.cw({payment_type:new a.NI(null),transaction_number:new a.NI(null),bank_name:new a.NI(null),amount:new a.NI(null)})}get testItemsFG(){return this.bookingDetailsForm.controls.testItemsFG}get bookingTestItems(){return this.bookingDetailsForm.controls.bookingTestItems}onSearchTestItem(){}onCenterChange(e){this.bill_total=0,this.bill_sub_total=0,this.bill_gst_total=0,this.bill_net_total=0,this.amount_paid=0,this.amount_due=0,this.amount_topay=0,this.consession_amount=0,this.additional_amount=0,this.testItemsPayload=[],this.tfgAttachments=[],this.center_id=e.value,this.spinner=!0,this.testSearchAutocompleteSetup()}onAddTestItem(){let n={id:this.selectedTest.id,name:this.selectedTest.name,price:this.selectedTest.price,discount:this.testItemsFG.value.discountAmtInput||0,attachments:this.tfgAttachments,consent_form:{id:this.selectedTest.consent_form?.id,path:this.selectedTest.consent_form?.full_path}};this.searchTestInput.reset(),this.testItemsPayload.push(n),this.testItemsFG.patchValue({testNameInput:"",discountAmtInput:0,priceInput:0}),this.selectedTest={},this.tfgAttachments=[],this.bookingDetailsForm.controls.concessionAmountInput.enable(),this.bookingDetailsForm.controls.concessionAddonAmountInput.enable(),this.updateBillPayment()}onRemovePayloadTestItem(e=null){null!==e&&(this.testItemsPayload.splice(e,1),this.updateBillPayment()),this.chgDetector.detectChanges(),this.chgDetector.markForCheck()}uploadAttachmentForm(e){this.isLoading2=!0;const n=new FormData;n.append("file",e.target.files[0]),n.append("upload_type","attachement"),this.userService.uploadImage(n).subscribe({next:r=>{if(this.isLoading2=!1,"success"==r.status){let s=r.data.uploadedFilePath;this.tfgAttachments.push({id:this.testItemsFG.value.testNameInput,path:s,name:s}),this.snackBbar.open(r.message,"success")}else this.snackBbar.open(r.message,"error");this.chgDetector.markForCheck(),this.chgDetector.detectChanges()},error:r=>{this.snackBbar.open(400==r.status?r.error.error:"Something went wrong","")}})}uploadConsentAttachment(e,n){this.isLoading2=!0;const r=new FormData;r.append("file",e.target.files[0]),r.append("upload_type","attachement"),this.userService.uploadImage(r).subscribe({next:s=>{this.isLoading2=!1;let l=s.data.uploadedFilePath;l.toString(),this.bookingDetailsForm.get("bookingTestItems").at(n).patchValue({consentAttach:l}),this.chgDetector.markForCheck(),this.chgDetector.detectChanges()},error:s=>{}})}onRemoveFormAttach(e,n){this.bookingDetailsForm.get("bookingTestItems").at(n).patchValue({formAttach:""}),this.chgDetector.markForCheck()}onRemoveConsentAttach(e,n){this.bookingDetailsForm.get("bookingTestItems").at(n).patchValue({consentAttach:""}),this.chgDetector.markForCheck()}get bookingPaymentItems(){return this.bookingDetailsForm.controls.bookingPaymentItems}onAddPaymentItem(){this.bookingPaymentItems.push(this.buildPaymentItem()),this.snackBbar.open("Payment Added Successfull","success")}onRemovePaymentItem(e){this.confirmDialog=this.dialog.open(de.$,{width:"40%",height:"auto",disableClose:!1,data:{message:"Are you sure want to Delete Payment?",buttonText:{ok:"Delete",cancel:"Cancel"}}}),this.confirmDialog.afterClosed().subscribe(n=>{n&&(this.snackBbar.open("Payment Delete Successfully",""),this.bookingPaymentItems.removeAt(e),this.chgDetector.markForCheck())})}onCancelCustomerDetails(){}onUpdateCustomerDetails(){}checkTestAttachment(e="list"){return"exist"==e?this.tfgAttachments.length:"list"==e&&this.tfgAttachments}viewTestAttachments(e){let n=this.tfgAttachments;n&&(this.attachmentDialog=this.dialog.open(rt.a,{width:"50%",height:"auto",disableClose:!1,data:{file:n}}),this.attachmentDialog.afterClosed().subscribe(r=>{if(0!=r.length)for(let s of r)this.tfgAttachments.splice(s,1);this.chgDetector.markForCheck()}))}viewPayloadTestAttachments(e,n){let r=this.testItemsPayload[n];if(r){let s=r.attachments;s&&(this.attachmentDialog=this.dialog.open(rt.a,{width:"50%",height:"auto",disableClose:!1,data:{file:s}}),this.attachmentDialog.afterClosed().subscribe(l=>{if(0!=l.length)for(let c of l)this.bookingAttachmentData.splice(c,1);this.chgDetector.markForCheck()}))}}onFormSubmit(e){if(this.bookingTestSaveData=[],this.bookingDetailsForm.valid){this.spinner=!0;const n={...this.bookingDetailsForm.value};this.testItemsPayload.forEach((r,s)=>{let l={test:r.id,discount:Number(r.discount),conscent_form:r.consent_form.id,attachments:[]};r.attachments.forEach((c,p)=>{l.attachments.push(c.path)}),this.bookingTestSaveData.push(l)}),this.bookingSaveData={order_type:"CUSTOMER",package_type:"SINGLE",center:this.center_id,patient_id:this.patient_info.id,amount:this.bill_net_total||0,referral:n.referralInput||"",comments:n.refCommentInput||"",concession_type:n.concessionTypeInput||"",concession:n.concessionAmountInput||0,additional_amount:n.concessionAddonAmountInput||0,payment_comment:n.commentInput||"",order_test_details:this.bookingTestSaveData,payment_details:[{amount:n.payAmountInput,payment_type:this.selectedPaymentType.value}]},this.regService.createTestOrder(this.bookingSaveData).subscribe({next:r=>{this.spinner=!1,"success"==r.status?(this.snackBbar.open(r.message,"Success"),this.router.navigateByUrl("order")):this.snackBbar.open(r.message,"error"),this.chgDetector.detectChanges()},error:r=>{this.isLoading=!1,this.snackBbar.open(400==r.status?r.error.error:"Something went wrong",""),this.chgDetector.detectChanges()}})}}onConcessionTypeChange(e){"percentage"==this.bookingDetailsForm.controls.concessionTypeInput.value?(this.bookingDetailsForm.controls.concessionAmountInput.setValidators([a.kI.min(.1),a.kI.max(100)]),this.bookingDetailsForm.controls.concessionAmountInput.value>100?this.bookingDetailsForm.patchValue({concessionAmountInput:100}):this.bookingDetailsForm.controls.concessionAmountInput.value<0&&this.bookingDetailsForm.patchValue({concessionAmountInput:0})):"amount"==this.bookingDetailsForm.controls.concessionTypeInput.value&&(this.bookingDetailsForm.controls.concessionAmountInput.setValidators([a.kI.min(0),a.kI.max(this.bill_total)]),(this.bookingDetailsForm.controls.concessionAmountInput.value>this.bill_total||this.bookingDetailsForm.controls.concessionAmountInput.value<0)&&this.bookingDetailsForm.patchValue({concessionAmountInput:0}));let n=this.concession_types.filter(function(s){return s.value==e.target.value});this.concession_type_label=n[0].key,this.bookingDetailsForm.patchValue({concessionTypeInput:n[0].value}),this.onConcessionAmtChange(this.bookingDetailsForm.value.concessionAmountInput)}onConcessionAmtChange(e){e=Number(e);let n=this.bookingDetailsForm.value,r=e/this.bill_total*100;this.testItemsPayload.forEach((s,l)=>{"percentage"==n.concessionTypeInput?s.discount=Number(s.price*e/100).toFixed(2):"amount"==n.concessionTypeInput&&(s.discount=Number(s.price*r/100).toFixed(2))}),this.updateBillPayment()}onAddonAmtChange(e){this.additional_amount=this.bookingDetailsForm.controls.concessionAddonAmountInput.value,this.updateBillPayment()}onAddPaymentDialog(e){this.dialog.open(e,{width:"1024px",panelClass:"my-dialog"})}updateBillPayment(){this.consession_amount=0,this.bill_total=0,this.testItemsPayload.forEach((e,n)=>{this.consession_amount+=Number(e.discount),this.bill_total+=Number(e.price)}),this.bill_sub_total=Number(this.bill_total)-this.consession_amount+this.additional_amount,this.bill_gst_total=this.bill_sub_total*this.gst_perc/100,this.bill_gst_cgst=this.bill_gst_total/2,this.bill_gst_sgst=this.bill_gst_total-this.bill_gst_cgst,this.bill_net_total=this.bill_sub_total+this.bill_gst_total,this.amount_due=Number(this.bill_net_total-this.amount_paid),this.amount_topay=Number(this.amount_due).toFixed(2)}close(){this.router.navigateByUrl("registration/customer")}openDialog(){}onPaymentTypeClick(e){this.selectedPaymentType=e}getPatient(){const e=this.actRouter.snapshot.paramMap.get("id");e&&(this.spinner=!0,this.regService.getCustomer(e).subscribe({next:n=>{this.spinner=!1,"success"==n.status?(this.patient_info=n.data,this.img=this.patient_info.profile_image,this.bookingDetailsForm.patchValue(this.patient_info)):this.snackBbar.open(n.message,"success"),this.chgDetector.detectChanges()},error:n=>{this.spinner=!1,this.snackBbar.open(400==n.status?n.error.error:"Something went wrong",""),this.chgDetector.detectChanges()}}))}updateTestSelectContainer(){this.selectanelTestContainer=".test-autocomplete",this.testItemsFG.patchValue({testNameInput:"",priceInput:"",discountAmtInput:"",formAttach:"",consentAttach:""})}testDisplayWithFn(e){return e?.name??""}onCloseTestContainer(){this.selectanelTestContainer=""}onTestSelection(e){if(this.selectedTest=e.option.value,null!=this.selectedTest.consent_form){let n=this.selectedTest.consent_form.file_name.split(" ")[0];this.selectedTest.consent_form.full_path=this.selectedTest.consent_form.file_path+"/"+n}this.testItemsFG.patchValue({testNameInput:this.selectedTest.id,priceInput:this.selectedTest.price,discountAmtInput:0,formAttach:"",consentAttach:this.selectedTest.consent_form?.full_path||""})}loadMoreTests(){this.searchTestUseAutoComplete.loadMoreData(()=>{},()=>{})}testSearchAutocompleteSetup(){let e=this.searchTestInput.valueChanges;this.isLoading=!0,this.chgDetector.markForCheck(),e&&(this.searchTestUseAutoComplete.loadDependency(this.chgDetector,this.unsubscribe$,e),this.searchTestUseAutoComplete.pagination.perPage=25,this.searchTestUseAutoComplete.apiEndpointMethod=()=>{let n={gender:this.patient_info.gender,filter:{}};return this.searchTestUseAutoComplete.searchStr.length>0?(n.filter={search:this.searchTestUseAutoComplete.searchStr,search_by:"name"},this.regService.getCenterTestSearch(this.center_id,n).pipe((0,b.U)(r=>(this.isLoading=!1,this.testDataSource=r.data.results,this.chgDetector.markForCheck(),r.data)))):this.regService.getCenterTestSearch(this.center_id,n).pipe((0,b.U)(r=>(this.spinner=!1,this.testDataSource=r.data.results,this.chgDetector.markForCheck(),r.data)))},this.searchTestUseAutoComplete.listenForAutoCompleteSearchFormControl(this.searchTestInput,()=>{},n=>{}),this.searchTestUseAutoComplete.loadData(()=>{},()=>{}))}centerSearchAutocompleteSetup(){let e=this.centerSearchInput?.valueChanges;e&&(this.searchCentersUseAutoComplete.loadDependency(this.chgDetector,this.unsubscribe2$,e),this.searchCentersUseAutoComplete.pagination.perPage=25,this.searchCentersUseAutoComplete.apiEndpointMethod=()=>{let n={filter:{}};return this.searchCentersUseAutoComplete.searchStr.length>0&&(n.filter={search:this.searchCentersUseAutoComplete.searchStr,search_by:"name"}),this.regService.getCenterSearch(n).pipe((0,b.U)(r=>(this.spinner=!1,r.data)))},this.searchCentersUseAutoComplete.listenForAutoCompleteSearchFormControl(this.centerSearchInput,()=>{},n=>{}),this.searchCentersUseAutoComplete.loadData(()=>{},()=>{}))}updateCenterSelectContainer(){this.selectanelCenterContainer="centers-autocomplete"}onCloseCenterContainer(){this.selectanelCenterContainer=""}centerDisplayWithFn(e){return e?.name??""}onCenterSelection(e){this.center_id=e.option.value.id,this.spinner=!0,this.testSearchAutocompleteSetup(),this.chgDetector.markForCheck()}loadMoreCenters(){this.searchCentersUseAutoComplete.loadMoreData(()=>{},()=>{})}backToRegister(){this.router.navigateByUrl("registration/customer",{state:{id:this.patient_info.id}})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(a.qu),t.Y36(C.F0),t.Y36(q.uw),t.Y36(he),t.Y36(t.sBO),t.Y36(q.uw),t.Y36(W.ux),t.Y36(H.x),t.Y36(v.Bb),t.Y36(C.gz),t.Y36(K.c),t.Y36(t.soG))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-register-book"]],hostBindings:function(e,n){1&e&&t.NdJ("change",function(s){return n.emitFiles(s.target.files)})},inputs:{name:"name"},decls:320,vars:94,consts:[[1,"customer-details__tab--basic"],[1,"col-sm-12",3,"formGroup","ngSubmit"],[1,"row","customer-details__tab--basic-view"],[1,"header"],[1,"sub-header"],["svgIcon","appClock1",3,"click"],["startTimePicker",""],[1,"primary",3,"click"],[1,"hidden-control"],["placeholder","Enter Name","appearance","outline","matInput","","placeholder","Date","autocomplete","off","formControlName","scheduleDateInput",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["svgIcon","appCalendar","matDatepickerToggleIcon","",1,"dateicon"],[1,"register-close-icon"],["svgIcon","appCustomerRegistrationClose",3,"click"],[1,"col-sm-12","customer-details__tab--basic-top"],[1,"row"],[1,"col-sm-4","customer-details__tab--basic-top_img"],["alt","",3,"src"],[1,"col-sm-6","customer-details__tab--basic-top_details"],[1,"customer-details__tab--basic-top_detail"],[1,"col-sm-6"],[1,"primary","line-break"],[1,"col-sm-12","customer-details__tab--basic-bottom"],[1,"customer-details-edit_form"],[1,"col-md-6","col-sm-12"],[1,"customer-details__tab--basic-bottom_detail"],["for",""],["floatLabel","never","appearance","outline","matAutocompleteOrigin","",1,"agm-input-lg"],["origin","matAutocompleteOrigin"],["matInput","",3,"formControl","matAutocomplete","matAutocompleteConnectedTo"],["centerSearchIP",""],["svgIcon","appDownArrow","matSuffix",""],["autoActiveFirstOption","",1,"autocomplete-scroll",3,"displayWith","opened","closed","optionSelected"],["auto8","matAutocomplete"],["infiniteScroll","",1,"centers-autocomplete",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","fromRoot","immediateCheck","alwaysCallback","infiniteScrollContainer","scrolled"],[3,"value",4,"ngFor","ngForOf"],[1,"mb"],[1,"booking_details"],["formArrayName","bookingTestItems",1,"booking-details__items"],[1,"row","lg_label",2,"margin-bottom","10px"],[1,"col-lg-12"],[1,"col-lg-3","col-sm-3"],[1,"primary"],[1,"col-lg-2","col-sm-2"],[1,"col-lg-5","col-sm-5"],[1,"col-lg-4","col-sm-4"],["matTable",""],[3,"formGroup"],[1,"col-md-3","col-sm-3"],["appearance","outline"],["formControlName","testNameInput","type","hidden"],["testNameInput",""],["matInput","","placeholder","Test Name",3,"formControl","matAutocomplete"],["auto5","matAutocomplete"],["infiniteScroll","",1,"test-autocomplete",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","fromRoot","immediateCheck","alwaysCallback","infiniteScrollContainer","scrolled"],["disabled","true",4,"ngIf"],["matSuffix",""],[1,"col-md-2","col-sm-2"],[1,"primary","sm_label"],["floatLabel","never","appearance","outline",1,"agm-input-lg"],["matPrefix",""],["type","number","placeholder","Price","appearance","outline","matInput","","formControlName","priceInput","autocomplete","off","readonly","readonly"],["type","number","placeholder","Discount","appearance","outline","matInput","","formControlName","discountAmtInput","autocomplete","off","readonly",""],[1,"col-md-5","col-sm-5"],[1,"col-md-4","col-sm-4"],["class","spinner-container",4,"ngIf"],["class","text-center button-groups2",4,"ngIf"],[1,"text-center","button-groups2"],["type","hidden","formControlName","consentAttach"],["consentAttach",""],[1,"col-md-4","col-sm-4","text-center","button-groups"],["type","button","mat-mini-fab","","color","primary",3,"disabled","click"],["class","payload_test_table",4,"ngIf"],[1,"col-md-3","col-sm-6"],["placeholder","Select","formControlName","referralInput",3,"ngModel","ngModelChange"],[1,"col-md-6","col-sm-6"],["type","text","placeholder","comments","appearance","outline","matInput","","formControlName","refCommentInput","autocomplete","off"],["cla","","ss","mb"],[1,"row","booking-details__bottom"],[1,"col-sm-3"],[1,"col-lg-12","col-md-12","col-sm-12"],["type","button",1,"ctype","mat-icon-button",2,"padding","2px","right","5px","top","-5px","width","20px","height","20px",3,"matMenuTriggerFor","disabled"],["xPosition","before","yPosition","below"],["menu","matMenu"],["mat-menu-item","",3,"value","click",4,"ngFor","ngForOf"],["type","hidden","formControlName","concessionTypeInput",3,"value"],["concessionTypeInput",""],[1,"col-sm-12"],["type","number","placeholder","","appearance","outline","matInput","","formControlName","concessionAmountInput","autocomplete","off",3,"ngModelChange"],["concessionAmountInput",""],[4,"ngIf"],["type","number","placeholder","","appearance","outline","matInput","","formControlName","concessionAddonAmountInput","autocomplete","off",3,"ngModelChange"],[3,"vertical"],[1,"col-sm-4"],[1,"primary","col-md-7"],[1,"primary","col-md-5","text-right"],["class","row",4,"ngIf"],[1,"primary","col-md-7","text-left"],[1,""],["type","text","placeholder","comments","appearance","outline","matInput","","formControlName","commentInput"],[1,"col-sm-5"],[1,"primary","col-md-8"],[1,"primary","col-md-4","text-right"],["type","hidden","formControlName","billAmountInput",3,"value"],[1,"payment_types"],[4,"ngFor","ngForOf"],["type","button","mat-button","",3,"matMenuTriggerFor"],["svgIcon","appCustomerRegistrationDownIcon"],["pmmenu","matMenu"],["mat-menu-item",""],[1,"primary",2,"display","block","margin-top","13px"],[1,"col-lg-6","col-sm-6"],["type","number","appearance","outline","matInput","","formControlName","payAmountInput",3,"ngModel","ngModelChange"],["type","button","mat-button","",1,"addMorePayment",3,"click"],["class","row customer-details__tab--basic-btns",4,"ngIf"],["addPaymentDialog",""],["class","spinner",4,"ngIf"],[3,"value"],["disabled","true"],[1,"spinner-container"],["diameter","70",1,"spinner1"],["type","hidden","formControlName","formAttach"],["formAttach",""],["type","file","accept",".png, .jpg, .jpeg","multiple","",2,"display","none",3,"change"],["formAttachment",""],["type","button","mat-stroked-button","",3,"disabled","click"],["svgIcon","appAttachment"],["type","button","mat-stroked-button","",3,"click",4,"ngIf"],["type","button","mat-stroked-button","",3,"click"],[1,"payload_test_table"],["class","row add-cons-line",4,"ngFor","ngForOf"],[1,"row","add-cons-line"],[1,"col-lg-3","col-md-3","col-sm-3","add-cons-data"],[1,"col-lg-2","col-md-2","col-sm-2","add-cons-data"],[1,"text-right"],[1,"col-lg-5","col-md-5","col-sm-5","add-cons-icon"],[1,"col-lg-4","col-md-4","col-sm-4"],["type","button","mat-stroked-button","","style","width: 100%",3,"click",4,"ngIf"],["target","_blank","mat-stroked-button","","style","width: 100%",3,"href",4,"ngIf"],["mat-mini-fab","","color","primary",3,"click"],["type","button","mat-stroked-button","",2,"width","100%",3,"click"],["target","_blank","mat-stroked-button","",2,"width","100%",3,"href"],["svgIcon","appConsentAttach"],["mat-menu-item","",3,"value","click"],[1,"primary","col-md-12","text-left"],["mat-button","","type","button",3,"selected","value","click",4,"ngIf"],["mat-button","","type","button",3,"value","click"],[1,"row","customer-details__tab--basic-btns"],[1,"col-lg-8","col-sm-8","customer-details__tab--basic__btn"],[1,"margin-rt"],["mat-button","","type","button",1,"customer-details__tab--basic__btn--cancel",3,"click"],["type","submit","mat-button","",1,"customer-details__tab--basic__btn--update"],["mat-icon-button","","aria-label","close dialog","mat-dialog-close",""],["formArrayName","bookingPaymentItems",1,"col-lg-12","table4"],[1,"col-lg-2","t4head"],[1,"col-lg-3","t4head"],[1,"payment_type_box-body"],["class","payment_type_box-fields row t4bodyrow",4,"ngFor","ngForOf"],[1,"payment_type_box-fields","row","t4bodyrow"],[3,"formGroupName"],[1,"col-lg-2","t4cell"],["appearance","outline",1,"agm-input"],["formControlName","payment_type","placeholder","Title"],[1,"col-lg-3","t4cell"],["matInput","","type","text","formControlName","transaction_number","placeholder","Cheque / Card No","autocomplete","off"],["matInput","","type","text","formControlName","bank_name","placeholder","Bank Name","autocomplete","off"],["matInput","","type","number","formControlName","amount","placeholder","Amount","autocomplete","off"],["mat-mini-fab","","color","primary",4,"ngIf"],["mat-mini-fab","","color","primary"],[1,"spinner"]],template:function(e,n){if(1&e){const r=t.EpF();t.TgZ(0,"div",0)(1,"form",1),t.NdJ("ngSubmit",function(l){return n.onFormSubmit(l)}),t.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"mat-icon",5),t.NdJ("click",function(){t.CHM(r);const l=t.MAs(7);return t.KtG(l.open())}),t.qZA(),t._UZ(6,"ngx-material-timepicker",null,6),t.TgZ(8,"span",7),t.NdJ("click",function(){t.CHM(r);const l=t.MAs(14);return t.KtG(l.open())}),t._uU(9,"Schedule"),t.qZA(),t.TgZ(10,"div",8),t._UZ(11,"input",9),t.TgZ(12,"mat-datepicker-toggle",10),t._UZ(13,"mat-datepicker",null,11)(15,"mat-icon",12),t.qZA()()(),t.TgZ(16,"div",13)(17,"mat-icon",14),t.NdJ("click",function(){return n.backToRegister()}),t.qZA()()(),t.TgZ(18,"div",15)(19,"div",16)(20,"div",17),t._UZ(21,"img",18),t.qZA(),t.TgZ(22,"div",19)(23,"div",20)(24,"div",16)(25,"div",21)(26,"p"),t._uU(27,"Patient ID"),t.qZA()(),t.TgZ(28,"div",21)(29,"p",22),t._uU(30),t.qZA()()()(),t.TgZ(31,"div",20)(32,"div",16)(33,"div",21)(34,"p"),t._uU(35,"Name"),t.qZA()(),t.TgZ(36,"div",21)(37,"p",22),t._uU(38),t.ALo(39,"titlecase"),t.qZA()()()(),t.TgZ(40,"div",20)(41,"div",16)(42,"div",21)(43,"p"),t._uU(44,"Mobile Number"),t.qZA()(),t.TgZ(45,"div",21)(46,"p",22),t._uU(47),t.qZA()()()(),t.TgZ(48,"div",20)(49,"div",16)(50,"div",21)(51,"p"),t._uU(52,"Age"),t.qZA()(),t.TgZ(53,"div",21)(54,"p",22),t._uU(55),t.ALo(56,"age"),t.qZA()()()(),t.TgZ(57,"div",20)(58,"div",16)(59,"div",21)(60,"p"),t._uU(61,"Gender"),t.qZA()(),t.TgZ(62,"div",21)(63,"p",22),t._uU(64),t.qZA()()()(),t.TgZ(65,"div",20)(66,"div",16)(67,"div",21)(68,"p"),t._uU(69,"Email"),t.qZA()(),t.TgZ(70,"div",21)(71,"p",22),t._uU(72),t.qZA()()()(),t.TgZ(73,"div",20)(74,"div",16)(75,"div",21)(76,"p"),t._uU(77,"Referral"),t.qZA()(),t.TgZ(78,"div",21)(79,"p",22),t._uU(80),t.ALo(81,"titlecase"),t.qZA()()()(),t.TgZ(82,"div",20)(83,"div",16)(84,"div",21)(85,"p"),t._uU(86,"Patient Type"),t.qZA()(),t.TgZ(87,"div",21)(88,"p",22),t._uU(89),t.ALo(90,"titlecase"),t.qZA()()()()()()(),t.TgZ(91,"div",23)(92,"div",16)(93,"div",24)(94,"div",16)(95,"div",25)(96,"div",16)(97,"div",21)(98,"div",26)(99,"label",27),t._uU(100,"Select Center"),t.qZA(),t.TgZ(101,"mat-form-field",28,29),t._UZ(103,"input",30,31)(105,"mat-icon",32),t.TgZ(106,"mat-autocomplete",33,34),t.NdJ("opened",function(){return n.updateCenterSelectContainer()})("closed",function(){return n.onCloseCenterContainer()})("optionSelected",function(l){return n.onCenterSelection(l)}),t.TgZ(108,"div",35),t.NdJ("scrolled",function(){return n.loadMoreCenters()}),t.YNc(109,ve,2,2,"mat-option",36),t.YNc(110,Ze,2,2,"mat-option",36),t.qZA()()()()()()()(),t._UZ(111,"mat-divider",37),t.TgZ(112,"div",38)(113,"div",39)(114,"div",40)(115,"div",41)(116,"div",42)(117,"span",43),t._uU(118,"Test Name"),t.qZA()(),t.TgZ(119,"div",44)(120,"span",43),t._uU(121,"Price"),t.qZA()(),t.TgZ(122,"div",44)(123,"span",43),t._uU(124,"Discount"),t.qZA()(),t.TgZ(125,"div",45)(126,"div",16)(127,"div",46)(128,"span",43),t._uU(129,"Attachments Form"),t.qZA()(),t.TgZ(130,"div",46)(131,"span",43),t._uU(132,"Consent Form"),t.qZA()(),t.TgZ(133,"div",46)(134,"span",43),t._uU(135,"\xa0"),t.qZA()()()()()(),t.TgZ(136,"div",16,47)(138,"div",41),t.ynx(139,48),t.TgZ(140,"div",49)(141,"mat-form-field",50),t._UZ(142,"input",51,52)(144,"input",53),t.TgZ(145,"mat-autocomplete",33,54),t.NdJ("opened",function(){return n.updateTestSelectContainer()})("closed",function(){return n.onCloseTestContainer()})("optionSelected",function(l){return n.onTestSelection(l)}),t.TgZ(147,"div",55),t.NdJ("scrolled",function(){return n.loadMoreTests()}),t.YNc(148,Ae,2,2,"mat-option",36),t.YNc(149,ye,2,0,"mat-option",56),t.qZA()(),t.TgZ(150,"mat-icon",57),t._uU(151,"search"),t.qZA()()(),t.TgZ(152,"div",58)(153,"span",59),t._uU(154,"Price"),t.qZA(),t.TgZ(155,"mat-form-field",60)(156,"mat-icon",61),t._uU(157,"\u20b9"),t.qZA(),t._UZ(158,"input",62),t.qZA()(),t.TgZ(159,"div",58)(160,"span",59),t._uU(161,"Discount"),t.qZA(),t.TgZ(162,"mat-form-field",60)(163,"mat-icon",61),t._uU(164,"\u20b9"),t.qZA(),t._UZ(165,"input",63),t.qZA()(),t.TgZ(166,"div",64)(167,"div",16)(168,"div",65)(169,"span",59),t._uU(170,"Attachments Form"),t.qZA(),t.YNc(171,Te,2,0,"div",66),t.YNc(172,Ie,8,2,"div",67),t.qZA(),t.TgZ(173,"div",65)(174,"span",59),t._uU(175,"Consent Form"),t.qZA(),t.TgZ(176,"div",68),t._UZ(177,"input",69,70),t.qZA()(),t.TgZ(179,"div",71)(180,"button",72),t.NdJ("click",function(){return n.onAddTestItem()}),t.TgZ(181,"mat-icon"),t._uU(182,"add"),t.qZA()()()()(),t.BQk(),t.qZA()(),t.YNc(183,qe,2,1,"div",73),t.qZA(),t._UZ(184,"mat-divider",37),t.TgZ(185,"div",16)(186,"div",74)(187,"div",26)(188,"label",27),t._uU(189,"Referrals"),t.qZA(),t.TgZ(190,"mat-form-field",60)(191,"mat-select",75),t.NdJ("ngModelChange",function(l){return n.referral_types[0].value=l}),t.YNc(192,Me,2,2,"mat-option",36),t.qZA(),t._UZ(193,"mat-icon",32),t.qZA()()(),t.TgZ(194,"div",76)(195,"div",26)(196,"label",27),t._uU(197,"Comments"),t.qZA(),t.TgZ(198,"mat-form-field",60),t._UZ(199,"input",77),t.qZA()()()(),t._UZ(200,"mat-divider",78),t.TgZ(201,"div",79)(202,"div",80)(203,"h3"),t._uU(204,"Payment Information"),t.qZA(),t.TgZ(205,"div",16)(206,"div",81)(207,"label",27),t._uU(208," Concession Type "),t.TgZ(209,"button",82),t._uU(210),t.qZA(),t.TgZ(211,"mat-menu",83,84),t.YNc(213,Oe,3,2,"button",85),t.qZA(),t._UZ(214,"input",86,87),t.qZA(),t.TgZ(216,"div",16)(217,"div",88)(218,"mat-form-field",60)(219,"input",89,90),t.NdJ("ngModelChange",function(){t.CHM(r);const l=t.MAs(220);return t.KtG(n.onConcessionAmtChange(l.value))}),t.qZA(),t.YNc(221,Ue,2,0,"mat-error",91),t.YNc(222,Ne,2,0,"mat-error",91),t.YNc(223,Fe,2,1,"mat-error",91),t.YNc(224,Re,2,1,"mat-error",91),t.qZA()()()()(),t.TgZ(225,"div",16)(226,"div",81)(227,"label",27),t._uU(228,"Additional Amount"),t.qZA(),t.TgZ(229,"mat-form-field",60)(230,"mat-icon",61),t._uU(231,"\u20b9"),t.qZA(),t.TgZ(232,"input",92),t.NdJ("ngModelChange",function(l){return n.onAddonAmtChange(l)}),t.qZA()()()()(),t._UZ(233,"mat-divider",93),t.TgZ(234,"div",94)(235,"div",16)(236,"p",95),t._uU(237,"Test Amount"),t.qZA(),t.TgZ(238,"p",96),t._uU(239),t.ALo(240,"currency"),t.qZA()(),t.YNc(241,Se,6,3,"div",97),t.YNc(242,De,6,3,"div",97),t._UZ(243,"mat-divider",37),t.TgZ(244,"div",16)(245,"p",98),t._uU(246,"Sub Total"),t.qZA(),t.TgZ(247,"p",96),t._uU(248),t.ALo(249,"currency"),t.qZA()(),t.TgZ(250,"div",16)(251,"p",98),t._uU(252),t.qZA(),t.TgZ(253,"p",96),t._uU(254),t.ALo(255,"currency"),t.qZA()(),t.YNc(256,Je,6,6,"div",97),t.TgZ(257,"div",16)(258,"p",95),t._uU(259,"Total Due"),t.qZA(),t.TgZ(260,"p",96),t._uU(261),t.ALo(262,"currency"),t.qZA()(),t.TgZ(263,"div",99)(264,"label",27),t._uU(265,"Comments"),t.qZA(),t.TgZ(266,"mat-form-field",60),t._UZ(267,"input",100),t.qZA()()(),t._UZ(268,"mat-divider",93),t.TgZ(269,"div",101)(270,"div",16)(271,"p",102),t._uU(272,"Payment Amount"),t.qZA(),t.TgZ(273,"p",103),t._uU(274),t.ALo(275,"currency"),t._UZ(276,"input",104),t.qZA()(),t.TgZ(277,"div",16)(278,"p",102),t._uU(279,"Amount Paid"),t.qZA(),t.TgZ(280,"p",103),t._uU(281),t.ALo(282,"currency"),t.qZA()(),t.TgZ(283,"div",16)(284,"p",102),t._uU(285,"Amount Due"),t.qZA(),t.TgZ(286,"p",103),t._uU(287),t.ALo(288,"currency"),t.qZA()(),t._UZ(289,"mat-divider",37),t.TgZ(290,"div",16)(291,"div",41)(292,"ul",105),t.YNc(293,Qe,2,1,"li",106),t.TgZ(294,"li")(295,"button",107),t._uU(296," More "),t._UZ(297,"mat-icon",108),t.qZA(),t.TgZ(298,"mat-menu",83,109)(300,"button",110)(301,"span"),t._uU(302,"Credit card"),t.qZA()()()()()()(),t.TgZ(303,"div",16)(304,"div",42)(305,"p",111),t._uU(306," Amount "),t.qZA()(),t.TgZ(307,"div",112)(308,"mat-form-field",60)(309,"mat-icon",61),t._uU(310,"\u20b9"),t.qZA(),t.TgZ(311,"input",113),t.NdJ("ngModelChange",function(l){return n.amount_topay=l}),t.qZA()()(),t.TgZ(312,"div",42)(313,"button",114),t.NdJ("click",function(){t.CHM(r);const l=t.MAs(318);return t.KtG(n.onAddPaymentDialog(l))}),t._uU(314," Add "),t.qZA()()()()(),t._UZ(315,"mat-divider"),t.YNc(316,Ye,10,0,"div",115),t.qZA()()()()(),t.YNc(317,Ve,19,1,"ng-template",null,116,t.W1O),t.qZA(),t.YNc(319,Ge,2,0,"div",117),t.qZA()}if(2&e){const r=t.MAs(14),s=t.MAs(102),l=t.MAs(107),c=t.MAs(143),p=t.MAs(146),h=t.MAs(212),u=t.MAs(215),A=t.MAs(299);let d,_,y,k,T;t.xp6(1),t.Q6J("formGroup",n.bookingDetailsForm),t.xp6(10),t.Q6J("matDatepicker",r),t.xp6(1),t.Q6J("for",r),t.xp6(9),t.MGl("src","",null!==(d=null==n.patient_info?null:n.patient_info.profile_image)&&void 0!==d?d:"assets/image/man 1.png","  ",t.LSH),t.xp6(9),t.Oqu(n.patient_info.username),t.xp6(8),t.hij(" ",t.lcZ(39,72,n.patient_info.name)," "),t.xp6(9),t.hij(" ",n.patient_info.mobile_number," "),t.xp6(8),t.Oqu(t.lcZ(56,74,n.patient_info.dob)),t.xp6(9),t.Oqu(n.patient_info.gender),t.xp6(8),t.Oqu(n.patient_info.email),t.xp6(8),t.hij(" ",t.lcZ(81,76,n.patient_info.referral)," "),t.xp6(9),t.hij(" ",t.lcZ(90,78,n.patient_info.patient_type)," "),t.xp6(14),t.Q6J("formControl",n.centerSearchInput)("matAutocomplete",l)("matAutocompleteConnectedTo",s),t.xp6(3),t.Q6J("displayWith",n.centerDisplayWithFn),t.xp6(2),t.Q6J("infiniteScrollDistance",1)("infiniteScrollThrottle",0)("scrollWindow",!1)("fromRoot",!1)("immediateCheck",!1)("alwaysCallback",!1)("infiniteScrollContainer",n.selectanelCenterContainer),t.xp6(1),t.Q6J("ngForOf",n.centers),t.xp6(1),t.Q6J("ngForOf",n.searchCentersUseAutoComplete.data),t.xp6(29),t.Q6J("formGroup",n.testItemsFG),t.xp6(5),t.Q6J("formControl",n.searchTestInput)("matAutocomplete",p),t.xp6(1),t.Q6J("displayWith",n.testDisplayWithFn),t.xp6(2),t.Q6J("infiniteScrollDistance",1)("infiniteScrollThrottle",0)("scrollWindow",!0)("fromRoot",!0)("immediateCheck",!1)("alwaysCallback",!1)("infiniteScrollContainer",n.selectanelTestContainer),t.xp6(1),t.Q6J("ngForOf",n.searchTestUseAutoComplete.data),t.xp6(1),t.Q6J("ngIf",!n.searchTestUseAutoComplete.data||!!n.searchTestUseAutoComplete.data&&0===n.searchTestUseAutoComplete.data.length),t.xp6(22),t.Q6J("ngIf",n.isLoading2),t.xp6(1),t.Q6J("ngIf",!n.isLoading2),t.xp6(8),t.Q6J("disabled",!c.value),t.xp6(3),t.Q6J("ngIf",n.testItemsPayload.length>0),t.xp6(8),t.Q6J("ngModel",n.referral_types[0].value),t.xp6(1),t.Q6J("ngForOf",n.referral_types),t.xp6(17),t.Q6J("matMenuTriggerFor",h)("disabled",!n.testItemsPayload.length),t.xp6(1),t.hij(" ( ",n.concession_type_label," ) "),t.xp6(3),t.Q6J("ngForOf",n.concession_types),t.xp6(1),t.Q6J("value",n.concession_type_val),t.xp6(7),t.Q6J("ngIf","percentage"==u.value&&(null==(_=n.bookingDetailsForm.get("concessionAmountInput"))||null==_.errors?null:_.errors.min)),t.xp6(1),t.Q6J("ngIf","percentage"==u.value&&(null==(y=n.bookingDetailsForm.get("concessionAmountInput"))||null==y.errors?null:y.errors.max)),t.xp6(1),t.Q6J("ngIf","amount"==u.value&&(null==(k=n.bookingDetailsForm.get("concessionAmountInput"))||null==k.errors?null:k.errors.min)),t.xp6(1),t.Q6J("ngIf","amount"==u.value&&(null==(T=n.bookingDetailsForm.get("concessionAmountInput"))||null==T.errors?null:T.errors.max)),t.xp6(9),t.Q6J("vertical",!0),t.xp6(6),t.hij(" ",t.lcZ(240,80,n.bill_total)," "),t.xp6(2),t.Q6J("ngIf",n.consession_amount>0),t.xp6(1),t.Q6J("ngIf",n.additional_amount>0),t.xp6(6),t.hij(" ",t.lcZ(249,82,n.bill_sub_total)," "),t.xp6(4),t.hij(" GST(",n.gst_perc,"%) "),t.xp6(2),t.hij(" ",t.lcZ(255,84,n.bill_gst_total)," "),t.xp6(2),t.Q6J("ngIf",n.bill_gst_total>0),t.xp6(5),t.hij(" ",t.lcZ(262,86,n.bill_net_total)," "),t.xp6(7),t.Q6J("vertical",!0),t.xp6(6),t.hij(" ",t.lcZ(275,88,n.bill_net_total)," "),t.xp6(2),t.s9C("value",n.bill_net_total),t.xp6(5),t.hij(" ",t.lcZ(282,90,n.amount_paid)," "),t.xp6(6),t.hij(" ",t.lcZ(288,92,n.amount_due)," "),t.xp6(6),t.Q6J("ngForOf",n.payment_types),t.xp6(2),t.Q6J("matMenuTriggerFor",A),t.xp6(16),t.Q6J("ngModel",n.amount_topay),t.xp6(5),t.Q6J("ngIf",n.bill_total>0),t.xp6(3),t.Q6J("ngIf",n.spinner)}},dependencies:[f.sg,f.O5,z.Hw,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.oH,a.sg,a.u,a.x0,a.CE,v.XC,v.ZL,v.BU,X.ey,Z.TO,Z.KE,Z.qo,Z.R9,tt.Nt,et.d,nt.gD,P.lW,P.zs,g.Mq,g.hl,g.nW,g.Q0,fe.oG,be.ro,it.Ou,q.ZT,O.VK,O.OP,O.p6,w.R,f.rS,at.C,Ce.Q],styles:[".margin-rt[_ngcontent-%COMP%]{margin-right:5%;margin-top:3%}.mb[_ngcontent-%COMP%]{margin-bottom:1em!important}.mat-stroked-button[_ngcontent-%COMP%]{padding:.2em;margin-top:.2em}button.addMorePayment[_ngcontent-%COMP%]{color:#0088fe!important}.button-groups2[_ngcontent-%COMP%]{text-align:center!important;display:flex!important;place-content:space-around!important}.button-groups2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%!important}.button-groups2[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{width:auto;margin-left:2px}.button-groups[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}.button-groups[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{margin-left:10px}  app-register-book .mat- form-field-appearance-outline .mat-form-field-suffix{top:0!important}.payment_type_box-fields[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%!important}.my-dialog[_ngcontent-%COMP%]   .mat-dialog-container[_ngcontent-%COMP%]{position:relative!important}.mat-icon-button[_ngcontent-%COMP%]{position:absolute!important;top:0!important;right:0!important;padding:5px;line-height:14px;min-width:auto}.ctype_icon[_ngcontent-%COMP%]{font-size:16px!important;font-family:sans-serif inherit!important;font-weight:600!important}.ctype.mat-icon-button[_ngcontent-%COMP%]{position:relative!important;top:0!important;right:5px!important;padding:2px;line-height:14px;min-width:auto}.payload_test_table[_ngcontent-%COMP%]{background:#f4f4f4;padding:5px;border-radius:5px;margin-bottom:10px;border:1px solid rgba(0,0,0,.05)}.table4[_ngcontent-%COMP%]   .t4head[_ngcontent-%COMP%]{border:1px solid #ccc;padding-top:10px;padding-bottom:10px;border-collapse:collapse}.table4[_ngcontent-%COMP%]   .t4bodyrow[_ngcontent-%COMP%]   .t4cell[_ngcontent-%COMP%]{border:1px solid #ccc;padding-top:5px;padding-bottom:5px}.table4[_ngcontent-%COMP%]   .t4bodyrow[_ngcontent-%COMP%]:first-child   .t4cell[_ngcontent-%COMP%]{border-top:none}.payload_test_table[_ngcontent-%COMP%]   .add-cons-line[_ngcontent-%COMP%]   .add-cons-data[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.12);padding-top:.8rem;padding-bottom:.25rem}.payload_test_table[_ngcontent-%COMP%]   .add-cons-line[_ngcontent-%COMP%]   .add-cons-icon[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.12);padding-bottom:.36rem}.payload_test_table[_ngcontent-%COMP%]   .add-cons-line[_ngcontent-%COMP%]:last-child   .add-cons-data[_ngcontent-%COMP%]{border-bottom:none}.payload_test_table[_ngcontent-%COMP%]   .add-cons-line[_ngcontent-%COMP%]:last-child   .add-cons-icon[_ngcontent-%COMP%]{border-bottom:none}.payment_types[_ngcontent-%COMP%]{margin:0 0 15px;padding:0}.payment_types[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;display:inline-block}.payment_types[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child   button[_ngcontent-%COMP%]{color:#0088fe}.payment_types[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{background-color:var(--secondary-color-400);border:1px solid var(--primary-color-0)}.sm_label[_ngcontent-%COMP%]{display:none}.customer-details[_ngcontent-%COMP%]{padding:1rem;font-family:Poppins,sans-serif}.customer-details__add-icon[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:2rem}.customer-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}.customer-details__title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1rem}.customer-details__title--tabs[_ngcontent-%COMP%]{display:flex}.customer-details__title--tabs[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:1rem;font-size:1.3rem}.customer-details__title--tabs[_ngcontent-%COMP%]   a.secondary[_ngcontent-%COMP%]{color:#424242cc}.customer-details__tab--basic[_ngcontent-%COMP%]{padding:2rem;margin-left:0;margin-right:0}.customer-details__tab--basic-view[_ngcontent-%COMP%]{border-radius:5px;padding:1rem}.customer-details__tab--basic-view[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;margin:2rem 0;justify-content:flex-end}.customer-details__tab--basic-view[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .sub-header[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-right:4rem}.customer-details__tab--basic-view[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .sub-header[_ngcontent-%COMP%]   .hidden-control[_ngcontent-%COMP%]{width:0;height:0;padding:0;margin:0;border:none;visibility:hidden}.customer-details__tab--basic-view[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .register-close-icon[_ngcontent-%COMP%]{padding:0 2rem;cursor:pointer}.customer-details__tab--basic-view[_ngcontent-%COMP%]   .customer-details__tab--basic-top[_ngcontent-%COMP%]{box-shadow:0 4px 25px #0003;padding:20px;background:#f4f4f4}.customer-details__tab--basic-view[_ngcontent-%COMP%]   .customer-details__tab--basic-left_img[_ngcontent-%COMP%], .customer-details__tab--basic-view[_ngcontent-%COMP%]   .customer-details__tab--basic-l_img[_ngcontent-%COMP%]{text-align:center}.customer-details__tab--basic-view[_ngcontent-%COMP%]   .customer-details__tab--basic-left_content[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin-top:1rem}.customer-details__tab--basic-view[_ngcontent-%COMP%]   .customer-details__tab--basic-top_details[_ngcontent-%COMP%]{display:flex;flex-direction:column}.customer-details__tab--basic-view[_ngcontent-%COMP%]   .customer-details__tab--basic-top_detail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left}.customer-details__tab--basic-view[_ngcontent-%COMP%]   .customer-details__tab--basic-top_detail[_ngcontent-%COMP%]   p.primary[_ngcontent-%COMP%]{overflow-wrap:break-word}.customer-details__tab--basic-view[_ngcontent-%COMP%]   .customer-details__tab--basic-bottom_detail[_ngcontent-%COMP%]{display:flex;flex-direction:column}.customer-details__tab--basic-view[_ngcontent-%COMP%]   .customer-details__tab--basic-bottom_detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#043752}.customer-details__tab--basic-view[_ngcontent-%COMP%]   .customer-details__tab--basic-bottom_detail[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:1rem!important;color:#043752cc}.customer-details__tab--basic-view[_ngcontent-%COMP%]   .booking-details__items[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%!important}.customer-details__tab--basic-view[_ngcontent-%COMP%]   .booking-details__bottom[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.customer-details__tab--basic-view[_ngcontent-%COMP%]   .booking-details__bottom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:1.2rem}.customer-details__tab--basic-view[_ngcontent-%COMP%]   .booking-details__bottom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{padding-left:15px}.customer-details__tab--basic-view[_ngcontent-%COMP%]   .booking-details__bottom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{padding-right:15px}.customer-details__tab--basic-view[_ngcontent-%COMP%]   .booking-details__bottom[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%!important}.customer-details__tab--basic-view[_ngcontent-%COMP%]   .booking-details__bottom[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#043752}.customer-details__tab--basic-view[_ngcontent-%COMP%]   .booking-details__bottom[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:1rem!important;color:#043752cc}.customer-details__tab--basic-view[_ngcontent-%COMP%]   .customer-details__tab--basic-bottom[_ngcontent-%COMP%]{padding:20px;color:#043752;margin-top:2rem}.customer-details__tab--basic-view[_ngcontent-%COMP%]   .customer-details__tab--basic-bottom[_ngcontent-%COMP%]     .mat-form-field-flex>.mat-form-field-infix{padding:.5em 0!important}.customer-details__tab--basic-view[_ngcontent-%COMP%]   .customer-details__tab--basic-bottom[_ngcontent-%COMP%]     .mat-radio-button.mat-accent.mat-radio-checked .mat-radio-outer-circle{border-color:#146300}.customer-details__tab--basic-view[_ngcontent-%COMP%]   .customer-details__tab--basic-bottom[_ngcontent-%COMP%]     .mat-radio-button.mat-accent .mat-radio-inner-circle{color:#146300;background-color:#146300}.customer-details__tab--basic-view[_ngcontent-%COMP%]   .customer-details__tab--basic-bottom[_ngcontent-%COMP%]     .mat-radio-button.mat-accent .mat-radio-ripple .mat-ripple-element{background-color:#146300}.customer-details__tab--basic-view[_ngcontent-%COMP%]   .customer-details__tab--basic-bottom_footer[_ngcontent-%COMP%]{padding:20px;color:#043752}.customer-details__tab--basic-view[_ngcontent-%COMP%]   .customer-details__tab--basic-bottom_footer[_ngcontent-%COMP%]   .col-sm-10[_ngcontent-%COMP%]{height:100px;display:flex;flex-direction:column;justify-content:space-between}.customer-details__tab--basic-view[_ngcontent-%COMP%]   .customer-details__tab--basic-bottom_footer[_ngcontent-%COMP%]     .mat-checkbox-ripple .mat-ripple-element, .customer-details__tab--basic-view[_ngcontent-%COMP%]   .customer-details__tab--basic-bottom_footer[_ngcontent-%COMP%]     .mat-checkbox-checked.mat-accent .mat-checkbox-background{background-color:#043752!important}.customer-details__tab--basic-view[_ngcontent-%COMP%]   .customer-details__tab--basic-bottom_footer[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]{padding:10px}.customer-details__tab--basic-view[_ngcontent-%COMP%]   .customer-details__tab--basic-top_img[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.customer-details__tab--basic-view[_ngcontent-%COMP%]   .customer-details__tab--basic-top_img[_ngcontent-%COMP%]   app-agm-photo[_ngcontent-%COMP%]{max-width:300px}.customer-details__tab--basic__btn[_ngcontent-%COMP%]{display:flex;justify-content:end}.customer-details__tab--basic__btn[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{padding:13px 30px;font-family:Poppins,sans-serif;width:40%;border-radius:10px;font-size:1.2rem}.customer-details__tab--basic__btn--cancel[_ngcontent-%COMP%]{box-shadow:0 4px 4px #00000040;outline:1px solid #043752;color:#043752}.customer-details__tab--basic__btn--update[_ngcontent-%COMP%]{background-color:#043752;box-shadow:0 4px 4px #00000040;color:#fff;margin-left:2rem}@media only screen and (min-width: 576px) and (max-width: 768px){.customer-details__tab--basic[_ngcontent-%COMP%]   .lg_label[_ngcontent-%COMP%]{display:none}.customer-details__tab--basic[_ngcontent-%COMP%]   .sm_label[_ngcontent-%COMP%]{display:block}}@media only screen and (min-width: 993px){.customer-details__title--tabs[_ngcontent-%COMP%]{display:none}}.customer-details[_ngcontent-%COMP%]   .form-action-btn[_ngcontent-%COMP%]{width:100%;display:flex;margin-top:50px;justify-content:end}@media only screen and (min-width: 768px) and (max-width: 992px){.customer-details[_ngcontent-%COMP%]     .mat-tab-header{display:none!important}.customer-details__tab--basic-top[_ngcontent-%COMP%]{position:relative;background-color:#fff!important}.customer-details__tab--basic-bottom[_ngcontent-%COMP%]{background-color:#f4f4f4}.customer-details__tab--basic__btn[_ngcontent-%COMP%]{margin-top:1.3rem}}@media only screen and (min-width: 768px) and (max-width: 992px){.customer-details__tab--basic-top[_ngcontent-%COMP%]   #img[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 1025px){.customer-details__tab--basic-view[_ngcontent-%COMP%]   .customer-details__tab--basic-top_img[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.customer-details__tab--basic-view[_ngcontent-%COMP%]   .customer-details__tab--basic-top_img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px}}@media only screen and (min-width: 1441px){.customer-details__tab--basic-view[_ngcontent-%COMP%]{margin:1rem;padding:0;box-shadow:0 4px 25px #0003}.customer-details__tab--basic-view[_ngcontent-%COMP%]   .mb-15[_ngcontent-%COMP%]{margin-bottom:15%}.customer-details__tab--basic-view[_ngcontent-%COMP%]   .customer-details-edit_form[_ngcontent-%COMP%]{margin-left:20px;margin-right:20px}.customer-details__tab--basic-view[_ngcontent-%COMP%]   .customer-details__tab--basic-top[_ngcontent-%COMP%]{width:25%;min-height:700px}.customer-details__tab--basic-view[_ngcontent-%COMP%]   .customer-details__tab--basic-top[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%]{display:flex;flex-direction:column}.customer-details__tab--basic-view[_ngcontent-%COMP%]   .customer-details__tab--basic-top[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%]   .customer-details__tab--basic-top_img[_ngcontent-%COMP%]{width:100%;padding-bottom:2rem;border-bottom:1px solid rgba(0,0,0,.2)}.customer-details__tab--basic-view[_ngcontent-%COMP%]   .customer-details__tab--basic-top[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%]   .customer-details__tab--basic-top_details[_ngcontent-%COMP%]{margin-top:2rem;width:100%}.customer-details__tab--basic-view[_ngcontent-%COMP%]   .customer-details__tab--basic-bottom[_ngcontent-%COMP%]{width:75%}.customer-details__tab--basic-btns[_ngcontent-%COMP%]{margin-top:2rem}}@media only screen and (min-width: 768px) and (max-width: 992px){.customer-details__tab--basic-view[_ngcontent-%COMP%]   .customer-details__tab--basic-top[_ngcontent-%COMP%]{background-color:#fff!important}}@media only screen and (min-width: 992px) and (max-width: 1200px){.customer-details__tab--basic-view[_ngcontent-%COMP%]   .customer-details__tab--basic-top[_ngcontent-%COMP%]{background-color:#f4f4f4}}  .mat-select-arrow{opacity:0}.cash-btn[_ngcontent-%COMP%]{background-color:#04375233;width:68px;height:40px;padding-top:3%;text-align:center;border:2px solid #043752}.clk-4[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;left:650px}"],changeDetection:0}),o})()}]}];let He=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[ue.m,v.Bb,f.ez,w.X,C.Bz.forChild(We)]}),o})()}}]);